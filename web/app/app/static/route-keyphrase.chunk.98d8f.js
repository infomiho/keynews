webpackJsonp([1],{"4AYM":function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var r=h.a.utc(e.published_on).valueOf(),n=h.a.utc(t.published_on).valueOf();return r<n?1:r>n?-1:0}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"default",function(){return w});var a,s,l=r("KM04"),u=(r.n(l),r("E/bI")),c=r("a2/B"),h=r.n(c),d=r("QlVn"),p=r("WT05"),f=r.n(p),g=r("LbY6"),v=r("jglF"),y=r("/C1n"),m=r("nPj3"),b=Object(l.h)("p",{class:"subtitle is-6"},"Article from Wikipedia"),x=Object(l.h)("br",null),w=(a=Object(u.b)(null,{setLoading:d.b}))(s=function(e){function t(t){var r=n(this,e.call(this,t));return r.load=function(e){r.setState({keyphrase:void 0}),r.props.setLoading(!0),y.a.getKeyword(e).then(function(t){var n=t.data;r.setState({keyphrase:n}),r.props.setLoading(!1),y.a.getArticlesForKeyowrd(e,n.connected.map(function(e){return e.id[0]})).then(function(e){var t=e.data;t.sort(o),r.setState({articles:t})})}).catch(function(e){r.props.setLoading(!1),console.error(e)})},r.state={keyphrase:void 0,articles:[]},r}return i(t,e),t.prototype.componentDidMount=function(){this.load(this.props.matches.id)},t.prototype.componentWillReceiveProps=function(e){e.matches.id!==this.props.matches.id&&this.load(e.matches.id)},t.prototype.render=function(){var e=this.state,t=e.keyphrase,r=e.articles,n=t?t.connected.concat(t).map(function(e){return e.value}):[];return Object(l.h)("div",{class:f.a.keyphrase},t&&Object(l.h)("div",null,Object(l.h)("h1",{class:"title is-2"},t.value),Object(l.h)("div",{class:"columns"},Object(l.h)("div",{class:"column"},Object(l.h)(g.a,{elements:Object(v.b)([t])})),t.wikipedia_details&&Object(l.h)("div",{class:"column is-one-quarter"},Object(l.h)("div",{class:"card article-card"},Object(l.h)("div",{class:"card-image"},Object(l.h)("figure",{class:"article-image",style:{"background-image":"url("+t.wikipedia_details.image+")"}})),Object(l.h)("div",{class:"card-content"},Object(l.h)("div",{class:"media"},Object(l.h)("div",{class:"media-content"},Object(l.h)("p",{class:"title is-4"},t.wikipedia_details.heading),b)),Object(l.h)("div",{class:"content"},t.wikipedia_details.summary,x,Object(l.h)("a",{href:t.wikipedia_details.url},"Read more")))))),Object(l.h)("div",{class:"columns is-multiline"},r.map(function(e){return Object(l.h)(m.a,{article:e,highlight:n})}))))},t}(l.Component))||s},"4PZ+":function(e,t,r){(function(t){function r(e,t,r){function i(t){var r=g,n=v;return g=v=void 0,_=t,m=e.apply(n,r)}function o(e){return _=e,b=setTimeout(c,t),D?i(e):m}function l(e){var r=e-T,n=e-_,i=t-r;return C?w(i,y-n):i}function u(e){var r=e-T,n=e-_;return void 0===T||r>=t||r<0||C&&n>=y}function c(){var e=E();if(u(e))return h(e);b=setTimeout(c,l(e))}function h(e){return b=void 0,N&&g?i(e):(g=v=void 0,m)}function d(){void 0!==b&&clearTimeout(b),_=0,g=T=v=b=void 0}function p(){return void 0===b?m:h(E())}function f(){var e=E(),r=u(e);if(g=arguments,v=this,T=e,r){if(void 0===b)return o(T);if(C)return b=setTimeout(c,t),i(T)}return void 0===b&&(b=setTimeout(c,t)),m}var g,v,y,m,b,T,_=0,D=!1,C=!1,N=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,n(r)&&(D=!!r.leading,C="maxWait"in r,y=C?x(a(r.maxWait)||0,t):y,N="trailing"in r?!!r.trailing:N),f.cancel=d,f.flush=p,f}function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&b.call(e)==u}function a(e){if("number"==typeof e)return e;if(o(e))return l;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var r=d.test(e);return r||p.test(e)?f(e.slice(2),r?2:8):h.test(e)?l:+e}var s="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),m=Object.prototype,b=m.toString,x=Math.max,w=Math.min,E=function(){return y.Date.now()};e.exports=r}).call(t,r("h6ac"))},"6W3y":function(e,t){var r,n,i;(function(){var o,a,s,l,u,c,h,d,p,f,g,v,y,m,b;s=Math.floor,f=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},p=function(e,t,r,n,i){var o;if(null==r&&(r=0),null==i&&(i=a),r<0)throw new Error("lo must be non-negative");for(null==n&&(n=e.length);r<n;)o=s((r+n)/2),i(t,e[o])<0?n=o:r=o+1;return[].splice.apply(e,[r,r-r].concat(t)),t},c=function(e,t,r){return null==r&&(r=a),e.push(t),m(e,0,e.length-1,r)},u=function(e,t){var r,n;return null==t&&(t=a),r=e.pop(),e.length?(n=e[0],e[0]=r,b(e,0,t)):n=r,n},d=function(e,t,r){var n;return null==r&&(r=a),n=e[0],e[0]=t,b(e,0,r),n},h=function(e,t,r){var n;return null==r&&(r=a),e.length&&r(e[0],t)<0&&(n=[e[0],t],t=n[0],e[0]=n[1],b(e,0,r)),t},l=function(e,t){var r,n,i,o,l,u;for(null==t&&(t=a),o=function(){u=[];for(var t=0,r=s(e.length/2);0<=r?t<r:t>r;0<=r?t++:t--)u.push(t);return u}.apply(this).reverse(),l=[],n=0,i=o.length;n<i;n++)r=o[n],l.push(b(e,r,t));return l},y=function(e,t,r){var n;if(null==r&&(r=a),-1!==(n=e.indexOf(t)))return m(e,0,n,r),b(e,n,r)},g=function(e,t,r){var n,i,o,s,u;if(null==r&&(r=a),i=e.slice(0,t),!i.length)return i;for(l(i,r),u=e.slice(t),o=0,s=u.length;o<s;o++)n=u[o],h(i,n,r);return i.sort(r).reverse()},v=function(e,t,r){var n,i,o,s,c,h,d,g,v;if(null==r&&(r=a),10*t<=e.length){if(o=e.slice(0,t).sort(r),!o.length)return o;for(i=o[o.length-1],d=e.slice(t),s=0,h=d.length;s<h;s++)n=d[s],r(n,i)<0&&(p(o,n,0,null,r),o.pop(),i=o[o.length-1]);return o}for(l(e,r),v=[],c=0,g=f(t,e.length);0<=g?c<g:c>g;0<=g?++c:--c)v.push(u(e,r));return v},m=function(e,t,r,n){var i,o,s;for(null==n&&(n=a),i=e[r];r>t&&(s=r-1>>1,o=e[s],n(i,o)<0);)e[r]=o,r=s;return e[r]=i},b=function(e,t,r){var n,i,o,s,l;for(null==r&&(r=a),i=e.length,l=t,o=e[t],n=2*t+1;n<i;)s=n+1,s<i&&!(r(e[n],e[s])<0)&&(n=s),e[t]=e[n],t=n,n=2*t+1;return e[t]=o,m(e,l,t,r)},o=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=c,e.pop=u,e.replace=d,e.pushpop=h,e.heapify=l,e.updateItem=y,e.nlargest=g,e.nsmallest=v,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return u(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return d(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return h(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return y(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(o,a){n=[],r=a,void 0!==(i="function"==typeof r?r.apply(t,n):r)&&(e.exports=i)}(0,function(){return o})}).call(this)},EuaG:function(e){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}([function(e){"use strict";function t(){}t.PROOF_QUALITY=0,t.DEFAULT_QUALITY=1,t.DRAFT_QUALITY=2,t.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,t.DEFAULT_INCREMENTAL=!1,t.DEFAULT_ANIMATION_ON_LAYOUT=!0,t.DEFAULT_ANIMATION_DURING_LAYOUT=!1,t.DEFAULT_ANIMATION_PERIOD=50,t.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,t.DEFAULT_GRAPH_MARGIN=15,t.NODE_DIMENSIONS_INCLUDE_LABELS=!1,t.SIMPLE_NODE_SIZE=40,t.SIMPLE_NODE_HALF_SIZE=t.SIMPLE_NODE_SIZE/2,t.EMPTY_COMPOUND_NODE_SIZE=40,t.MIN_EDGE_LENGTH=1,t.WORLD_BOUNDARY=1e6,t.INITIAL_WORLD_BOUNDARY=t.WORLD_BOUNDARY/1e3,t.WORLD_CENTER_X=1200,t.WORLD_CENTER_Y=900,e.exports=t},function(e,t,r){"use strict";function n(){}var i=r(0);for(var o in i)n[o]=i[o];n.MAX_ITERATIONS=2500,n.DEFAULT_EDGE_LENGTH=50,n.DEFAULT_SPRING_STRENGTH=.45,n.DEFAULT_REPULSION_STRENGTH=4500,n.DEFAULT_GRAVITY_STRENGTH=.4,n.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,n.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,n.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,n.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,n.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,n.DEFAULT_COOLING_FACTOR_INCREMENTAL=.5,n.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,n.MAX_NODE_DISPLACEMENT=3*n.MAX_NODE_DISPLACEMENT_INCREMENTAL,n.MIN_REPULSION_DIST=n.DEFAULT_EDGE_LENGTH/10,n.CONVERGENCE_CHECK_PERIOD=100,n.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,n.MIN_EDGE_LENGTH=1,n.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=n},function(e){"use strict";function t(){}t.MAX_VALUE=2147483647,t.MIN_VALUE=-2147483648,e.exports=t},function(e,t,r){"use strict";function n(e,t,r){i.call(this,r),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=r,this.bendpoints=[],this.source=e,this.target=t}var i=r(10),o=r(7),a=r(8);n.prototype=Object.create(i.prototype);for(var s in i)n[s]=i[s];n.prototype.getSource=function(){return this.source},n.prototype.getTarget=function(){return this.target},n.prototype.isInterGraph=function(){return this.isInterGraph},n.prototype.getLength=function(){return this.length},n.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},n.prototype.getBendpoints=function(){return this.bendpoints},n.prototype.getLca=function(){return this.lca},n.prototype.getSourceInLca=function(){return this.sourceInLca},n.prototype.getTargetInLca=function(){return this.targetInLca},n.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},n.prototype.getOtherEndInGraph=function(e,t){for(var r=this.getOtherEnd(e),n=t.getGraphManager().getRoot();;){if(r.getOwner()==t)return r;if(r.getOwner()==n)break;r=r.getOwner().getParent()}return null},n.prototype.updateLength=function(){var e=new Array(4);(this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),e))||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},n.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){i.call(this,r),this.estimatedSize=o.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof s?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}var i=r(10),o=r(2),a=r(0),s=r(9),l=r(11),u=r(3),c=r(6),h=r(14),d=r(13),p=r(31);n.prototype=Object.create(i.prototype);for(var f in i)n[f]=i[f];n.prototype.getNodes=function(){return this.nodes},n.prototype.getEdges=function(){return this.edges},n.prototype.getGraphManager=function(){return this.graphManager},n.prototype.getParent=function(){return this.parent},n.prototype.getLeft=function(){return this.left},n.prototype.getRight=function(){return this.right},n.prototype.getTop=function(){return this.top},n.prototype.getBottom=function(){return this.bottom},n.prototype.isConnected=function(){return this.isConnected},n.prototype.add=function(e,t,r){if(null==t&&null==r){var n=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(r)>-1))throw"Source or target not in graph!";if(t.owner!=r.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=r.owner?null:(i.source=t,i.target=r,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),r!=t&&r.edges.push(i),i)},n.prototype.remove=function(e){var t=e;if(e instanceof l){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var r,n=t.edges.slice(),i=n.length,o=0;o<i;o++)r=n[o],r.isInterGraph?this.graphManager.remove(r):r.source.owner.remove(r);var a=this.nodes.indexOf(t);if(-1==a)throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(e instanceof u){var r=e;if(null==r)throw"Edge is null!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(null==r.source.owner||null==r.target.owner||r.source.owner!=this||r.target.owner!=this)throw"Source and/or target owner is invalid!";var s=r.source.edges.indexOf(r),c=r.target.edges.indexOf(r);if(!(s>-1&&c>-1))throw"Source and/or target doesn't know this edge!";r.source.edges.splice(s,1),r.target!=r.source&&r.target.edges.splice(c,1);var a=r.source.owner.getEdges().indexOf(r);if(-1==a)throw"Not in owner's edge list!";r.source.owner.getEdges().splice(a,1)}},n.prototype.updateLeftTop=function(){for(var e,t,r,n=o.MAX_VALUE,i=o.MAX_VALUE,a=this.getNodes(),s=a.length,l=0;l<s;l++){var u=a[l];e=u.getTop(),t=u.getLeft(),n>e&&(n=e),i>t&&(i=t)}return n==o.MAX_VALUE?null:(r=void 0!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=i-r,this.top=n-r,new d(this.left,this.top))},n.prototype.updateBounds=function(e){for(var t,r,n,i,a,s=o.MAX_VALUE,l=-o.MAX_VALUE,u=o.MAX_VALUE,c=-o.MAX_VALUE,d=this.nodes,p=d.length,f=0;f<p;f++){var g=d[f];e&&null!=g.child&&g.updateBounds(),t=g.getLeft(),r=g.getRight(),n=g.getTop(),i=g.getBottom(),s>t&&(s=t),l<r&&(l=r),u>n&&(u=n),c<i&&(c=i)}var v=new h(s,u,l-s,c-u);s==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=void 0!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=v.x-a,this.right=v.x+v.width+a,this.top=v.y-a,this.bottom=v.y+v.height+a},n.calculateBounds=function(e){for(var t,r,n,i,a=o.MAX_VALUE,s=-o.MAX_VALUE,l=o.MAX_VALUE,u=-o.MAX_VALUE,c=e.length,d=0;d<c;d++){var p=e[d];t=p.getLeft(),r=p.getRight(),n=p.getTop(),i=p.getBottom(),a>t&&(a=t),s<r&&(s=r),l>n&&(l=n),u<i&&(u=i)}return new h(a,l,s-a,u-l)},n.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},n.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},n.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,r=t.length,n=0;n<r;n++){e+=t[n].calcEstimatedSize()}return this.estimatedSize=0==e?a.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length)},n.prototype.updateConnected=function(){var e=this;if(0==this.nodes.length)return void(this.isConnected=!0);var t,r,n=new p,i=new c,o=this.nodes[0],a=o.withChildren();for(a.forEach(function(e){n.push(e)});0!==n.length;){o=n.shift(),i.add(o),t=o.getEdges();for(var s=t.length,l=0;l<s;l++){if(null!=(r=t[l].getOtherEndInGraph(o,this))&&!i.contains(r)){r.withChildren().forEach(function(e){n.push(e)})}}}if(this.isConnected=!1,i.size()>=this.nodes.length){var u=0,s=i.size();Object.keys(i.set).forEach(function(t){i.set[t].owner==e&&u++}),u==this.nodes.length&&(this.isConnected=!0)}},e.exports=n},function(e){"use strict";function t(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.setX=function(e){this.x=e},t.prototype.setY=function(e){this.y=e},t.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},t.prototype.getCopy=function(){return new t(this.x,this.y)},t.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=t},function(e,t,r){"use strict";function n(){this.set={}}var i=r(16);n.prototype.add=function(e){var t=i.createID(e);this.contains(t)||(this.set[t]=e)},n.prototype.remove=function(e){delete this.set[i.createID(e)]},n.prototype.clear=function(){this.set={}},n.prototype.contains=function(e){return this.set[i.createID(e)]==e},n.prototype.isEmpty=function(){return 0===this.size()},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),r=t.length,n=0;n<r;n++)e.push(this.set[t[n]])},n.prototype.size=function(){return Object.keys(this.set).length},n.prototype.addAll=function(e){for(var t=e.length,r=0;r<t;r++){this.add(e[r])}},e.exports=n},function(e){"use strict";function t(){}t.calcSeparationAmount=function(e,r,n,i){if(!e.intersects(r))throw"assert failed";var o=new Array(2);t.decideDirectionsForOverlappingNodes(e,r,o),n[0]=Math.min(e.getRight(),r.getRight())-Math.max(e.x,r.x),n[1]=Math.min(e.getBottom(),r.getBottom())-Math.max(e.y,r.y),e.getX()<=r.getX()&&e.getRight()>=r.getRight()?n[0]+=Math.min(r.getX()-e.getX(),e.getRight()-r.getRight()):r.getX()<=e.getX()&&r.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-r.getX(),r.getRight()-e.getRight())),e.getY()<=r.getY()&&e.getBottom()>=r.getBottom()?n[1]+=Math.min(r.getY()-e.getY(),e.getBottom()-r.getBottom()):r.getY()<=e.getY()&&r.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-r.getY(),r.getBottom()-e.getBottom()));var a=Math.abs((r.getCenterY()-e.getCenterY())/(r.getCenterX()-e.getCenterX()));r.getCenterY()==e.getCenterY()&&r.getCenterX()==e.getCenterX()&&(a=1);var s=a*n[0],l=n[1]/a;n[0]<l?l=n[0]:s=n[1],n[0]=-1*o[0]*(l/2+i),n[1]=-1*o[1]*(s/2+i)},t.decideDirectionsForOverlappingNodes=function(e,t,r){r[0]=e.getCenterX()<t.getCenterX()?-1:1,r[1]=e.getCenterY()<t.getCenterY()?-1:1},t.getIntersection2=function(e,r,n){var i=e.getCenterX(),o=e.getCenterY(),a=r.getCenterX(),s=r.getCenterY();if(e.intersects(r))return n[0]=i,n[1]=o,n[2]=a,n[3]=s,!0;var l=e.getX(),u=e.getY(),c=e.getRight(),h=e.getX(),d=e.getBottom(),p=e.getRight(),f=e.getWidthHalf(),g=e.getHeightHalf(),v=r.getX(),y=r.getY(),m=r.getRight(),b=r.getX(),x=r.getBottom(),w=r.getRight(),E=r.getWidthHalf(),T=r.getHeightHalf(),_=!1,D=!1;if(i==a){if(o>s)return n[0]=i,n[1]=u,n[2]=a,n[3]=x,!1;if(o<s)return n[0]=i,n[1]=d,n[2]=a,n[3]=y,!1}else if(o==s){if(i>a)return n[0]=l,n[1]=o,n[2]=m,n[3]=s,!1;if(i<a)return n[0]=c,n[1]=o,n[2]=v,n[3]=s,!1}else{var C,N,L,P,S,A,I=e.height/e.width,M=r.height/r.width,O=(s-o)/(a-i);if(-I==O?i>a?(n[0]=h,n[1]=d,_=!0):(n[0]=c,n[1]=u,_=!0):I==O&&(i>a?(n[0]=l,n[1]=u,_=!0):(n[0]=p,n[1]=d,_=!0)),-M==O?a>i?(n[2]=b,n[3]=x,D=!0):(n[2]=m,n[3]=y,D=!0):M==O&&(a>i?(n[2]=v,n[3]=y,D=!0):(n[2]=w,n[3]=x,D=!0)),_&&D)return!1;if(i>a?o>s?(C=t.getCardinalDirection(I,O,4),N=t.getCardinalDirection(M,O,2)):(C=t.getCardinalDirection(-I,O,3),N=t.getCardinalDirection(-M,O,1)):o>s?(C=t.getCardinalDirection(-I,O,1),N=t.getCardinalDirection(-M,O,3)):(C=t.getCardinalDirection(I,O,2),N=t.getCardinalDirection(M,O,4)),!_)switch(C){case 1:P=u,L=i+-g/O,n[0]=L,n[1]=P;break;case 2:L=p,P=o+f*O,n[0]=L,n[1]=P;break;case 3:P=d,L=i+g/O,n[0]=L,n[1]=P;break;case 4:L=h,P=o+-f*O,n[0]=L,n[1]=P}if(!D)switch(N){case 1:A=y,S=a+-T/O,n[2]=S,n[3]=A;break;case 2:S=w,A=s+E*O,n[2]=S,n[3]=A;break;case 3:A=x,S=a+T/O,n[2]=S,n[3]=A;break;case 4:S=b,A=s+-E*O,n[2]=S,n[3]=A}}return!1},t.getCardinalDirection=function(e,t,r){return e>t?r:1+r%4},t.getIntersection=function(e,r,n,i){if(null==i)return t.getIntersection2(e,r,n);var o,a,s,l,u,c,h,d,p,f=e.x,g=e.y,v=r.x,y=r.y,m=n.x,b=n.y,x=i.x,w=i.y;return s=y-g,u=f-v,h=v*g-f*y,l=w-b,c=m-x,d=x*b-m*w,0==(p=s*c-l*u)?null:(o=(u*d-c*h)/p,a=(l*h-s*d)/p,new Point(o,a))},t.HALF_PI=.5*Math.PI,t.ONE_AND_HALF_PI=1.5*Math.PI,t.TWO_PI=2*Math.PI,t.THREE_PI=3*Math.PI,e.exports=t},function(e){"use strict";function t(){}t.sign=function(e){return e>0?1:e<0?-1:0},t.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},t.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=t},function(e,t,r){"use strict";function n(e){i=r(4),this.layout=e,this.graphs=[],this.edges=[]}var i,o=r(3);n.prototype.addRoot=function(){return this.setRootGraph(this.add(this.layout.newGraph(),this.layout.newNode(null))),this.rootGraph},n.prototype.add=function(e,t,r,n,i){if(null==r&&null==n&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=r,n=t,r=e;var o=n.getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return r.isInterGraph=!1,o.add(r,n,i);if(r.isInterGraph=!0,r.source=n,r.target=i,this.edges.indexOf(r)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(r),null==r.source||null==r.target)throw"Edge source and/or target is null!";if(-1!=r.source.edges.indexOf(r)||-1!=r.target.edges.indexOf(r))throw"Edge already in source and/or target incidency list!";return r.source.edges.push(r),r.target.edges.push(r),r},n.prototype.remove=function(e){if(e instanceof i){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";var r=[];r=r.concat(t.getEdges());for(var n,a=r.length,s=0;s<a;s++)n=r[s],t.remove(n);var l=[];l=l.concat(t.getNodes());var u;a=l.length;for(var s=0;s<a;s++)u=l[s],t.remove(u);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof o){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";var c=n.source.edges.indexOf(n);if(n.source.edges.splice(c,1),c=n.target.edges.indexOf(n),n.target.edges.splice(c,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";var c=n.source.owner.getGraphManager().edges.indexOf(n);n.source.owner.getGraphManager().edges.splice(c,1)}},n.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},n.prototype.getGraphs=function(){return this.graphs},n.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),r=t.length,n=0;n<r;n++)e=e.concat(t[n].getNodes());this.allNodes=e}return this.allNodes},n.prototype.resetAllNodes=function(){this.allNodes=null},n.prototype.resetAllEdges=function(){this.allEdges=null},n.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},n.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),r=0;r<t.length;r++)e=e.concat(t[r].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},n.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},n.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},n.prototype.getRoot=function(){return this.rootGraph},n.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},n.prototype.getLayout=function(){return this.layout},n.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var r,n=e.getOwner();;){if(null==(r=n.getParent()))break;if(r==t)return!0;if(null==(n=r.getOwner()))break}for(n=t.getOwner();;){if(null==(r=n.getParent()))break;if(r==e)return!0;if(null==(n=r.getOwner()))break}return!1},n.prototype.calcLowestCommonAncestors=function(){for(var e,t,r,n,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(e=o[s],t=e.source,r=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=r,t!=r){for(n=t.getOwner();null==e.lca;){for(e.targetInLca=r,i=r.getOwner();null==e.lca;){if(i==n){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(n==this.rootGraph)break;null==e.lca&&(e.sourceInLca=n.getParent(),n=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},n.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var r=e.getOwner();;){if(null==r)break;for(var n=t.getOwner();;){if(null==n)break;if(n==r)return n;n=n.getParent().getOwner()}r=r.getParent().getOwner()}return r},n.prototype.calcInclusionTreeDepths=function(e,t){null==e&&null==t&&(e=this.rootGraph,t=1);for(var r,n=e.getNodes(),i=n.length,o=0;o<i;o++)r=n[o],r.inclusionTreeDepth=t,null!=r.child&&this.calcInclusionTreeDepths(r.child,t+1)},n.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,r=0;r<t;r++)if(e=this.edges[r],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=n},function(e){"use strict";function t(e){this.vGraphObject=e}e.exports=t},function(e,t,r){"use strict";function n(e,t,r,n){null==r&&null==n&&(n=t),i.call(this,n),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=n,this.edges=[],this.graphManager=e,this.rect=null!=r&&null!=t?new a(t.x,t.y,r.width,r.height):new a}var i=r(10),o=r(2),a=r(14),s=r(0),l=r(26),u=r(5),c=r(6);n.prototype=Object.create(i.prototype);for(var h in i)n[h]=i[h];n.prototype.getEdges=function(){return this.edges},n.prototype.getChild=function(){return this.child},n.prototype.getOwner=function(){return this.owner},n.prototype.getWidth=function(){return this.rect.width},n.prototype.setWidth=function(e){this.rect.width=e},n.prototype.getHeight=function(){return this.rect.height},n.prototype.setHeight=function(e){this.rect.height=e},n.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},n.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},n.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},n.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},n.prototype.getRect=function(){return this.rect},n.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},n.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},n.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},n.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},n.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},n.prototype.getEdgeListToNode=function(e){var t=[],r=this;return r.edges.forEach(function(n){if(n.target==e){if(n.source!=r)throw"Incorrect edge source!";t.push(n)}}),t},n.prototype.getEdgesBetween=function(e){var t=[],r=this;return r.edges.forEach(function(n){if(n.source!=r&&n.target!=r)throw"Incorrect edge source and/or target";n.target!=e&&n.source!=e||t.push(n)}),t},n.prototype.getNeighborsList=function(){var e=new c,t=this;return t.edges.forEach(function(r){if(r.source==t)e.add(r.target);else{if(r.target!=t)throw"Incorrect incidency!";e.add(r.source)}}),e},n.prototype.withChildren=function(){var e,t,r=new Set;if(r.add(this),null!=this.child)for(var n=this.child.getNodes(),i=0;i<n.length;i++)e=n[i],t=e.withChildren(),t.forEach(function(e){r.add(e)});return r},n.prototype.getNoOfChildren=function(){var e,t=0;if(null==this.child)t=1;else for(var r=this.child.getNodes(),n=0;n<r.length;n++)e=r[n],t+=e.getNoOfChildren();return 0==t&&(t=1),t},n.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},n.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},n.prototype.scatter=function(){var e,t,r=-s.INITIAL_WORLD_BOUNDARY,n=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_X+l.nextDouble()*(n-r)+r;var i=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_Y+l.nextDouble()*(o-i)+i,this.rect.x=e,this.rect.y=t},n.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),r=e.getBottom()-e.getTop();this.labelWidth>t&&(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)),this.labelHeight>r&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-r)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-r),this.setHeight(this.labelHeight))}}},n.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},n.prototype.transform=function(e){var t=this.rect.x;t>s.WORLD_BOUNDARY?t=s.WORLD_BOUNDARY:t<-s.WORLD_BOUNDARY&&(t=-s.WORLD_BOUNDARY);var r=this.rect.y;r>s.WORLD_BOUNDARY?r=s.WORLD_BOUNDARY:r<-s.WORLD_BOUNDARY&&(r=-s.WORLD_BOUNDARY);var n=new u(t,r),i=e.inverseTransformPoint(n);this.setLocation(i.x,i.y)},n.prototype.getLeft=function(){return this.rect.x},n.prototype.getRight=function(){return this.rect.x+this.rect.width},n.prototype.getTop=function(){return this.rect.y},n.prototype.getBottom=function(){return this.rect.y+this.rect.height},n.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=n},function(e,t,r){"use strict";function n(e){d.call(this),this.layoutQuality=i.DEFAULT_QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new o,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}var i=r(0),o=r(25),a=r(9),s=r(11),l=r(3),u=r(4),c=r(5),h=r(15),d=r(30),p=r(6);n.RANDOM_SEED=1,n.prototype=Object.create(d.prototype),n.prototype.getGraphManager=function(){return this.graphManager},n.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},n.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},n.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},n.prototype.newGraphManager=function(){var e=new a(this);return this.graphManager=e,e},n.prototype.newGraph=function(e){return new u(null,this.graphManager,e)},n.prototype.newNode=function(e){return new s(this.graphManager,e)},n.prototype.newEdge=function(e){return new l(null,null,e)},n.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},n.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var e;return e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},n.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},n.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];for(var r=this.graphManager.getRoot().getNodes(),t=0;t<r.length;t++)r[t];this.update(this.graphManager.getRoot())}},n.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof s){var t=e;if(null!=t.getChild())for(var r=t.getChild().getNodes(),n=0;n<r.length;n++)update(r[n]);if(null!=t.vGraphObject){var i=t.vGraphObject;i.update(t)}}else if(e instanceof l){var o=e;if(null!=o.vGraphObject){var a=o.vGraphObject;a.update(o)}}else if(e instanceof u){var c=e;if(null!=c.vGraphObject){var h=c.vGraphObject;h.update(c)}}},n.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.DEFAULT_QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},n.prototype.transform=function(e){if(void 0==e)this.transform(new c(0,0));else{var t=new h,r=this.graphManager.getRoot().updateLeftTop();if(null!=r){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(r.x),t.setDeviceOrgY(r.y);for(var n,i=this.getAllNodes(),o=0;o<i.length;o++)n=i[o],n.transform(t)}}},n.prototype.positionNodesRandomly=function(e){if(void 0==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,r,n=e.getNodes(),i=0;i<n.length;i++)t=n[i],r=t.getChild(),null==r?t.scatter():0==r.getNodes().length?t.scatter():(this.positionNodesRandomly(r),t.updateBounds())},n.prototype.getFlatForest=function(){for(var e=[],t=!0,r=this.graphManager.getRoot().getNodes(),n=!0,i=0;i<r.length;i++)null!=r[i].getChild()&&(n=!1);if(!n)return e;var a=new p,s=[],l=new o,u=[];for(u=u.concat(r);u.length>0&&t;){for(s.push(u[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),a.add(c);for(var h=c.getEdges(),i=0;i<h.length;i++){var d=h[i].getOtherEnd(c);if(l.get(c)!=d){if(a.contains(d)){t=!1;break}s.push(d),l.put(d,c)}}}if(t){var f=[];a.addAllTo(f),e.push(f);for(var i=0;i<f.length;i++){var g=f[i],v=u.indexOf(g);v>-1&&u.splice(v,1)}a=new p,l=new o}else e=[]}return e},n.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],r=e.source,n=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),n.add(o);var a=this.newEdge(null);this.graphManager.add(a,r,o),t.add(o),r=o}var a=this.newEdge(null);return this.graphManager.add(a,r,e.target),this.edgeToDummyNodes.put(e,t),e.isInterGraph()?this.graphManager.remove(e):n.remove(e),t},n.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=this.edgeToDummyNodes.keySet().concat(e);for(var t=0;t<e.length;t++){var r=e[t];if(r.bendpoints.length>0){for(var n=this.edgeToDummyNodes.get(r),i=0;i<n.length;i++){var o=n[i],a=new c(o.getCenterX(),o.getCenterY()),s=r.bendpoints.get(i);s.x=a.x,s.y=a.y,o.getOwner().remove(o)}this.graphManager.add(r,r.source,r.target)}}},n.transform=function(e,t,r,n){if(void 0!=r&&void 0!=n){var i=t;if(e<=50){i-=(t-t/r)/50*(50-e)}else{i+=(t*n-t)/50*(e-50)}return i}var o,a;return e<=50?(o=9*t/500,a=t/10):(o=9*t/50,a=-8*t),o*e+a},n.findCenterOfTree=function(e){var t=[];t=t.concat(e);var r=[],n=new o,i=!1,a=null;1!=t.length&&2!=t.length||(i=!0,a=t[0]);for(var s=0;s<t.length;s++){var l=t[s],u=l.getNeighborsList().size();n.put(l,l.getNeighborsList().size()),1==u&&r.push(l)}var c=[];for(c=c.concat(r);!i;){var h=[];h=h.concat(c),c=[];for(var s=0;s<t.length;s++){var l=t[s],d=t.indexOf(l);d>=0&&t.splice(d,1);var p=l.getNeighborsList();Object.keys(p.set).forEach(function(e){var t=p.set[e];if(r.indexOf(t)<0){var i=n.get(t),o=i-1;1==o&&c.push(t),n.put(t,o)}})}r=r.concat(c),1!=t.length&&2!=t.length||(i=!0,a=t[0])}return a},n.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=n},function(e){"use strict";function t(e,t,r){this.x=null,this.y=null,null==e&&null==t&&null==r?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==r?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==r&&(r=e,this.x=r.x,this.y=r.y)}t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getLocation=function(){return new t(this.x,this.y)},t.prototype.setLocation=function(e,t,r){"Point"==e.constructor.name&&null==t&&null==r?(r=e,this.setLocation(r.x,r.y)):"number"==typeof e&&"number"==typeof t&&null==r&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},t.prototype.move=function(e,t){this.x=e,this.y=t},t.prototype.translate=function(e,t){this.x+=e,this.y+=t},t.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},t.prototype.toString=function(){return(new t).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=t},function(e){"use strict";function t(e,t,r,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=r&&null!=n&&(this.x=e,this.y=t,this.width=r,this.height=n)}t.prototype.getX=function(){return this.x},t.prototype.setX=function(e){this.x=e},t.prototype.getY=function(){return this.y},t.prototype.setY=function(e){this.y=e},t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){this.width=e},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){this.height=e},t.prototype.getRight=function(){return this.x+this.width},t.prototype.getBottom=function(){return this.y+this.height},t.prototype.intersects=function(e){return!(this.getRight()<e.x)&&(!(this.getBottom()<e.y)&&(!(e.getRight()<this.x)&&!(e.getBottom()<this.y)))},t.prototype.getCenterX=function(){return this.x+this.width/2},t.prototype.getMinX=function(){return this.getX()},t.prototype.getMaxX=function(){return this.getX()+this.width},t.prototype.getCenterY=function(){return this.y+this.height/2},t.prototype.getMinY=function(){return this.getY()},t.prototype.getMaxY=function(){return this.getY()+this.height},t.prototype.getWidthHalf=function(){return this.width/2},t.prototype.getHeightHalf=function(){return this.height/2},e.exports=t},function(e,t,r){"use strict";function n(){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}var i=r(5);n.prototype.getWorldOrgX=function(){return this.lworldOrgX},n.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},n.prototype.getWorldOrgY=function(){return this.lworldOrgY},n.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},n.prototype.getWorldExtX=function(){return this.lworldExtX},n.prototype.setWorldExtX=function(e){this.lworldExtX=e},n.prototype.getWorldExtY=function(){return this.lworldExtY},n.prototype.setWorldExtY=function(e){this.lworldExtY=e},n.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},n.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},n.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},n.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},n.prototype.getDeviceExtX=function(){return this.ldeviceExtX},n.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},n.prototype.getDeviceExtY=function(){return this.ldeviceExtY},n.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},n.prototype.transformX=function(e){var t=0,r=this.lworldExtX;return 0!=r&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/r),t},n.prototype.transformY=function(e){var t=0,r=this.lworldExtY;return 0!=r&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/r),t},n.prototype.inverseTransformX=function(e){var t=0,r=this.ldeviceExtX;return 0!=r&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/r),t},n.prototype.inverseTransformY=function(e){var t=0,r=this.ldeviceExtY;return 0!=r&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/r),t},n.prototype.inverseTransformPoint=function(e){return new i(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=n},function(e){"use strict";function t(){}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.lastID=0,t.createID=function(e){return t.isPrimitive(e)?e:null!=e.uniqueID?e.uniqueID:(e.uniqueID=t.getString(),t.lastID++,e.uniqueID)},t.getString=function(e){return null==e&&(e=t.lastID),"Object#"+e},t.isPrimitive=function(e){var t=void 0===e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=t},function(e,t,r){"use strict";function n(){}var i=r(1);for(var o in i)n[o]=i[o];n.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,n.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,n.DEFAULT_COMPONENT_SEPERATION=60,n.TILE=!0,n.TILING_PADDING_VERTICAL=10,n.TILING_PADDING_HORIZONTAL=10,e.exports=n},function(e,t,r){"use strict";function n(e,t,r){i.call(this,e,t,r)}var i=r(23);n.prototype=Object.create(i.prototype);for(var o in i)n[o]=i[o];e.exports=n},function(e,t,r){"use strict";function n(e,t,r){i.call(this,e,t,r)}var i=r(4);n.prototype=Object.create(i.prototype);for(var o in i)n[o]=i[o];e.exports=n},function(e,t,r){"use strict";function n(e){i.call(this,e)}var i=r(9);n.prototype=Object.create(i.prototype);for(var o in i)n[o]=i[o];e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n)}var i=r(24),o=r(8);n.prototype=Object.create(i.prototype);for(var a in i)n[a]=i[a];n.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementY)),null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},n.prototype.propogateDisplacementToChildren=function(e,t){for(var r,n=this.getChild().getNodes(),i=0;i<n.length;i++)r=n[i],null==r.getChild()?(r.moveBy(e,t),r.displacementX+=e,r.displacementY+=t):r.propogateDisplacementToChildren(e,t)},n.prototype.setPred1=function(e){this.pred1=e},n.prototype.getPred1=function(){return pred1},n.prototype.getPred2=function(){return pred2},n.prototype.setNext=function(e){this.next=e},n.prototype.getNext=function(){return next},n.prototype.setProcessed=function(e){this.processed=e},n.prototype.isProcessed=function(){return processed},e.exports=n},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(){o.call(this),this.useSmartIdealEdgeLengthCalculation=a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=a.DEFAULT_EDGE_LENGTH,this.springConstant=a.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=a.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=a.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=a.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=a.MAX_ITERATIONS}var o=r(12),a=r(1),s=r(0),l=r(7),u=r(8),c=r(2);i.prototype=Object.create(o.prototype);for(var h in o)i[h]=o[h];i.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.layoutQuality==s.DRAFT_QUALITY?(this.displacementThresholdPerNode+=.3,this.maxIterations*=.8):this.layoutQuality==s.PROOF_QUALITY&&(this.displacementThresholdPerNode-=.3,this.maxIterations*=1.2),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[],this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1},i.prototype.calcIdealEdgeLengths=function(){for(var e,t,r,n,i,o,l=this.getGraphManager().getAllEdges(),u=0;u<l.length;u++)e=l[u],e.idealLength=this.idealEdgeLength,e.isInterGraph&&(r=e.getSource(),n=e.getTarget(),i=e.getSourceInLca().getEstimatedSize(),o=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=i+o-2*s.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=a.DEFAULT_EDGE_LENGTH*a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+n.getInclusionTreeDepth()-2*t))},i.prototype.initSpringEmbedder=function(){this.incremental?this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT_INCREMENTAL:(this.coolingFactor=1,this.initialCoolingFactor=1,this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},i.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),r=0;r<t.length;r++)e=t[r],this.calcSpringForce(e,e.idealLength)},i.prototype.calcRepulsionForces=function(){var e,t,r,n,i,o=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD!=1||this.isTreeGrowing||this.isGrowthFinished||this.updateGrid(),i=new Set,e=0;e<o.length;e++)r=o[e],this.calculateRepulsionForceOfANode(r,i),i.add(r);else for(e=0;e<o.length;e++)for(r=o[e],t=e+1;t<o.length;t++)n=o[t],r.getOwner()==n.getOwner()&&this.calcRepulsionForce(r,n)},i.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),r=0;r<t.length;r++)e=t[r],this.calcGravitationalForce(e)},i.prototype.moveNodes=function(){for(var e,t=this.getAllNodes(),r=0;r<t.length;r++)e=t[r],e.move()},i.prototype.calcSpringForce=function(e,t){var r,n,i,o,a=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;r=e.getLength(),n=this.springConstant*(r-t),i=n*(e.lengthX/r),o=n*(e.lengthY/r),a.springForceX+=i,a.springForceY+=o,s.springForceX-=i,s.springForceY-=o},i.prototype.calcRepulsionForce=function(e,t){var r,n,i,o,s,c,h,d=e.getRect(),p=t.getRect(),f=new Array(2),g=new Array(4);if(d.intersects(p)){l.calcSeparationAmount(d,p,f,a.DEFAULT_EDGE_LENGTH/2),c=2*f[0],h=2*f[1];var v=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=v*c,e.repulsionForceY-=v*h,t.repulsionForceX+=v*c,t.repulsionForceY+=v*h}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(r=p.getCenterX()-d.getCenterX(),n=p.getCenterY()-d.getCenterY()):(l.getIntersection(d,p,g),r=g[2]-g[0],n=g[3]-g[1]),Math.abs(r)<a.MIN_REPULSION_DIST&&(r=u.sign(r)*a.MIN_REPULSION_DIST),Math.abs(n)<a.MIN_REPULSION_DIST&&(n=u.sign(n)*a.MIN_REPULSION_DIST),i=r*r+n*n,o=Math.sqrt(i),s=this.repulsionConstant*e.noOfChildren*t.noOfChildren/i,c=s*r/o,h=s*n/o,e.repulsionForceX-=c,e.repulsionForceY-=h,t.repulsionForceX+=c,t.repulsionForceY+=h},i.prototype.calcGravitationalForce=function(e){var t,r,n,i,o,a,s,l;t=e.getOwner(),r=(t.getRight()+t.getLeft())/2,n=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-r,o=e.getCenterY()-n,a=Math.abs(i)+e.getWidth()/2,s=Math.abs(o)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(l=t.getEstimatedSize()*this.gravityRangeFactor,(a>l||s>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*o)):(l=t.getEstimatedSize()*this.compoundGravityRangeFactor,(a>l||s>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant))},i.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},i.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},i.prototype.calcGrid=function(e){var t=0,r=0;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),r=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var n=new Array(t),i=0;i<t;i++)n[i]=new Array(r);for(var i=0;i<t;i++)for(var o=0;o<r;o++)n[i][o]=new Array;return n},i.prototype.addNodeToGrid=function(e,t,r){var n=0,i=0,o=0,a=0;n=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().y-r)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().height+e.getRect().y-r)/this.repulsionRange));for(var s=n;s<=i;s++)for(var l=o;l<=a;l++)this.grid[s][l].push(e),e.setGridCoordinates(n,i,o,a)},i.prototype.updateGrid=function(){var e,t,r=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<r.length;e++)t=r[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},i.prototype.calculateRepulsionForceOfANode=function(e,t){if(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&!this.isTreeGrowing&&!this.isGrowthFinished||this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished){var r=new Set;e.surrounding=new Array;for(var i,o=this.grid,s=e.startX-1;s<e.finishX+2;s++)for(var l=e.startY-1;l<e.finishY+2;l++)if(!(s<0||l<0||s>=o.length||l>=o[0].length))for(var u=0;u<o[s][l].length;u++)if(i=o[s][l][u],e.getOwner()==i.getOwner()&&e!=i&&!t.has(i)&&!r.has(i)){var c=Math.abs(e.getCenterX()-i.getCenterX())-(e.getWidth()/2+i.getWidth()/2),h=Math.abs(e.getCenterY()-i.getCenterY())-(e.getHeight()/2+i.getHeight()/2);c<=this.repulsionRange&&h<=this.repulsionRange&&r.add(i)}e.surrounding=[].concat(n(r))}for(s=0;s<e.surrounding.length;s++)this.calcRepulsionForce(e,e.surrounding[s])},i.prototype.calcRepulsionRange=function(){return 0},i.prototype.reduceTrees=function(){for(var e,t=[],r=!0;r;){var n=this.graphManager.getAllNodes(),i=[];r=!1;for(var o=0;o<n.length;o++)e=n[o],1!=e.getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(i.push([e,e.getEdges()[0],e.getOwner()]),r=!0);if(1==r){for(var a=[],s=0;s<i.length;s++)1==i[s][0].getEdges().length&&(a.push(i[s]),i[s][0].getOwner().remove(i[s][0]));t.push(a),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},i.prototype.growTree=function(e){for(var t,r=e.length,n=e[r-1],i=0;i<n.length;i++)t=n[i],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},i.prototype.findPlaceforPrunedNode=function(e){var t,r,n=e[0];r=n==e[1].source?e[1].target:e[1].source;var i=r.startX,o=r.finishX,s=r.startY,l=r.finishY,u=[0,0,0,0];if(s>0)for(var h=i;h<=o;h++)u[0]+=this.grid[h][s-1].length+this.grid[h][s].length-1;if(o<this.grid.length-1)for(var h=s;h<=l;h++)u[1]+=this.grid[o+1][h].length+this.grid[o][h].length-1;if(l<this.grid[0].length-1)for(var h=i;h<=o;h++)u[2]+=this.grid[h][l+1].length+this.grid[h][l].length-1;if(i>0)for(var h=s;h<=l;h++)u[3]+=this.grid[i-1][h].length+this.grid[i][h].length-1;for(var d,p,f=c.MAX_VALUE,g=0;g<u.length;g++)u[g]<f?(f=u[g],d=1,p=g):u[g]==f&&d++;if(3==d&&0==f)0==u[0]&&0==u[1]&&0==u[2]?t=1:0==u[0]&&0==u[1]&&0==u[3]?t=0:0==u[0]&&0==u[2]&&0==u[3]?t=3:0==u[1]&&0==u[2]&&0==u[3]&&(t=2);else if(2==d&&0==f){var v=Math.floor(2*Math.random());t=0==u[0]&&0==u[1]?0==v?0:1:0==u[0]&&0==u[2]?0==v?0:2:0==u[0]&&0==u[3]?0==v?0:3:0==u[1]&&0==u[2]?0==v?1:2:0==u[1]&&0==u[3]?0==v?1:3:0==v?2:3}else if(4==d&&0==f){var v=Math.floor(4*Math.random());t=v}else t=p;0==t?n.setCenter(r.getCenterX(),r.getCenterY()-r.getHeight()/2-a.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==t?n.setCenter(r.getCenterX()+r.getWidth()/2+a.DEFAULT_EDGE_LENGTH+n.getWidth()/2,r.getCenterY()):2==t?n.setCenter(r.getCenterX(),r.getCenterY()+r.getHeight()/2+a.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(r.getCenterX()-r.getWidth()/2-a.DEFAULT_EDGE_LENGTH-n.getWidth()/2,r.getCenterY())},e.exports=i},function(e,t,r){"use strict";function n(e,t,r){i.call(this,e,t,r),this.idealLength=o.DEFAULT_EDGE_LENGTH}var i=r(3),o=r(1);n.prototype=Object.create(i.prototype);for(var a in i)n[a]=i[a];e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){i.call(this,e,t,r,n),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}var i=r(11);n.prototype=Object.create(i.prototype);for(var o in i)n[o]=i[o];n.prototype.setGridCoordinates=function(e,t,r,n){this.startX=e,this.finishX=t,this.startY=r,this.finishY=n},e.exports=n},function(e,t,r){"use strict";function n(){this.map={},this.keys=[]}var i=r(16);n.prototype.put=function(e,t){var r=i.createID(e);this.contains(r)||(this.map[r]=t,this.keys.push(e))},n.prototype.contains=function(e){i.createID(e);return null!=this.map[e]},n.prototype.get=function(e){return this.map[i.createID(e)]},n.prototype.keySet=function(){return this.keys},e.exports=n},function(e){"use strict";function t(){}t.seed=1,t.x=0,t.nextDouble=function(){return(t.x=1e4*Math.sin(t.seed++))-Math.floor(t.x)},e.exports=t},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}function i(e){this.options=n(d,e),p(this.options)}var o=r(29),a=(r(25),r(6),r(7),r(8),r(2),r(13),r(5)),s=(r(26),r(14),r(15),r(16),r(10),r(4),r(3),r(9),r(11),r(12),r(0)),l=(r(22),r(1)),u=(r(23),r(24),r(17)),c=(r(18),r(19),r(20),r(28)),h=r(21),d={ready:function(){},stop:function(){},nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5},p=function(e){null!=e.nodeRepulsion&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!e.randomize,u.ANIMATE=l.ANIMATE=s.ANIMATE=e.animate,u.TILE=e.tile,u.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal};i.prototype.run=function(){var e,t,r=this.options,n=(this.idToLNode={},this.layout=new c),i=this;i.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var o=n.newGraphManager();this.gm=o;var a=this.options.eles.nodes(),s=this.options.eles.edges();this.root=o.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(a),n);for(var l=0;l<s.length;l++){var u=s[l],h=this.idToLNode[u.data("source")],d=this.idToLNode[u.data("target")];if(0==h.getEdgesBetween(d).length){o.add(n.newEdge(),h,d).id=u.id()}}var p=function(e,t){"number"==typeof e&&(e=t);var r=e.data("id"),n=i.idToLNode[r];return{x:n.getRect().getCenterX(),y:n.getRect().getCenterY()}},f=function o(){for(var a,s=function(){r.fit&&r.cy.fit(r.eles.nodes(),r.padding),e||(e=!0,i.cy.one("layoutready",r.ready),i.cy.trigger({type:"layoutready",layout:i}))},l=i.options.refresh,u=0;u<l&&!a;u++)a=i.stopped||i.layout.tick();if(a)return n.checkLayoutSuccess()&&!n.isSubLayout&&n.doPostLayout(),n.tilingPostLayout&&n.tilingPostLayout(),n.isLayoutFinished=!0,i.options.eles.nodes().positions(p),s(),i.cy.one("layoutstop",i.options.stop),i.cy.trigger({type:"layoutstop",layout:i}),t&&cancelAnimationFrame(t),void(e=!1);var c=i.layout.getPositionsData();r.eles.nodes().positions(function(e,t){"number"==typeof e&&(e=t);for(var r=e.id(),n=c[r],i=e;null==n&&(n=c[i.data("parent")]||c["DummyCompound_"+i.data("parent")],c[r]=n,void 0!=(i=i.parent()[0])););return null!=n?{x:n.x,y:n.y}:{x:e.x,y:e.y}}),s(),t=requestAnimationFrame(o)};return n.addListener("layoutstarted",function(){"during"===i.options.animate&&(t=requestAnimationFrame(f))}),n.runLayout(),"during"!==this.options.animate&&(i.options.eles.nodes().not(":parent").layoutPositions(i,i.options,p),e=!1),this},i.prototype.getTopMostNodes=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].id()]=!0;return e.filter(function(e,r){"number"==typeof e&&(e=r);for(var n=e.parent()[0];null!=n;){if(t[n.id()])return!1;n=n.parent()[0]}return!0})},i.prototype.processChildrenList=function(e,t,r){for(var n=t.length,i=0;i<n;i++){var s,l=t[i],u=l.children(),c=l.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(s=e.add(null!=l.outerWidth()&&null!=l.outerHeight()?new h(r.graphManager,new a(l.position("x")-c.w/2,l.position("y")-c.h/2),new o(parseFloat(c.w),parseFloat(c.h))):new h(this.graphManager)),s.id=l.data("id"),s.paddingLeft=parseInt(l.css("padding")),s.paddingTop=parseInt(l.css("padding")),s.paddingRight=parseInt(l.css("padding")),s.paddingBottom=parseInt(l.css("padding")),this.options.nodeDimensionsIncludeLabels&&l.isParent()){var d=l.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=l.boundingBox({includeLabels:!0,includeNodes:!1}).h,f=l.css("text-halign");s.labelWidth=d,s.labelHeight=p,s.labelPos=f}if(this.idToLNode[l.data("id")]=s,isNaN(s.rect.x)&&(s.rect.x=0),isNaN(s.rect.y)&&(s.rect.y=0),null!=u&&u.length>0){var g;g=r.getGraphManager().add(r.newGraph(),s),this.processChildrenList(g,u,r)}}},i.prototype.stop=function(){return this.stopped=!0,this},e.exports=function(){return i}},function(e,t,r){"use strict";function n(){i.call(this),this.toBeTiled={}}var i=r(22),o=r(20),a=r(19),s=r(21),l=r(18),u=r(17),c=r(1),h=r(0),d=r(13),p=r(5),f=r(12),g=r(2),v=r(7),y=r(4),m=r(15);n.prototype=Object.create(i.prototype);for(var b in i)n[b]=i[b];n.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},n.prototype.newGraph=function(e){return new a(null,this.graphManager,e)},n.prototype.newNode=function(e){return new s(this.graphManager,e)},n.prototype.newEdge=function(e){return new l(null,null,e)},n.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH<10?10:u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=c.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR)},n.prototype.layout=function(){return h.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},n.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes());this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity.filter(function(e){return t.has(e)})),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},n.prototype.tick=function(){if(++this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},n.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},r=0;r<e.length;r++){var n=e[r].rect,i=e[r].id;t[i]={id:i,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return t},n.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},n.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,r=[],n=this.graphManager.getGraphs(),i=n.length;for(t=0;t<i;t++)e=n[t],e.updateConnected(),e.isConnected||(r=r.concat(e.getNodes()));return r},n.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),r=0;r<t.length;r++)e=t[r],e.noOfChildren=e.getNoOfChildren()},n.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,r=new HashSet;for(t=0;t<e.length;t++){var n=e[t];if(!r.contains(n)){var i=n.getSource(),o=n.getTarget();if(i==o)n.getBendpoints().push(new p),n.getBendpoints().push(new p),this.createDummyNodesForBendpoints(n),r.add(n);else{var a=[];if(a=a.concat(i.getEdgeListToNode(o)),a=a.concat(o.getEdgeListToNode(i)),!r.contains(a[0])){if(a.length>1){var s;for(s=0;s<a.length;s++){var l=a[s];l.getBendpoints().push(new p),this.createDummyNodesForBendpoints(l)}}r.addAll(list)}}}if(r.size()==e.length)break}},n.prototype.positionNodesRadially=function(e){for(var t=new d(0,0),r=Math.ceil(Math.sqrt(e.length)),i=0,o=0,a=0,s=new p(0,0),l=0;l<e.length;l++){l%r==0&&(a=0,o=i,0!=l&&(o+=u.DEFAULT_COMPONENT_SEPERATION),i=0);var c=e[l],g=f.findCenterOfTree(c);t.x=a,t.y=o,s=n.radialLayout(c,g,t),s.y>i&&(i=Math.floor(s.y)),a=Math.floor(s.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(h.WORLD_CENTER_X-s.x/2,h.WORLD_CENTER_Y-s.y/2))},n.radialLayout=function(e,t,r){n.branchRadialLayout(t,null,0,359,0,Math.max(this.maxDiagonalInTree(e),u.DEFAULT_RADIAL_SEPARATION));var i=y.calculateBounds(e),o=new m;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(r.x),o.setWorldOrgY(r.y);for(var a=0;a<e.length;a++){e[a].transform(o)}return o.inverseTransformPoint(new p(i.getMaxX(),i.getMaxY()))},n.branchRadialLayout=function(e,t,r,i,o,a){var s=(i-r+1)/2;s<0&&(s+=180);var l=(s+r)%360,u=l*v.TWO_PI/360;Math.cos(u);e.setCenter(o*Math.cos(u),o*Math.sin(u));var c=[];c=c.concat(e.getEdges());var h=c.length;null!=t&&h--;for(var d,p=0,f=c.length,g=e.getEdgesBetween(t);g.length>1;){var y=g[0];g.splice(0,1);var m=c.indexOf(y);m>=0&&c.splice(m,1),f--,h--}d=null!=t?(c.indexOf(g[0])+1)%f:0;for(var b=Math.abs(i-r)/h,x=d;p!=h;x=++x%f){var w=c[x].getOtherEnd(e);if(w!=t){var E=(r+p*b)%360;n.branchRadialLayout(w,e,E,(E+b)%360,o+a,a),p++}}},n.maxDiagonalInTree=function(e){for(var t=g.MIN_VALUE,r=0;r<e.length;r++){var n=e[r],i=n.getDiagonal();i>t&&(t=i)}return t},n.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},n.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var r=[],n=this.graphManager.getAllNodes(),i=0;i<n.length;i++){var o=n[i],a=o.getParent();0!==this.getNodeDegreeWithChildren(o)||void 0!=a.id&&this.getToBeTiled(a)||r.push(o)}for(var i=0;i<r.length;i++){var o=r[i],l=o.getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(o)}Object.keys(t).forEach(function(r){if(t[r].length>1){var n="DummyCompound_"+r;e.memberGroups[n]=t[r];var i=t[r][0].getParent(),o=new s(e.graphManager);o.id=n,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,e.idToDummyNode[n]=o;var a=e.getGraphManager().add(e.newGraph(),o),l=i.getChild();l.add(o);for(var u=0;u<t[r].length;u++){var c=t[r][u];l.remove(c),a.add(c)}}})},n.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var r=0;r<this.compoundOrder.length;r++)t[this.compoundOrder[r].id]=this.compoundOrder[r],e[this.compoundOrder[r].id]=[].concat(this.compoundOrder[r].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[r].getChild()),this.compoundOrder[r].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},n.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(r){var n=e.idToDummyNode[r];t[r]=e.tileNodes(e.memberGroups[r],n.paddingLeft+n.paddingRight),n.rect.width=t[r].width,n.rect.height=t[r].height})},n.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e];this.adjustLocations(this.tiledMemberPack[t.id],t.rect.x,t.rect.y,t.paddingLeft,t.paddingTop)}},n.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(r){var n=e.idToDummyNode[r];e.adjustLocations(t[r],n.rect.x,n.rect.y,n.paddingLeft,n.paddingTop)})},n.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var r=e.getChild();if(null==r)return this.toBeTiled[t]=!1,!1;for(var n=r.getNodes(),i=0;i<n.length;i++){var o=n[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[t]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[t]=!0,!0},n.prototype.getNodeDegree=function(e){for(var t=e.getEdges(),r=0,n=0;n<t.length;n++){var i=t[n];i.getSource().id!==i.getTarget().id&&(r+=1)}return r},n.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var r=e.getChild().getNodes(),n=0;n<r.length;n++){t+=this.getNodeDegreeWithChildren(r[n])}return t},n.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},n.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var r=e[t];null!=r.getChild()&&this.fillCompexOrderByDFS(r.getChild().getNodes()),this.getToBeTiled(r)&&this.compoundOrder.push(r)}},n.prototype.adjustLocations=function(e,t,r,n,i){t+=n,r+=i;for(var o=t,a=0;a<e.rows.length;a++){var s=e.rows[a];t=o;for(var l=0,u=0;u<s.length;u++){var c=s[u];c.rect.x=t,c.rect.y=r,t+=c.rect.width+e.horizontalPadding,c.rect.height>l&&(l=c.rect.height)}r+=l+e.verticalPadding}},n.prototype.tileCompoundMembers=function(e,t){var r=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(n){var i=t[n];r.tiledMemberPack[n]=r.tileNodes(e[n],i.paddingLeft+i.paddingRight),i.rect.width=r.tiledMemberPack[n].width+20,i.rect.height=r.tiledMemberPack[n].height+20})},n.prototype.tileNodes=function(e,t){var r=u.TILING_PADDING_VERTICAL,n=u.TILING_PADDING_HORIZONTAL,i={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:r,horizontalPadding:n};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var o=0;o<e.length;o++){var a=e[o];0==i.rows.length?this.insertNodeToRow(i,a,0,t):this.canAddHorizontal(i,a.rect.width,a.rect.height)?this.insertNodeToRow(i,a,this.getShortestRowIndex(i),t):this.insertNodeToRow(i,a,i.rows.length,t),this.shiftToLastRow(i)}return i},n.prototype.insertNodeToRow=function(e,t,r,n){var i=n;if(r==e.rows.length){e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0)}var o=e.rowWidth[r]+t.rect.width;e.rows[r].length>0&&(o+=e.horizontalPadding),e.rowWidth[r]=o,e.width<o&&(e.width=o);var a=t.rect.height;r>0&&(a+=e.verticalPadding);var s=0;a>e.rowHeight[r]&&(s=e.rowHeight[r],e.rowHeight[r]=a,s=e.rowHeight[r]-s),e.height+=s,e.rows[r].push(t)},n.prototype.getShortestRowIndex=function(e){for(var t=-1,r=Number.MAX_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]<r&&(t=n,r=e.rowWidth[n]);return t},n.prototype.getLongestRowIndex=function(e){for(var t=-1,r=Number.MIN_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]>r&&(t=n,r=e.rowWidth[n]);return t},n.prototype.canAddHorizontal=function(e,t,r){var n=this.getShortestRowIndex(e);if(n<0)return!0;var i=e.rowWidth[n];if(i+e.horizontalPadding+t<=e.width)return!0;var o=0;e.rowHeight[n]<r&&n>0&&(o=r+e.verticalPadding-e.rowHeight[n]);var a;a=e.width-i>=t+e.horizontalPadding?(e.height+o)/(i+t+e.horizontalPadding):(e.height+o)/e.width,o=r+e.verticalPadding;var s;return s=e.width<t?(e.height+o)/t:(e.height+o)/e.width,s<1&&(s=1/s),a<1&&(a=1/a),a<s},n.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),r=e.rowWidth.length-1,n=e.rows[t],i=n[n.length-1],o=i.width+e.horizontalPadding;if(e.width-e.rowWidth[r]>o&&t!=r){n.splice(-1,1),e.rows[r].push(i),e.rowWidth[t]=e.rowWidth[t]-o,e.rowWidth[r]=e.rowWidth[r]+o,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var a=Number.MIN_VALUE,s=0;s<n.length;s++)n[s].height>a&&(a=n[s].height);t>0&&(a+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[r];e.rowHeight[t]=a,e.rowHeight[r]<i.height+e.verticalPadding&&(e.rowHeight[r]=i.height+e.verticalPadding);e.height+=e.rowHeight[t]+e.rowHeight[r]-l,this.shiftToLastRow(e)}},n.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},n.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},e.exports=n},function(e){"use strict";function t(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){this.width=e},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){this.height=e},e.exports=t},function(e){"use strict";function t(){this.listeners=[]}var r=t.prototype;r.addListener=function(e,t){this.listeners.push({event:e,callback:t})},r.removeListener=function(e,t){for(var r=this.listeners.length;r>=0;r--){var n=this.listeners[r];n.event===e&&n.callback===t&&this.listeners.splice(r,1)}},r.emit=function(e,t){for(var r=0;r<this.listeners.length;r++){var n=this.listeners[r];e===n.event&&n.callback(t)}},e.exports=t},function(e){"use strict";var t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=function(e){return{value:e,next:null,prev:null}},n=function(e,t,r,n){return null!==e?e.next=t:n.head=t,null!==r?r.prev=t:n.tail=t,t.prev=e,t.next=r,n.length++,t},i=function(e,t){var r=e.prev,n=e.next;return null!==r?r.next=n:t.head=n,null!==n?n.prev=r:t.tail=r,e.prev=e.next=null,t.length--,e};e.exports=function(){function e(e){var t=this;this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(e){return t.push(e)})}return t(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return n(t.prev,r(e),t,this)}},{key:"insertAfter",value:function(e,t){return n(t,r(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return n(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return n(t,e,t.next,this)}},{key:"push",value:function(e){return n(this.tail,r(e),null,this)}},{key:"unshift",value:function(e){return n(null,r(e),this.head,this)}},{key:"remove",value:function(e){return i(e,this)}},{key:"pop",value:function(){return i(this.tail,this).value}},{key:"popNode",value:function(){return i(this.tail,this)}},{key:"shift",value:function(){return i(this.head,this).value}},{key:"shiftNode",value:function(){return i(this.head,this)}}]),e}()},function(e,t,r){"use strict";var n=r(27),i=function(e){e("layout","cose-bilkent",n(e))};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i}])})},LbY6:function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=r("KM04"),u=r("/QC5"),c=r("tAja"),h=r.n(c),d=(r("q8tP"),r("EuaG"));h.a.use(r.n(d).a);var p={name:"cose-bilkent",nodeDimensionsIncludeLabels:!0,numIter:5e3},f=function(e){function t(){for(var t,r,i,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=r=n(this,e.call.apply(e,[this].concat(a))),r.cyelement=null,r.cy=null,i=t,n(r,i)}return i(t,e),t.prototype.componentDidMount=function(){this.cy=h()({container:this.cyelement,style:[{selector:"node",style:{"background-color":"data(color)",label:"data(title)","font-size":"12px","text-halign":"center","text-outline-color":"data(color)","text-outline-width":"2px",color:"#333","overlay-padding":"6px","z-index":10}},{selector:"edge",style:{width:3,"line-color":"data(color)","target-arrow-color":"data(color)","target-arrow-shape":"triangle"}},{selector:"node.highlight",style:{"border-color":"#FFF","border-width":"2px"}},{selector:"node.semitransp",style:{opacity:"0.35"}},{selector:"edge.highlight",style:{"mid-target-arrow-color":"#FFF"}},{selector:"edge.semitransp",style:{opacity:"0.2"}}],layout:p,wheelSensitivity:.1,elements:this.props.elements})},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillReceiveProps=function(e){this.cy.json(e),this.cy.layout(p)},t.prototype.componentWillUnmount=function(){this.cy.destroy()},t.prototype.getCy=function(){return this.cy},t.prototype.render=function(){var e=this;return Object(l.h)("div",{ref:function(t){return e.cyelement=t}})},t}(l.Component);r.d(t,"a",function(){return g});var g=function(e){function t(){var r,n,i;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=n=a(this,e.call.apply(e,[this].concat(l))),n.graph=null,i=r,a(n,i)}return s(t,e),t.prototype.componentDidMount=function(){var e=this.graph.getCy();e.$("node").on("click",function(e){Object(u.route)("/keyphrase/"+e.target.id())}),e.$("edge").on("click",function(e){var t=e.target;Object(u.route)("/connected-keyphrases/"+t.source().id()+"/"+t.target().id())}),e.on("mouseover","node",function(t){var r=t.target;e.elements().difference(r.outgoers()).difference(r.incomers()).not(r).addClass("semitransp"),r.addClass("highlight").outgoers().incomers().addClass("highlight")}),e.on("mouseout","node",function(t){var r=t.target;e.elements().removeClass("semitransp"),r.removeClass("highlight").outgoers().incomers().removeClass("highlight")})},t.prototype.render=function(){var e=this,t=this.props.elements;return Object(l.h)("div",{className:"Graph"},Object(l.h)(f,{ref:function(t){return e.graph=t},elements:t}))},t}(l.Component)},QNth:function(e,t,r){e.exports=r("6W3y")},WT05:function(e){e.exports={keyphrase:"keyphrase__3nxC1"}},nPj3:function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.d(t,"a",function(){return u});var o=r("KM04"),a=(r.n(o),r("WT05")),s=(r.n(a),function(e,t){return t.forEach(function(t){var r=new RegExp("("+t+")","g");e=e.replace(r,"<mark>$1</mark>")}),e}),l=Object(o.h)("br",null),u=function(e){function t(){return n(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.article,r=e.highlight;return Object(o.h)("div",{class:"column is-one-quarter"},Object(o.h)("div",{class:"card article-card"},Object(o.h)("div",{class:"card-image"},Object(o.h)("figure",{class:"article-image",style:{"background-image":"url("+t.photo+")"}})),Object(o.h)("div",{class:"card-content"},Object(o.h)("div",{class:"content"},Object(o.h)("h1",{class:"title is-4"},Object(o.h)("a",{href:t.link},t.title)," ",t.keywords.map(function(e){return Object(o.h)("span",null," ",Object(o.h)("span",{class:"tag is-light is-medium"},e))})),Object(o.h)("div",{dangerouslySetInnerHTML:{__html:s(t.summary,r)}}),l,Object(o.h)("a",{href:t.link},"Read more")))))},t}(o.Component)},q8tP:function(module,exports,__webpack_require__){(function(global){var require,require;!function(e){module.exports=e()}(function(){var define,module,exports;return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return require(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(_dereq_,module,exports){(function(global,__dirname){!function(e){if("object"==typeof exports&&void 0!==module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this,t.weaver=e()}}(function(){var define,module,exports;return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t){"use strict";var r=e("./is"),n=e("./util"),i=e("./promise"),o=e("./event"),a={event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(e){return e=n.extend({},{unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1},e),function(t,n,i){var o=this,s=void 0!==o.length,l=s?o:[o],u=r.string(t),c=e;if((r.fn(n)||!1===n)&&(i=n,n=void 0),!r.fn(i)&&!1!==i&&u)return o;if(u){var h={};h[t]=i,t=h}for(var d in t)if(i=t[d],!1===i&&(i=a.event.falseCallback),r.fn(i)){d=d.split(/\s+/);for(var p=0;p<d.length;p++){var f=d[p];if(!r.emptyString(f)){var g=f.match(a.event.regex);if(g)for(var v=g[1],y=g[2]?g[2]:void 0,m={callback:i,data:n,type:v,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},b=0;b<l.length;b++){var x=l[b]._private;x.listeners=x.listeners||[],x.listeners.push(m)}}}}return o}},eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.removeListener=t.unlisten=t.unbind=t.off,t.emit=t.trigger,t.pon=t.promiseOn=function(){var e=this,t=Array.prototype.slice.call(arguments,0);return new i(function(r){var n=function(t){e.off.apply(e,o),r(t)},i=t.concat([n]),o=i.concat([]);e.on.apply(e,i)})}},off:function(e){return e=n.extend({},{},e),function(e,t){var n=this,i=void 0!==n.length,o=i?n:[n],s=r.string(e);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return n}if(s){var u={};u[e]=t,e=u}for(var c in e){t=e[c],!1===t&&(t=a.event.falseCallback),c=c.split(/\s+/);for(var h=0;h<c.length;h++){var d=c[h];if(!r.emptyString(d)){var p=d.match(a.event.optionalTypeRegex);if(p)for(var f=p[1]?p[1]:void 0,g=p[2]?p[2]:void 0,l=0;l<o.length;l++)for(var v=o[l]._private.listeners=o[l]._private.listeners||[],y=0;y<v.length;y++){var m=v[y],b=!g||g===m.namespace,x=!f||m.type===f,w=!t||t===m.callback,E=b&&x&&w;E&&(v.splice(y,1),y--)}}}}return n}},trigger:function(e){return e=n.extend({},{},e),function(e,t,n){var i=this,s=void 0!==i.length,l=s?i:[i],u=r.string(e),c=r.plainObject(e),h=r.event(e);if(u){var d=e.split(/\s+/);e=[];for(var p=0;p<d.length;p++){var f=d[p];if(!r.emptyString(f)){var g=f.match(a.event.regex);e.push({type:g[1],namespace:g[2]?g[2]:void 0})}}}else if(c){var v=e;e=[v]}t?r.array(t)||(t=[t]):t=[];for(var p=0;p<e.length;p++)for(var y=e[p],m=0;m<l.length;m++){var f,b=l[m],x=b._private.listeners=b._private.listeners||[];f=h?y:new o(y,{namespace:y.namespace}),n&&(x=[{namespace:f.namespace,type:f.type,callback:n}]);for(var w=0;w<x.length;w++){var E=x[w],T=!E.namespace||E.namespace===f.namespace,_=E.type===f.type,D=T&&_&&!0;if(D){var C=[f];if(C=C.concat(t),f.data=E.data?E.data:void 0,(E.unbindSelfOnTrigger||E.unbindAllBindersOnTrigger)&&(x.splice(w,1),w--),E.unbindAllBindersOnTrigger)for(var N=E.binders,L=0;L<N.length;L++){var P=N[L];if(P&&P!==b)for(var S=P._private.listeners,A=0;A<S.length;A++){var I=S[A];I===E&&(S.splice(A,1),A--)}}var M=b,O=E.callback.apply(M,C);(!1===O||f.isPropagationStopped())&&!1===O&&(f.stopPropagation(),f.preventDefault())}}}return i}}};t.exports=a},{"./event":2,"./is":5,"./promise":6,"./util":8}],2:[function(e,t){"use strict";function r(){return!1}function n(){return!0}var i=function e(t,i){if(!(this instanceof e))return new e(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?n:r):this.type=t,i&&(this.type=void 0!==i.type?i.type:this.type,this.namespace=i.namespace,this.layout=i.layout,this.data=i.data,this.message=i.message),this.timeStamp=t&&t.timeStamp||+new Date};i.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=n;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=n;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r},t.exports=i},{}],3:[function(e,t){"use strict";var r=e("./is"),n=e("./util"),i=e("./thread"),o=e("./promise"),a=e("./define"),s=function t(n){if(!(this instanceof t))return new t(n);this._private={pass:[]};if(r.number(n),"undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)n=navigator.hardwareConcurrency;else try{n=e("os").cpus().length}catch(e){n=4}for(var o=0;o<n;o++)this[o]=new i;this.length=n},l=s.prototype;n.extend(l,{instanceString:function(){return"fabric"},require:function(e,t){for(var r=0;r<this.length;r++){this[r].require(e,t)}return this},random:function(){return this[Math.round((this.length-1)*Math.random())]},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){this[t].message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){this[e].stop()}return this},pass:function(e){var t=this._private.pass;if(!r.array(e))throw"Only arrays may be used with fabric.pass()";return t.push(e),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(e){for(var t=this,r=t._private,n=t.spreadSize(),i=r.pass.shift().concat([]),a=[],s=0;s<this.length;s++){a.push(this[s].pass(i.splice(0,n)).run(e));if(0===i.length)break}return o.all(a).then(function(e){for(var t=[],r=0,n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++){var a=i[o];t[r++]=a}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],r=resolve;resolve=function(e){t.push(e)};for(var n=0;n<e.length;n++){var i=t.length,o=_$_$_fabmap(e[n]);i===t.length&&t.push(o)}return resolve=r,t})},filter:function(e){var t=this._private,r=t.pass[0];return this.map(e).then(function(e){for(var t=[],n=0;n<r.length;n++){var i=r[n];e[n]&&t.push(i)}return t})},sort:function(e){var t=this,r=this._private.pass[0].length,n=this.spreadSize();return e=e||function(e,t){return e<t?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=n;i<r;i*=2)for(var o=0;o<r;o+=2*i)!function(n,i,o){i=Math.min(i,r),o=Math.min(o,r);for(var a=n,s=i,l=[],u=a;u<o;u++){var c=t[n],h=t[i];n<s&&(i>=o||e(c,h)<=0)?(l.push(c),n++):(l.push(h),i++)}for(var u=0;u<l.length;u++){t[a+u]=l[u]}}(o,o+i,o+2*i);return t})}});var u=function(e){return e=e||{},function(t,r){var n=this._private.pass.shift();return this.random().pass(n)[e.threadFn](t,r)}};n.extend(l,{randomMap:u({threadFn:"map"}),reduce:u({threadFn:"reduce"}),reduceRight:u({threadFn:"reduceRight"})});var c=l;c.promise=c.run,c.terminate=c.halt=c.stop,c.include=c.require,n.extend(l,{on:a.on(),one:a.on({unbindSelfOnTrigger:!0}),off:a.off(),trigger:a.trigger()}),a.eventAliasesOn(l),t.exports=s},{"./define":1,"./is":5,"./promise":6,"./thread":7,"./util":8,os:void 0}],4:[function(e,t){"use strict";var r=e("./thread"),n=e("./fabric"),i=function(){};i.version="1.2.0",i.thread=i.Thread=i.worker=i.Worker=r,i.fabric=i.Fabric=n,t.exports=i},{"./fabric":3,"./thread":7}],5:[function(e,t){"use strict";var r=typeof{},n=function(e){return e&&e.instanceString&&i.fn(e.instanceString)?e.instanceString():null},i={defined:function(e){return null!=e},string:function(e){return null!=e&&"string"==typeof e},fn:function(e){return null!=e&&"function"==typeof e},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&typeof e===r&&!i.array(e)&&e.constructor===Object},object:function(e){return null!=e&&typeof e===r},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(e){return i.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&typeof e==typeof!0},event:function(e){return"event"===n(e)},thread:function(e){return"thread"===n(e)},fabric:function(e){return"fabric"===n(e)},emptyString:function(e){return!e||!(!i.string(e)||""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!i.string(e)||""===e||e.match(/^\s+$/))}};t.exports=i},{}],6:[function(e,t){"use strict";var r=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};r.prototype={fulfill:function(e){return n(this,1,"fulfillValue",e)},reject:function(e){return n(this,2,"rejectReason",e)},then:function(e,t){var n=this,o=new r;return n.onFulfilled.push(a(e,o,"fulfill")),n.onRejected.push(a(t,o,"reject")),i(n),o.proxy}};var n=function(e,t,r,n){return 0===e.state&&(e.state=t,e[r]=n,i(e)),e},i=function(e){1===e.state?o(e,"onFulfilled",e.fulfillValue):2===e.state&&o(e,"onRejected",e.rejectReason)},o=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},a=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(e){return void t.reject(e)}s(t,i)}}},s=function e(t,r){if(t===r||t.proxy===r)return void t.reject(new TypeError("cannot resolve promise with itself"));var n;if("object"==typeof r&&null!==r||"function"==typeof r)try{n=r.then}catch(e){return void t.reject(e)}if("function"!=typeof n)t.fulfill(r);else{var i=!1;try{n.call(r,function(n){i||(i=!0,n===r?t.reject(new TypeError("circular thenable chain")):e(t,n))},function(e){i||(i=!0,t.reject(e))})}catch(e){i||t.reject(e)}}},l=void 0===l?r:l;l.all=l.all||function(e){return new l(function(t,r){for(var n=new Array(e.length),i=0,o=function(r,o){n[r]=o,++i===e.length&&t(n)},a=0;a<e.length;a++)!function(t){var n=e[t];null!=n.then?n.then(function(e){o(t,e)},function(e){r(e)}):o(t,n)}(a)})},t.exports=l},{}],7:[function(_dereq_,module,exports){"use strict";var window=_dereq_("./window"),util=_dereq_("./util"),Promise=_dereq_("./promise"),Event=_dereq_("./event"),define=_dereq_("./define"),is=_dereq_("./is"),Thread=function e(t){if(!(this instanceof e))return new e(t);var r=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(t)&&null!=t.disabled&&(r.disabled=!!t.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){return is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')"},fnAsRequire=function e(t){var r,n;is.object(t)&&t.fn?(r=fnAs(t.fn,t.name),n=t.name,t=t.fn):is.fn(t)?(r=t.toString(),n=t.name):is.string(t)?r=t:is.object(t)&&(r=t.proto?"":t.name+" = {};",n=t.name,t=t.obj),r+="\n";var i=function(t,n){if(t.prototype){var i=!1;for(var o in t.prototype){i=!0;break}i&&(r+=e({name:n,obj:t,proto:!0},t))}};if(t.prototype&&null!=n)for(var o in t.prototype){var a="",s=t.prototype[o],l=stringifyFieldVal(s),u=n+".prototype."+o;a+=u+" = "+l+";\n",a&&(r+=a),i(s,u)}if(!is.string(t))for(var o in t){var c="";if(t.hasOwnProperty(o)){var s=t[o],l=stringifyFieldVal(s),u=n+'["'+o+'"]';c+=u+" = "+l+";\n"}c&&(r+=c),i(s,u)}return r},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var r=this._private.requires;if(isPathStr(e))return this._private.files.push(e),this;if(t)e=is.fn(e)?{name:t,fn:e}:{name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}return r.push(e),this},pass:function(e){return this._private.pass.push(e),this},run:function run(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&void 0!==module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){return'importScripts("'+function(e){return e.match(/^\.\//)||e.match(/^\.\./)?window.location.origin+window.location.pathname+e:e.match(/^\//)?window.location.origin+"/"+e:e}(e)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var _cb2;ww.addEventListener("message",_cb2=function(e){var t=is.object(e)&&is.object(e.data);t&&"$$resolve"in e.data?(ww.removeEventListener("message",_cb2),resolve(e.data.$$resolve)):t&&"$$reject"in e.data?(ww.removeEventListener("message",_cb2),reject(e.data.$$reject)):self.trigger(new Event(e,{type:"message",message:e.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=_dereq_("child_process").fork(_dereq_("path").join(__dirname,"thread-node-fork")));var child=_p.child,_cb2;child.on("message",_cb2=function(e){is.object(e)&&"$$resolve"in e?(child.removeListener("message",_cb2),resolve(e.$$resolve)):is.object(e)&&"$$reject"in e?(child.removeListener("message",_cb2),reject(e.$$reject)):self.trigger(new Event({},{type:"message",message:e}))}),child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function exec(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr,eval(fnStr)},message:function(e){for(var t=timer.listeners,r=0;r<t.length;r++){(0,t[r])(e)}}};timer.exec()}}).then(function(e){return _p.running=!1,_p.ran=!0,self.trigger("ran"),e});return null==_p.queue&&(_p.queue=runP),runP},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),t.timer&&t.timer.message(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var r=e.toString();return r=r.replace(/function\s*?\S*?\s*?\(/,"function "+t+"(")},defineFnal=function(e){return e=e||{},function(t,r){return this.require(fnAs(t,"_$_$_"+e.name)),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(r):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread},{"./define":1,"./event":2,"./is":5,"./promise":6,"./util":8,"./window":9,child_process:void 0,path:void 0}],8:[function(e,t){"use strict";var r,n=e("./is");r={extend:function(){var e,t,i,o,a,s,l=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof l&&(h=l,l=arguments[1]||{},u=2),"object"==typeof l||n.fn(l)||(l={}),c===u&&(l=this,--u);u<c;u++)if(null!=(e=arguments[u]))for(t in e)i=l[t],o=e[t],l!==o&&(h&&o&&(n.plainObject(o)||(a=n.array(o)))?(a?(a=!1,s=i&&n.array(i)?i:[]):s=i&&n.plainObject(i)?i:{},l[t]=r.extend(h,s,o)):void 0!==o&&(l[t]=o));return l},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}}},t.exports=r},{"./is":5}],9:[function(e,t){t.exports="undefined"==typeof window?null:window},{}]},{},[4])(4)})}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/node_modules/weaverjs/dist")},{}],2:[function(t,r){window.foograph={insertVertex:function(e){this.vertices.push(e),this.vertexCount++},insertEdge:function(e,t,r,n,i){var o=new foograph.Edge(e,t,n,i),a=new foograph.Edge(null,t,r,null);return r.edges.push(o),n.reverseEdges.push(a),o},removeEdge:function(e,t){for(var r=e.edges.length-1;r>=0;r--)if(e.edges[r].endVertex==t){e.edges.splice(r,1);break}for(var r=t.reverseEdges.length-1;r>=0;r--)if(t.reverseEdges[r].endVertex==e){t.reverseEdges.splice(r,1);break}},removeVertex:function(e){for(var t=e.edges.length-1;t>=0;t--)this.removeEdge(e,e.edges[t].endVertex);for(var t=e.reverseEdges.length-1;t>=0;t--)this.removeEdge(e.reverseEdges[t].endVertex,e);for(var t=this.vertices.length-1;t>=0;t--)if(this.vertices[t]==e){this.vertices.splice(t,1);break}this.vertexCount--},plot:function(e){var t=0;for(t=0;t<this.vertices.length;t++){var r=this.vertices[t];if(!r.hidden)for(var n=0;n<r.edges.length;n++){var i=r.edges[n];i.hidden||i.draw(e,r)}}for(t=0;t<this.vertices.length;t++)r=this.vertices[t],r.hidden||r.draw(e)},Graph:function(e,t){this.label=e,this.vertices=new Array,this.directed=t,this.vertexCount=0,this.insertVertex=foograph.insertVertex,this.removeVertex=foograph.removeVertex,this.insertEdge=foograph.insertEdge,this.removeEdge=foograph.removeEdge,this.plot=foograph.plot},Vertex:function(e,t,r,n){this.label=e,this.edges=new Array,this.reverseEdges=new Array,this.x=t,this.y=r,this.dx=0,this.dy=0,this.level=-1,this.numberOfParents=0,this.hidden=!1,this.fixed=!1,this.style=null!=n?n:new foograph.VertexStyle("ellipse",80,40,"#ffffff","#000000",!0)},VertexStyle:function(e,t,r,n,i,o){this.shape=e,this.width=t,this.height=r,this.fillColor=n,this.borderColor=i,this.showLabel=o},Edge:function(e,t,r,n){this.label=e,this.weight=t,this.endVertex=r,this.style=null,this.hidden=!1,this.curved=!1,this.controlX=-1,this.controlY=-1,this.original=null,this.style=null!=n?n:new foograph.EdgeStyle(2,"#000000",!0,!1)},EdgeStyle:function(e,t,r,n){this.width=e,this.color=t,this.showArrow=r,this.showLabel=n},RandomVertexLayout:function(e,t){this.width=e,this.height=t},ForceDirectedVertexLayout:function(e,t,r,n,i){this.width=e,this.height=t,this.iterations=r,this.randomize=n,this.eps=i,this.callback=function(){}},A:1.5,R:.5},foograph.Vertex.prototype.toString=function(){return"[v:"+this.label+"] "},foograph.Edge.prototype.toString=function(){return"[e:"+this.endVertex.label+"] "},foograph.Vertex.prototype.draw=function(e){var t=this.x,r=this.y,n=this.style.width,i=this.style.height,o=this.style.shape;e.setStroke(2),e.setColor(this.style.fillColor),"rect"==o?(e.fillRect(t,r,n,i),e.setColor(this.style.borderColor),e.drawRect(t,r,n,i)):(e.fillEllipse(t,r,n,i),e.setColor(this.style.borderColor),e.drawEllipse(t,r,n,i)),this.style.showLabel&&e.drawStringRect(this.label,t,r+i/2-7,n,"center")},foograph.Graph.prototype.normalize=function(e,t,r){for(var n in this.vertices){var i=this.vertices[n];i.oldX=i.x,i.oldY=i.y}var o=.1*e,a=.9*e,s=.1*t,l=.9*t;null==r&&(r=!0);var u=Number.MAX_VALUE,c=Number.MAX_VALUE,h=Number.MIN_VALUE,d=Number.MIN_VALUE;for(var p in this.vertices){var i=this.vertices[p];i.x<u&&(u=i.x),i.y<c&&(c=i.y),i.x>h&&(h=i.x),i.y>d&&(d=i.y)}var f=(a-o)/(h-u),g=(l-s)/(d-c);r&&(f=Math.min(f,g),g=Math.min(f,g));var v=Number.MIN_VALUE,y=Number.MIN_VALUE;for(var n in this.vertices){var i=this.vertices[n];i.x=(i.x-u)*f,i.y=(i.y-c)*g,i.x>v&&(v=i.x),i.y>y&&(y=i.y)}var m=(e-v)/2,b=(t-y)/2;for(var n in this.vertices){var i=this.vertices[n];i.x+=m,i.y+=b}},foograph.Edge.prototype.draw=function(e,t){function r(e){return(1-e)*(1-e)*u+2*(1-e)*e*p+e*e*h}function n(e){return(1-e)*(1-e)*c+2*(1-e)*e*f+e*e*d}function i(e,t){var r=0;return e>0&&t>=0&&(r=Math.atan(t/e)),e>0&&t<0&&(r=Math.atan(t/e)+2*Math.PI),e<0&&(r=Math.atan(t/e)+Math.PI),(e=0)&&(r=Math.PI/2),(e=0)&&(r=3*Math.PI/2),r}function o(e,t){return Math.sqrt(e*e+t*t)}var a,s,l,u=Math.round(t.x+t.style.width/2),c=Math.round(t.y+t.style.height/2),h=Math.round(this.endVertex.x+this.endVertex.style.width/2),d=Math.round(this.endVertex.y+this.endVertex.style.height/2),p=this.controlX,f=this.controlY;if(e.setStroke(this.style.width),e.setColor(this.style.color),this.curved){this.curved=!1;for(var g,v,y=0,m=u,b=c;y<.9;)y+=.1,g=r(y),v=n(y),e.drawLine(m,b,g,v),m=g,b=v;a=m,s=b,l=i(r(.8)-a,n(.8)-s)}else e.drawLine(u,c,h,d),a=h,s=d,l=i(u-a,c-s);this.style.showArrow&&function(t,r,n){var a=0,s=0,l=50,u=5,c=50,h=-5,d=o(l,u),p=o(c,h),f=i(l,u),g=i(c,h);f+=t,g+=t,l=d*Math.cos(f),u=d*Math.sin(f),c=p*Math.cos(g),h=p*Math.sin(g),a+=r,s+=n,l+=r,u+=n,c+=r,h+=n,e.fillPolygon(new Array(a,l,c),new Array(s,u,h))}(l,a,s)},foograph.RandomVertexLayout.prototype.layout=function(e){for(var t=0;t<e.vertices.length;t++){var r=e.vertices[t];r.x=Math.round(Math.random()*this.width),r.y=Math.round(Math.random()*this.height)}},foograph.ForceDirectedVertexLayout.prototype.__identifyComponents=function(t){var r=new Array,n=new Array;for(var i in t.vertices){var o=t.vertices[i];o.__dfsVisited=!1}for(var a in t.vertices){var o=t.vertices[a];o.__dfsVisited||o.hidden||function(e){function t(e){o.push(e),e.__dfsVisited=!0;for(var t in e.edges){var r=e.edges[t];r.hidden||i.push(r.endVertex)}for(var t in e.reverseEdges)e.reverseEdges[t].hidden||i.push(e.reverseEdges[t].endVertex)}var i=new Array,o=new Array,a=new foograph.Vertex("component_center",-1,-1);for(a.hidden=!0,r.push(a),n.push(o),t(e);i.length>0;){var s=i.pop();s.__dfsVisited||s.hidden||t(s)}}(o)}if(r.length>1){for(var i in r)t.insertVertex(r[i]);for(var i in n)for(var s in n[i])edge=t.insertEdge("",1,n[i][s],r[i]),edge.hidden=!0;for(var i in r)for(var s in r)i!=s&&(e=t.insertEdge("",3,r[i],r[s]),e.hidden=!0);return r}return null},foograph.ForceDirectedVertexLayout.prototype.layout=function(e){this.graph=e;var t=this.width*this.height,r=Math.sqrt(t/e.vertexCount),n=this.width/10,i=n/(this.iterations+1),o=this.eps;centers=this.__identifyComponents(e),this.randomize&&(randomLayout=new foograph.RandomVertexLayout(this.width,this.height),randomLayout.layout(e));for(var a=0;a<this.iterations;a++){for(var s in e.vertices){var l=e.vertices[s];if(l.dx=0,l.dy=0,!l.fixed)for(var u in e.vertices){var c=e.vertices[u];if(l!=c&&!c.fixed){var h=l.x-c.x,d=l.y-c.y,p=Math.max(o,Math.sqrt(h*h+d*d)),f=function(e){return foograph.R*r*r/e}(p);l.dx=l.dx+h/p*f,l.dy=l.dy+d/p*f}}}for(var g in e.vertices){var l=e.vertices[g];if(!l.fixed)for(var v in l.edges){var y=l.edges[v],c=y.endVertex,h=l.x-c.x,d=l.y-c.y,p=Math.max(o,Math.sqrt(h*h+d*d)),f=function(e){return foograph.A*e*e/r}(p),p=Math.max(o,Math.sqrt(h*h+d*d));l.dx=l.dx-h/p*f,l.dy=l.dy-d/p*f,c.dx=c.dx+h/p*f,c.dy=c.dy+d/p*f}}for(var m in e.vertices){var l=e.vertices[m];if(!l.fixed){var p=Math.max(o,Math.sqrt(l.dx*l.dx+l.dy*l.dy));l.x=l.x+l.dx/p*Math.min(p,n),l.y=l.y+l.dy/p*Math.min(p,n),l.x=Math.round(l.x),l.y=Math.round(l.y)}}n-=i,a%10==0&&this.callback()}if(centers)for(var b in centers)e.removeVertex(centers[b]);e.normalize(this.width,this.height,!0)},r.exports=foograph},{}],3:[function(e,t){"use strict";var r=e("./layout"),n=function(t,n){t("layout","spread",r(t,n||e("weaverjs")))};"undefined"==typeof cytoscape||"undefined"==typeof weaver&&void 0===cytoscape.Thread||n(cytoscape,weaver||cytoscape),t.exports=n},{"./layout":4,weaverjs:1}],4:[function(e,t){function r(e){var t=this.options={};for(var r in a)t[r]=a[r];for(var r in e)t[r]=e[r]}var n,i=e("./foograph"),o=e("./rhill-voronoi-core"),a={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0,randomize:!1};r.prototype.run=function(){function e(e){for(var t=e.vertices,n=[],i=0;i<t.length;++i){var o=t[i];n[o.id]={x:o.x,y:o.y}}l.positions(function(e,t){"number"==typeof e&&(e=t);var r=e.id(),i=n[r];return{x:Math.round(g.x1+i.x),y:Math.round(g.y1+i.y)}}),r.fit&&a.fit(r.padding)}var t=this,r=this.options,a=r.cy,s=r.boundingBox||{x1:0,y1:0,w:a.width(),h:a.height()};void 0===s.x2&&(s.x2=s.x1+s.w),void 0===s.w&&(s.w=s.x2-s.x1),void 0===s.y2&&(s.y2=s.y1+s.h),void 0===s.h&&(s.h=s.y2-s.y1);var l=a.nodes(),u=a.edges(),c=a.width(),h=a.height(),d=s,p=r.padding,f=Math.max(1,.8*Math.log(l.length));l.length<100&&(f/=2),t.trigger({type:"layoutstart",layout:t});var g={x1:0,y1:0,x2:c*f,y2:h*f};d&&(g.x1=d.x1,g.y1=d.y1,g.x2=d.x2,g.y2=d.y2),g.x1+=p,g.y1+=p,g.x2-=p,g.y2-=p;var v=g.x2-g.x1,y=g.y2-g.y1,m=Date.now();if(l.size()<=1){l.positions({x:Math.round((g.x1+g.x2)/2),y:Math.round((g.y1+g.y2)/2)}),r.fit&&a.fit(r.padding);var b=Date.now();return console.info("Layout on "+l.size()+" nodes took "+(b-m)+" ms"),t.one("layoutready",r.ready),t.trigger("layoutready"),t.one("layoutstop",r.stop),void t.trigger("layoutstop")}for(var x={width:v,height:y,minDist:r.minDist,expFact:r.expandingFactor,expIt:0,maxExpIt:r.maxExpandIterations,vertices:[],edges:[],startTime:m,maxFruchtermanReingoldIterations:r.maxFruchtermanReingoldIterations},w=l.length-1;w>=0;w--){var E=l[w].id(),T=l[w].position();r.randomize&&(T={x:Math.round(g.x1+(g.x2-g.x1)*Math.random()),y:Math.round(g.y1+(g.y2-g.y1)*Math.random())}),x.vertices.push({id:E,x:T.x,y:T.y})}for(var w=u.length-1;w>=0;w--){x.edges.push({src:u[w].source().id(),tgt:u[w].target().id()})}var _=t.thread;_&&!_.stopped()||(_=t.thread=n(),_.require(i,"foograph"),_.require(o,"Voronoi"));var D=!1;return _.on("message",function(n){var i=n.message;r.animate&&(e(i),D||(t.trigger("layoutready"),D=!0))}),t.one("layoutready",r.ready),_.pass(x).run(function(e){function t(e){for(var t,r,n,i=e.halfedges,o=0,a=0,s=0,l=0;l<i.length;++l)t=i[l].getEndpoint(),r=i[l].getStartpoint(),o+=t.x*r.y,o-=t.y*r.x,n=t.x*r.y-r.x*t.y,a+=(t.x+r.x)*n,s+=(t.y+r.y)*n;return o/=2,n=6*o,{x:a/n,y:s/n}}function r(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}function n(e){for(var t=0,n=0;n<e.length;++n){var i=e[n];null!=i.lSite&&null!=i.rSite&&r(i.lSite,i.rSite)<l&&++t}return t}i=_ref_("foograph"),o=_ref_("Voronoi");for(var a=e.width,s=e.height,l=e.minDist,u=e.expFact,c=e.maxExpIt,h=e.maxFruchtermanReingoldIterations,d=function(){e.width=a,e.height=s,e.expIt=F,e.expFact=u,e.vertices=[];for(var t=0;t<E.length;++t)e.vertices.push({id:E[t].label,x:E[t].x,y:E[t].y})},p=function(){broadcast(e)},f=new i.Graph("FRgraph",!1),g={},v=e.vertices,y=0;y<v.length;++y){var m=v[y].id,b=new i.Vertex(m,Math.round(Math.random()*s),Math.round(Math.random()*s));g[m]=b,f.insertVertex(b)}for(var x=e.edges,w=0;w<x.length;++w){f.insertEdge("",1,g[x[w].src],g[x[w].tgt])}var E=f.vertices,T=h,_=new i.ForceDirectedVertexLayout(a,s,T,!1,l);if(_.callback=function(){d(),p()},_.layout(f),d(),p(),c<=0)return e;for(var D=new o,C={xl:0,xr:a,yt:0,yb:s},N=[],L=0;L<E.length;++L)N[E[L].label]=E[L];for(var P=D.compute(E,C),S=P.cells,L=0;L<S.length;++L){var A=S[L],I=A.site,M=t(A),O=N[I.label];O.x=M.x,O.y=M.y}u<0&&(u=Math.max(.05,Math.min(.1,l/Math.sqrt(a*s/E.length)*.5)));for(var R=n(P.edges),k=R<=0||c<=0,B=0,F=0;!k;){++B;for(var z=0;z<=4;++z){D.recycle(P),P=D.compute(E,C);for(var L=0;L<S.length;++L){var A=S[L],I=A.site,M=t(A),O=N[I.label];O.x=M.x,O.y=M.y}}var V=n(P.edges);V<=0?k=!0:(V>=R||B>=4)&&(F>=c?k=!0:(a+=a*u,s+=s*u,C={xl:0,xr:a,yt:0,yb:s},++F,B=0)),R=V,d(),p()}return d(),e}).then(function(n){var i=n.vertices;e(n);var o=n.startTime,a=new Date;console.info("Layout on "+i.length+" nodes took "+(a-o)+" ms"),t.one("layoutstop",r.stop),r.animate||t.trigger("layoutready"),t.trigger("layoutstop"),_.stop()}),this},r.prototype.stop=function(){this.thread&&this.thread.stop(),this.trigger("layoutstop")},r.prototype.destroy=function(){this.thread&&this.thread.stop()},t.exports=function(e,t){return n=t.Thread,r}},{"./foograph":2,"./rhill-voronoi-core":5}],5:[function(e,t){function r(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}r.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var e=this.beachline.getFirst(this.beachline.root);e;)this.beachsectionJunkyard.push(e),e=e.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},r.prototype.sqrt=function(e){return Math.sqrt(e)},r.prototype.abs=function(e){return Math.abs(e)},r.prototype.ε=r.ε=1e-9,r.prototype.invε=r.invε=1/r.ε,r.prototype.equalWithEpsilon=function(e,t){return this.abs(e-t)<1e-9},r.prototype.greaterThanWithEpsilon=function(e,t){return e-t>1e-9},r.prototype.greaterThanOrEqualWithEpsilon=function(e,t){return t-e<1e-9},r.prototype.lessThanWithEpsilon=function(e,t){return t-e>1e-9},r.prototype.lessThanOrEqualWithEpsilon=function(e,t){return e-t<1e-9},r.prototype.RBTree=function(){this.root=null},r.prototype.RBTree.prototype.rbInsertSuccessor=function(e,t){var r;if(e){if(t.rbPrevious=e,t.rbNext=e.rbNext,e.rbNext&&(e.rbNext.rbPrevious=t),e.rbNext=t,e.rbRight){for(e=e.rbRight;e.rbLeft;)e=e.rbLeft;e.rbLeft=t}else e.rbRight=t;r=e}else this.root?(e=this.getFirst(this.root),t.rbPrevious=null,t.rbNext=e,e.rbPrevious=t,e.rbLeft=t,r=e):(t.rbPrevious=t.rbNext=null,this.root=t,r=null);t.rbLeft=t.rbRight=null,t.rbParent=r,t.rbRed=!0;var n,i;for(e=t;r&&r.rbRed;)n=r.rbParent,r===n.rbLeft?(i=n.rbRight,i&&i.rbRed?(r.rbRed=i.rbRed=!1,n.rbRed=!0,e=n):(e===r.rbRight&&(this.rbRotateLeft(r),e=r,r=e.rbParent),r.rbRed=!1,n.rbRed=!0,this.rbRotateRight(n))):(i=n.rbLeft,i&&i.rbRed?(r.rbRed=i.rbRed=!1,n.rbRed=!0,e=n):(e===r.rbLeft&&(this.rbRotateRight(r),e=r,r=e.rbParent),r.rbRed=!1,n.rbRed=!0,this.rbRotateLeft(n))),r=e.rbParent;this.root.rbRed=!1},r.prototype.RBTree.prototype.rbRemoveNode=function(e){e.rbNext&&(e.rbNext.rbPrevious=e.rbPrevious),e.rbPrevious&&(e.rbPrevious.rbNext=e.rbNext),e.rbNext=e.rbPrevious=null;var t,r=e.rbParent,n=e.rbLeft,i=e.rbRight;t=n?i?this.getFirst(i):n:i,r?r.rbLeft===e?r.rbLeft=t:r.rbRight=t:this.root=t;var o;if(n&&i?(o=t.rbRed,t.rbRed=e.rbRed,t.rbLeft=n,n.rbParent=t,t!==i?(r=t.rbParent,t.rbParent=e.rbParent,e=t.rbRight,r.rbLeft=e,t.rbRight=i,i.rbParent=t):(t.rbParent=r,r=t,e=t.rbRight)):(o=e.rbRed,e=t),e&&(e.rbParent=r),!o){if(e&&e.rbRed)return void(e.rbRed=!1);var a;do{if(e===this.root)break;if(e===r.rbLeft){if(a=r.rbRight,a.rbRed&&(a.rbRed=!1,r.rbRed=!0,this.rbRotateLeft(r),a=r.rbRight),a.rbLeft&&a.rbLeft.rbRed||a.rbRight&&a.rbRight.rbRed){a.rbRight&&a.rbRight.rbRed||(a.rbLeft.rbRed=!1,a.rbRed=!0,this.rbRotateRight(a),a=r.rbRight),a.rbRed=r.rbRed,r.rbRed=a.rbRight.rbRed=!1,this.rbRotateLeft(r),e=this.root;break}}else if(a=r.rbLeft,a.rbRed&&(a.rbRed=!1,r.rbRed=!0,this.rbRotateRight(r),a=r.rbLeft),a.rbLeft&&a.rbLeft.rbRed||a.rbRight&&a.rbRight.rbRed){a.rbLeft&&a.rbLeft.rbRed||(a.rbRight.rbRed=!1,a.rbRed=!0,this.rbRotateLeft(a),a=r.rbLeft),a.rbRed=r.rbRed,r.rbRed=a.rbLeft.rbRed=!1,this.rbRotateRight(r),e=this.root;break}a.rbRed=!0,e=r,r=r.rbParent}while(!e.rbRed);e&&(e.rbRed=!1)}},r.prototype.RBTree.prototype.rbRotateLeft=function(e){var t=e,r=e.rbRight,n=t.rbParent;n?n.rbLeft===t?n.rbLeft=r:n.rbRight=r:this.root=r,r.rbParent=n,t.rbParent=r,t.rbRight=r.rbLeft,t.rbRight&&(t.rbRight.rbParent=t),r.rbLeft=t},r.prototype.RBTree.prototype.rbRotateRight=function(e){var t=e,r=e.rbLeft,n=t.rbParent;n?n.rbLeft===t?n.rbLeft=r:n.rbRight=r:this.root=r,r.rbParent=n,t.rbParent=r,t.rbLeft=r.rbRight,t.rbLeft&&(t.rbLeft.rbParent=t),r.rbRight=t},r.prototype.RBTree.prototype.getFirst=function(e){for(;e.rbLeft;)e=e.rbLeft;return e},r.prototype.RBTree.prototype.getLast=function(e){for(;e.rbRight;)e=e.rbRight;return e},r.prototype.Diagram=function(e){this.site=e},r.prototype.Cell=function(e){this.site=e,this.halfedges=[],this.closeMe=!1},r.prototype.Cell.prototype.init=function(e){return this.site=e,this.halfedges=[],this.closeMe=!1,this},r.prototype.createCell=function(e){var t=this.cellJunkyard.pop();return t?t.init(e):new this.Cell(e)},r.prototype.Cell.prototype.prepareHalfedges=function(){for(var e,t=this.halfedges,r=t.length;r--;)e=t[r].edge,e.vb&&e.va||t.splice(r,1);return t.sort(function(e,t){return t.angle-e.angle}),t.length},r.prototype.Cell.prototype.getNeighborIds=function(){for(var e,t=[],r=this.halfedges.length;r--;)e=this.halfedges[r].edge,null!==e.lSite&&e.lSite.voronoiId!=this.site.voronoiId?t.push(e.lSite.voronoiId):null!==e.rSite&&e.rSite.voronoiId!=this.site.voronoiId&&t.push(e.rSite.voronoiId);return t},r.prototype.Cell.prototype.getBbox=function(){for(var e,t,r,n=this.halfedges,i=n.length,o=1/0,a=1/0,s=-1/0,l=-1/0;i--;)e=n[i].getStartpoint(),t=e.x,r=e.y,t<o&&(o=t),r<a&&(a=r),t>s&&(s=t),r>l&&(l=r);return{x:o,y:a,width:s-o,height:l-a}},r.prototype.Cell.prototype.pointIntersection=function(e,t){for(var r,n,i,o,a=this.halfedges,s=a.length;s--;){if(r=a[s],n=r.getStartpoint(),i=r.getEndpoint(),!(o=(t-n.y)*(i.x-n.x)-(e-n.x)*(i.y-n.y)))return 0;if(o>0)return-1}return 1},r.prototype.Vertex=function(e,t){this.x=e,this.y=t},r.prototype.Edge=function(e,t){this.lSite=e,this.rSite=t,this.va=this.vb=null},r.prototype.Halfedge=function(e,t,r){if(this.site=t,this.edge=e,r)this.angle=Math.atan2(r.y-t.y,r.x-t.x);else{var n=e.va,i=e.vb;this.angle=e.lSite===t?Math.atan2(i.x-n.x,n.y-i.y):Math.atan2(n.x-i.x,i.y-n.y)}},r.prototype.createHalfedge=function(e,t,r){return new this.Halfedge(e,t,r)},r.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},r.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},r.prototype.createVertex=function(e,t){var r=this.vertexJunkyard.pop();return r?(r.x=e,r.y=t):r=new this.Vertex(e,t),this.vertices.push(r),r},r.prototype.createEdge=function(e,t,r,n){var i=this.edgeJunkyard.pop();return i?(i.lSite=e,i.rSite=t,i.va=i.vb=null):i=new this.Edge(e,t),this.edges.push(i),r&&this.setEdgeStartpoint(i,e,t,r),n&&this.setEdgeEndpoint(i,e,t,n),this.cells[e.voronoiId].halfedges.push(this.createHalfedge(i,e,t)),this.cells[t.voronoiId].halfedges.push(this.createHalfedge(i,t,e)),i},r.prototype.createBorderEdge=function(e,t,r){var n=this.edgeJunkyard.pop();return n?(n.lSite=e,n.rSite=null):n=new this.Edge(e,null),n.va=t,n.vb=r,this.edges.push(n),n},r.prototype.setEdgeStartpoint=function(e,t,r,n){e.va||e.vb?e.lSite===r?e.vb=n:e.va=n:(e.va=n,e.lSite=t,e.rSite=r)},r.prototype.setEdgeEndpoint=function(e,t,r,n){this.setEdgeStartpoint(e,r,t,n)},r.prototype.Beachsection=function(){},r.prototype.createBeachsection=function(e){var t=this.beachsectionJunkyard.pop();return t||(t=new this.Beachsection),t.site=e,t},r.prototype.leftBreakPoint=function(e,t){var r=e.site,n=r.x,i=r.y,o=i-t;if(!o)return n;var a=e.rbPrevious;if(!a)return-1/0;r=a.site;var s=r.x,l=r.y,u=l-t;if(!u)return s;var c=s-n,h=1/o-1/u,d=c/u;return h?(-d+this.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+i-o/2)))/h+n:(n+s)/2},r.prototype.rightBreakPoint=function(e,t){var r=e.rbNext;if(r)return this.leftBreakPoint(r,t);var n=e.site;return n.y===t?n.x:1/0},r.prototype.detachBeachsection=function(e){this.detachCircleEvent(e),this.beachline.rbRemoveNode(e),this.beachsectionJunkyard.push(e)},r.prototype.removeBeachsection=function(e){var t=e.circleEvent,r=t.x,n=t.ycenter,i=this.createVertex(r,n),o=e.rbPrevious,a=e.rbNext,s=[e],l=Math.abs;this.detachBeachsection(e);for(var u=o;u.circleEvent&&l(r-u.circleEvent.x)<1e-9&&l(n-u.circleEvent.ycenter)<1e-9;)o=u.rbPrevious,s.unshift(u),this.detachBeachsection(u),u=o;s.unshift(u),this.detachCircleEvent(u);for(var c=a;c.circleEvent&&l(r-c.circleEvent.x)<1e-9&&l(n-c.circleEvent.ycenter)<1e-9;)a=c.rbNext,s.push(c),this.detachBeachsection(c),c=a;s.push(c),this.detachCircleEvent(c);var h,d=s.length;for(h=1;h<d;h++)c=s[h],u=s[h-1],this.setEdgeStartpoint(c.edge,u.site,c.site,i);u=s[0],c=s[d-1],c.edge=this.createEdge(u.site,c.site,void 0,i),this.attachCircleEvent(u),this.attachCircleEvent(c)},r.prototype.addBeachsection=function(e){for(var t,r,n,i,o=e.x,a=e.y,s=this.beachline.root;s;)if((n=this.leftBreakPoint(s,a)-o)>1e-9)s=s.rbLeft;else{if(!((i=o-this.rightBreakPoint(s,a))>1e-9)){n>-1e-9?(t=s.rbPrevious,r=s):i>-1e-9?(t=s,r=s.rbNext):t=r=s;break}if(!s.rbRight){t=s;break}s=s.rbRight}var l=this.createBeachsection(e);if(this.beachline.rbInsertSuccessor(t,l),t||r){if(t===r)return this.detachCircleEvent(t),r=this.createBeachsection(t.site),this.beachline.rbInsertSuccessor(l,r),l.edge=r.edge=this.createEdge(t.site,l.site),this.attachCircleEvent(t),void this.attachCircleEvent(r);if(t&&!r)return void(l.edge=this.createEdge(t.site,l.site));if(t!==r){this.detachCircleEvent(t),this.detachCircleEvent(r);var u=t.site,c=u.x,h=u.y,d=e.x-c,p=e.y-h,f=r.site,g=f.x-c,v=f.y-h,y=2*(d*v-p*g),m=d*d+p*p,b=g*g+v*v,x=this.createVertex((v*m-p*b)/y+c,(d*b-g*m)/y+h);return this.setEdgeStartpoint(r.edge,u,f,x),l.edge=this.createEdge(u,e,void 0,x),r.edge=this.createEdge(e,f,void 0,x),this.attachCircleEvent(t),void this.attachCircleEvent(r)}}},r.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},r.prototype.attachCircleEvent=function(e){var t=e.rbPrevious,r=e.rbNext;if(t&&r){var n=t.site,i=e.site,o=r.site;if(n!==o){var a=i.x,s=i.y,l=n.x-a,u=n.y-s,c=o.x-a,h=o.y-s,d=2*(l*h-u*c);if(!(d>=-2e-12)){var p=l*l+u*u,f=c*c+h*h,g=(h*p-u*f)/d,v=(l*f-c*p)/d,y=v+s,m=this.circleEventJunkyard.pop();m||(m=new this.CircleEvent),m.arc=e,m.site=i,m.x=g+a,m.y=y+this.sqrt(g*g+v*v),m.ycenter=y,e.circleEvent=m;for(var b=null,x=this.circleEvents.root;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.rbLeft){b=x.rbPrevious;break}x=x.rbLeft}else{if(!x.rbRight){b=x;break}x=x.rbRight}this.circleEvents.rbInsertSuccessor(b,m),b||(this.firstCircleEvent=m)}}}},r.prototype.detachCircleEvent=function(e){var t=e.circleEvent;t&&(t.rbPrevious||(this.firstCircleEvent=t.rbNext),this.circleEvents.rbRemoveNode(t),this.circleEventJunkyard.push(t),e.circleEvent=null)},r.prototype.connectEdge=function(e,t){var r=e.vb;if(r)return!0;var n,i,o=e.va,a=t.xl,s=t.xr,l=t.yt,u=t.yb,c=e.lSite,h=e.rSite,d=c.x,p=c.y,f=h.x,g=h.y,v=(d+f)/2,y=(p+g)/2;if(this.cells[c.voronoiId].closeMe=!0,this.cells[h.voronoiId].closeMe=!0,g!==p&&(n=(d-f)/(g-p),i=y-n*v),void 0===n){if(v<a||v>=s)return!1;if(d>f){if(!o||o.y<l)o=this.createVertex(v,l);else if(o.y>=u)return!1;r=this.createVertex(v,u)}else{if(!o||o.y>u)o=this.createVertex(v,u);else if(o.y<l)return!1;r=this.createVertex(v,l)}}else if(n<-1||n>1)if(d>f){if(!o||o.y<l)o=this.createVertex((l-i)/n,l);else if(o.y>=u)return!1;r=this.createVertex((u-i)/n,u)}else{if(!o||o.y>u)o=this.createVertex((u-i)/n,u);else if(o.y<l)return!1;r=this.createVertex((l-i)/n,l)}else if(p<g){if(!o||o.x<a)o=this.createVertex(a,n*a+i);else if(o.x>=s)return!1;r=this.createVertex(s,n*s+i)}else{if(!o||o.x>s)o=this.createVertex(s,n*s+i);else if(o.x<a)return!1;r=this.createVertex(a,n*a+i)}return e.va=o,e.vb=r,!0},r.prototype.clipEdge=function(e,t){var r=e.va.x,n=e.va.y,i=e.vb.x,o=e.vb.y,a=0,s=1,l=i-r,u=o-n,c=r-t.xl;if(0===l&&c<0)return!1;var h=-c/l;if(l<0){if(h<a)return!1;h<s&&(s=h)}else if(l>0){if(h>s)return!1;h>a&&(a=h)}if(c=t.xr-r,0===l&&c<0)return!1;if(h=c/l,l<0){if(h>s)return!1;h>a&&(a=h)}else if(l>0){if(h<a)return!1;h<s&&(s=h)}if(c=n-t.yt,0===u&&c<0)return!1;if(h=-c/u,u<0){if(h<a)return!1;h<s&&(s=h)}else if(u>0){if(h>s)return!1;h>a&&(a=h)}if(c=t.yb-n,0===u&&c<0)return!1;if(h=c/u,u<0){if(h>s)return!1;h>a&&(a=h)}else if(u>0){if(h<a)return!1;h<s&&(s=h)}return a>0&&(e.va=this.createVertex(r+a*l,n+a*u)),s<1&&(e.vb=this.createVertex(r+s*l,n+s*u)),(a>0||s<1)&&(this.cells[e.lSite.voronoiId].closeMe=!0,this.cells[e.rSite.voronoiId].closeMe=!0),!0},r.prototype.clipEdges=function(e){for(var t,r=this.edges,n=r.length,i=Math.abs;n--;)t=r[n],(!this.connectEdge(t,e)||!this.clipEdge(t,e)||i(t.va.x-t.vb.x)<1e-9&&i(t.va.y-t.vb.y)<1e-9)&&(t.va=t.vb=null,r.splice(n,1))},r.prototype.closeCells=function(e){for(var t,r,n,i,o,a,s,l,u,c=e.xl,h=e.xr,d=e.yt,p=e.yb,f=this.cells,g=f.length,v=Math.abs;g--;)if(t=f[g],t.prepareHalfedges()&&t.closeMe){for(n=t.halfedges,i=n.length,r=0;r<i;){if(a=n[r].getEndpoint(),l=n[(r+1)%i].getStartpoint(),v(a.x-l.x)>=1e-9||v(a.y-l.y)>=1e-9)switch(!0){case this.equalWithEpsilon(a.x,c)&&this.lessThanWithEpsilon(a.y,p):if(u=this.equalWithEpsilon(l.x,c),s=this.createVertex(c,u?l.y:p),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;a=s;case this.equalWithEpsilon(a.y,p)&&this.lessThanWithEpsilon(a.x,h):if(u=this.equalWithEpsilon(l.y,p),s=this.createVertex(u?l.x:h,p),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;a=s;case this.equalWithEpsilon(a.x,h)&&this.greaterThanWithEpsilon(a.y,d):if(u=this.equalWithEpsilon(l.x,h),s=this.createVertex(h,u?l.y:d),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;a=s;case this.equalWithEpsilon(a.y,d)&&this.greaterThanWithEpsilon(a.x,c):if(u=this.equalWithEpsilon(l.y,d),s=this.createVertex(u?l.x:c,d),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;if(a=s,u=this.equalWithEpsilon(l.x,c),s=this.createVertex(c,u?l.y:p),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;if(a=s,u=this.equalWithEpsilon(l.y,p),s=this.createVertex(u?l.x:h,p),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;if(a=s,u=this.equalWithEpsilon(l.x,h),s=this.createVertex(h,u?l.y:d),o=this.createBorderEdge(t.site,a,s),r++,n.splice(r,0,this.createHalfedge(o,t.site,null)),i++,u)break;default:throw"Voronoi.closeCells() > this makes no sense!"}r++}t.closeMe=!1}},r.prototype.quantizeSites=function(e){for(var t,r=this.ε,n=e.length;n--;)t=e[n],t.x=Math.floor(t.x/r)*r,t.y=Math.floor(t.y/r)*r},r.prototype.recycle=function(e){if(e){if(!(e instanceof this.Diagram))throw"Voronoi.recycleDiagram() > Need a Diagram object.";this.toRecycle=e}},r.prototype.compute=function(e,t){var r=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var n=e.slice(0);n.sort(function(e,t){var r=t.y-e.y;return r||t.x-e.x});for(var i,o,a,s=n.pop(),l=0,u=this.cells;;)if(a=this.firstCircleEvent,s&&(!a||s.y<a.y||s.y===a.y&&s.x<a.x))s.x===i&&s.y===o||(u[l]=this.createCell(s),s.voronoiId=l++,this.addBeachsection(s),o=s.y,i=s.x),s=n.pop();else{if(!a)break;this.removeBeachsection(a.arc)}this.clipEdges(t),this.closeCells(t);var c=new Date,h=new this.Diagram;return h.cells=this.cells,h.edges=this.edges,h.vertices=this.vertices,h.execTime=c.getTime()-r.getTime(),this.reset(),h},t.exports=r},{}]},{},[3])(3)})}).call(exports,__webpack_require__("h6ac"))},tAja:function(e,t,r){!function(t,n){e.exports=n(r("QNth"),r("4PZ+"))}(0,function(e,t){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=116)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(4),o=i?i.navigator:null,a=i?i.document:null,s=n(""),l=n({}),u=n(function(){}),c="undefined"==typeof HTMLElement?"undefined":n(HTMLElement),h=function(e){return e&&e.instanceString&&d.fn(e.instanceString)?e.instanceString():null},d={defined:function(e){return null!=e},string:function(e){return null!=e&&(void 0===e?"undefined":n(e))==s},fn:function(e){return null!=e&&(void 0===e?"undefined":n(e))===u},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&(void 0===e?"undefined":n(e))===l&&!d.array(e)&&e.constructor===Object},object:function(e){return null!=e&&(void 0===e?"undefined":n(e))===l},number:function(e){return null!=e&&(void 0===e?"undefined":n(e))===n(1)&&!isNaN(e)},integer:function(e){return d.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&(void 0===e?"undefined":n(e))===n(!0)},htmlElement:function(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return d.element(e)||d.collection(e)},element:function(e){return"collection"===h(e)&&e._private.single},collection:function(e){return"collection"===h(e)&&!e._private.single},core:function(e){return"core"===h(e)},style:function(e){return"style"===h(e)},stylesheet:function(e){return"stylesheet"===h(e)},event:function(e){return"event"===h(e)},thread:function(e){return"thread"===h(e)},fabric:function(e){return"fabric"===h(e)},emptyString:function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!d.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(e){return d.plainObject(e)&&d.number(e.x1)&&d.number(e.x2)&&d.number(e.y1)&&d.number(e.y2)},promise:function(e){return d.object(e)&&d.fn(e.then)},touch:function(){return i&&("ontouchstart"in i||i.DocumentTouch&&a instanceof DocumentTouch)},gecko:function(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in a.documentElement.style)},webkit:function(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in a.documentElement.style)},chromium:function(){return i&&"undefined"!=typeof chrome},khtml:function(){return o&&o.vendor.match(/kde/i)},khtmlEtc:function(){return d.khtml()||d.webkit()||d.chromium()},ms:function(){return o&&o.userAgent.match(/msie|trident|edge/i)},windows:function(){return o&&o.appVersion.match(/Win/i)},mac:function(){return o&&o.appVersion.match(/Mac/i)},linux:function(){return o&&o.appVersion.match(/Linux/i)},unix:function(){return o&&o.appVersion.match(/X11/i)}};e.exports=d},function(e,t,r){"use strict";var n=r(0),i=r(2),o={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:n.array(e)?e.slice():n.plainObject(e)?this.clone(e):e},copyArray:function(e){return e.slice()},clonePosition:function(e){return{x:e.x,y:e.y}},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};o.makeBoundingBox=i.makeBoundingBox.bind(i),o._staticEmptyObject={},o.staticEmptyObject=function(){return o._staticEmptyObject},o.extend=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(null!=n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];e[a]=n[a]}}return e},o.assign=o.extend,o.default=function(e,t){return void 0===e?t:e},o.removeFromArray=function(e,t,r){for(var n=e.length;n>=0&&(e[n]!==t||(e.splice(n,1),r));n--);},o.clearArray=function(e){e.splice(0,e.length)},o.push=function(e,t){for(var r=0;r<t.length;r++){e.push(t[r])}},o.getPrefixedProperty=function(e,t,r){return r&&(t=this.prependCamel(r,t)),e[t]},o.setPrefixedProperty=function(e,t,r,n){r&&(t=this.prependCamel(r,t)),e[t]=n},[r(130),r(131),{memoize:r(19)},r(132),r(134),r(135),r(133)].forEach(function(e){o.extend(o,e)}),e.exports=o},function(e){"use strict";var t={};t.arePositionsSame=function(e,t){return e.x===t.x&&e.y===t.y},t.copyPosition=function(e){return{x:e.x,y:e.y}},t.modelToRenderedPosition=function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},t.renderedToModelPosition=function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},t.array2point=function(e){return{x:e[0],y:e[1]}},t.deg2rad=function(e){return Math.PI*e/180},t.getAngleFromDisp=function(e,t){return Math.atan2(t,e)-Math.PI/2},t.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},t.signum=function(e){return e>0?1:e<0?-1:0},t.dist=function(e,r){return Math.sqrt(t.sqdist(e,r))},t.sqdist=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},t.qbezierAt=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},t.qbezierPtAt=function(e,r,n,i){return{x:t.qbezierAt(e.x,r.x,n.x,i),y:t.qbezierAt(e.y,r.y,n.y,i)}},t.lineAt=function(e,r,n,i){var o={x:r.x-e.x,y:r.y-e.y},a=t.dist(e,r),s={x:o.x/a,y:o.y/a};return n=null==n?0:n,i=null!=i?i:n*a,{x:e.x+s.x*i,y:e.y+s.y*i}},t.lineAtDist=function(e,r,n){return t.lineAt(e,r,void 0,n)},t.triangleAngle=function(e,r,n){var i=t.dist(r,n),o=t.dist(e,n),a=t.dist(e,r);return Math.acos((i*i+o*o-a*a)/(2*i*o))},t.bound=function(e,t,r){return Math.max(e,Math.min(r,t))},t.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},t.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},t.expandBoundingBoxByPoint=function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},t.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},t.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},t.inBoundingBox=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},t.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},t.boundingBoxInBoundingBox=function(e,r){return t.inBoundingBox(e,r.x1,r.y1)&&t.inBoundingBox(e,r.x2,r.y2)},t.roundRectangleIntersectLine=function(e,t,r,n,i,o,a){var s=this.getRoundRectangleRadius(i,o),l=i/2,u=o/2,c=void 0,h=r-l+s-a,d=n-u-a;if(c=this.finiteLinesIntersect(e,t,r,n,h,d,r+l-s+a,d,!1),c.length>0)return c;var p=r+l+a;if(c=this.finiteLinesIntersect(e,t,r,n,p,n-u+s-a,p,n+u-s+a,!1),c.length>0)return c;var f=r-l+s-a,g=n+u+a;if(c=this.finiteLinesIntersect(e,t,r,n,f,g,r+l-s+a,g,!1),c.length>0)return c;var v=r-l-a;if(c=this.finiteLinesIntersect(e,t,r,n,v,n-u+s-a,v,n+u-s+a,!1),c.length>0)return c;var y=void 0,m=r-l+s,b=n-u+s;if(y=this.intersectLineCircle(e,t,r,n,m,b,s+a),y.length>0&&y[0]<=m&&y[1]<=b)return[y[0],y[1]];var x=r+l-s,w=n-u+s;if(y=this.intersectLineCircle(e,t,r,n,x,w,s+a),y.length>0&&y[0]>=x&&y[1]<=w)return[y[0],y[1]];var E=r+l-s,T=n+u-s;if(y=this.intersectLineCircle(e,t,r,n,E,T,s+a),y.length>0&&y[0]>=E&&y[1]>=T)return[y[0],y[1]];var _=r-l+s,D=n+u-s;return y=this.intersectLineCircle(e,t,r,n,_,D,s+a),y.length>0&&y[0]<=_&&y[1]>=D?[y[0],y[1]]:[]},t.inLineVicinity=function(e,t,r,n,i,o,a){var s=a,l=Math.min(r,i),u=Math.max(r,i),c=Math.min(n,o),h=Math.max(n,o);return l-s<=e&&e<=u+s&&c-s<=t&&t<=h+s},t.inBezierVicinity=function(e,t,r,n,i,o,a,s,l){var u={x1:Math.min(r,a,i)-l,x2:Math.max(r,a,i)+l,y1:Math.min(n,s,o)-l,y2:Math.max(n,s,o)+l};return!(e<u.x1||e>u.x2||t<u.y1||t>u.y2)},t.solveQuadratic=function(e,t,r,n){r-=n;var i=t*t-4*e*r;if(i<0)return[];var o=Math.sqrt(i),a=2*e;return[(-t+o)/a,(-t-o)/a]},t.solveCubic=function(e,t,r,n,i){t/=e,r/=e,n/=e;var o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0;return a=(3*r-t*t)/9,s=-27*n+t*(9*r-t*t*2),s/=54,o=a*a*a+s*s,i[1]=0,h=t/3,o>0?(u=s+Math.sqrt(o),u=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=s-Math.sqrt(o),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,h+=(u+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+u)/2,i[3]=h,void(i[5]=-h)):(i[5]=i[3]=0,0===o?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*d-h,void(i[4]=i[2]=-(d+h))):(a=-a,l=a*a*a,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(a),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),void(i[4]=-h+d*Math.cos((l+4*Math.PI)/3))))},t.sqdistToQuadraticBezier=function(e,t,r,n,i,o,a,s){var l=1*r*r-4*r*i+2*r*a+4*i*i-4*i*a+a*a+n*n-4*n*o+2*n*s+4*o*o-4*o*s+s*s,u=9*r*i-3*r*r-3*r*a-6*i*i+3*i*a+9*n*o-3*n*n-3*n*s-6*o*o+3*o*s,c=3*r*r-6*r*i+r*a-r*e+2*i*i+2*i*e-a*e+3*n*n-6*n*o+n*s-n*t+2*o*o+2*o*t-s*t,h=1*r*i-r*r+r*e-i*e+n*o-n*n+n*t-o*t,d=[];this.solveCubic(l,u,c,h,d);for(var p=[],f=0;f<6;f+=2)Math.abs(d[f+1])<1e-7&&d[f]>=0&&d[f]<=1&&p.push(d[f]);p.push(1),p.push(0);for(var g=-1,v=void 0,y=void 0,m=void 0,b=0;b<p.length;b++)v=Math.pow(1-p[b],2)*r+2*(1-p[b])*p[b]*i+p[b]*p[b]*a,y=Math.pow(1-p[b],2)*n+2*(1-p[b])*p[b]*o+p[b]*p[b]*s,m=Math.pow(v-e,2)+Math.pow(y-t,2),g>=0?m<g&&(g=m):g=m;return g},t.sqdistToFiniteLine=function(e,t,r,n,i,o){var a=[e-r,t-n],s=[i-r,o-n],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],h=c*c/l;return c<0?u:h>l?(e-i)*(e-i)+(t-o)*(t-o):u-h},t.pointInsidePolygonPoints=function(e,t,r){for(var n=void 0,i=void 0,o=void 0,a=void 0,s=0,l=0;l<r.length/2;l++)if(n=r[2*l],i=r[2*l+1],l+1<r.length/2?(o=r[2*(l+1)],a=r[2*(l+1)+1]):(o=r[2*(l+1-r.length/2)],a=r[2*(l+1-r.length/2)+1]),n==e&&o==e);else{if(!(n>=e&&e>=o||n<=e&&e<=o))continue;(e-n)/(o-n)*(a-i)+i>t&&s++}return s%2!=0},t.pointInsidePolygon=function(e,r,n,i,o,a,s,l,u){var c=new Array(n.length),h=void 0;null!=l[0]?(h=Math.atan(l[1]/l[0]),l[0]<0?h+=Math.PI/2:h=-h-Math.PI/2):h=l;for(var d=Math.cos(-h),p=Math.sin(-h),f=0;f<c.length/2;f++)c[2*f]=a/2*(n[2*f]*d-n[2*f+1]*p),c[2*f+1]=s/2*(n[2*f+1]*d+n[2*f]*p),c[2*f]+=i,c[2*f+1]+=o;var g=void 0;if(u>0){g=this.joinLines(this.expandPolygon(c,-u))}else g=c;return t.pointInsidePolygonPoints(e,r,g)},t.joinLines=function(e){for(var t=new Array(e.length/2),r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;c<e.length/4;c++){r=e[4*c],n=e[4*c+1],i=e[4*c+2],o=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],s=e[4*(c+1)+1],l=e[4*(c+1)+2],u=e[4*(c+1)+3]):(a=e[0],s=e[1],l=e[2],u=e[3]);var h=this.finiteLinesIntersect(r,n,i,o,a,s,l,u,!0);t[2*c]=h[0],t[2*c+1]=h[1]}return t},t.expandPolygon=function(e,t){for(var r=new Array(2*e.length),n=void 0,i=void 0,o=void 0,a=void 0,s=0;s<e.length/2;s++){n=e[2*s],i=e[2*s+1],s<e.length/2-1?(o=e[2*(s+1)],a=e[2*(s+1)+1]):(o=e[0],a=e[1]);var l=a-i,u=-(o-n),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;r[4*s]=n+h*t,r[4*s+1]=i+d*t,r[4*s+2]=o+h*t,r[4*s+3]=a+d*t}return r},t.intersectLineEllipse=function(e,t,r,n,i,o){var a=r-e,s=n-t;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(r-e)*c+e,(n-t)*c+t]},t.checkInEllipse=function(e,t,r,n,i,o,a){return e-=i,t-=o,e/=r/2+a,t/=n/2+a,e*e+t*t<=1},t.intersectLineCircle=function(e,t,r,n,i,o,a){var s=[r-e,n-t],l=[e-i,t-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=l[0]*l[0]+l[1]*l[1]-a*a,d=c*c-4*u*h;if(d<0)return[];var p=(-c+Math.sqrt(d))/(2*u),f=(-c-Math.sqrt(d))/(2*u),g=Math.min(p,f),v=Math.max(p,f),y=[];if(g>=0&&g<=1&&y.push(g),v>=0&&v<=1&&y.push(v),0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,b];return[m,b,y[1]*s[0]+e,y[1]*s[1]+t]}return[m,b]},t.findCircleNearPoint=function(e,t,r,n,i){var o=n-e,a=i-t,s=Math.sqrt(o*o+a*a);return[e+o/s*r,t+a/s*r]},t.findMaxSqDistanceToOrigin=function(e){for(var t=1e-6,r=void 0,n=0;n<e.length/2;n++)(r=e[2*n]*e[2*n]+e[2*n+1]*e[2*n+1])>t&&(t=r);return t},t.midOfThree=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},t.finiteLinesIntersect=function(e,t,r,n,i,o,a,s,l){var u=e-i,c=r-e,h=a-i,d=t-o,p=n-t,f=s-o,g=h*d-f*u,v=c*d-p*u,y=f*c-h*p;if(0!==y){var m=g/y,b=v/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[e+m*c,t+m*p]:l?[e+m*c,t+m*p]:[]}return 0===g||0===v?this.midOfThree(e,r,a)===a?[a,s]:this.midOfThree(e,r,i)===i?[i,o]:this.midOfThree(i,a,r)===r?[r,n]:[]:[]},t.polygonIntersectLine=function(e,r,n,i,o,a,s,l){var u=[],c=void 0,h=new Array(n.length),d=!0;5===arguments.length&&(d=!1);var p=void 0;if(d){for(var f=0;f<h.length/2;f++)h[2*f]=n[2*f]*a+i,h[2*f+1]=n[2*f+1]*s+o;if(l>0){var g=t.expandPolygon(h,-l);p=t.joinLines(g)}else p=h}else p=n;for(var v=void 0,y=void 0,m=void 0,b=void 0,x=0;x<p.length/2;x++)v=p[2*x],y=p[2*x+1],x<p.length/2-1?(m=p[2*(x+1)],b=p[2*(x+1)+1]):(m=p[0],b=p[1]),c=this.finiteLinesIntersect(e,r,i,o,v,y,m,b),0!==c.length&&u.push(c[0],c[1]);return u},t.shortenIntersection=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),o=(i-r)/i;return o<0&&(o=1e-5),[t[0]+o*n[0],t[1]+o*n[1]]},t.generateUnitNgonPointsFitToSquare=function(e,r){var n=t.generateUnitNgonPoints(e,r);return n=t.fitPolygonToSquare(n)},t.fitPolygonToSquare=function(e){for(var t=void 0,r=void 0,n=e.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<n;l++)t=e[2*l],r=e[2*l+1],i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,r),s=Math.max(s,r);for(var u=2/(a-i),c=2/(s-o),h=0;h<n;h++)t=e[2*h]=e[2*h]*u,r=e[2*h+1]=e[2*h+1]*c,i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,r),s=Math.max(s,r);if(o<-1)for(var d=0;d<n;d++)r=e[2*d+1]=e[2*d+1]+(-1-o);return e},t.generateUnitNgonPoints=function(e,t){var r=1/e*2*Math.PI,n=e%2==0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i=new Array(2*e),o=void 0,a=0;a<e;a++)o=a*r+n,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},t.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},t.getCutRectangleCornerLength=function(){return 8},t.bezierPtsToQuadCoeff=function(e,t,r){return[e-2*t+r,2*(t-e),e]},t.getBarrelCurveConstants=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},e.exports=t},function(e,t,r){"use strict";var n=r(1),i={};[r(72),r(73),r(74)].forEach(function(e){n.assign(i,e)}),e.exports=i},function(e){"use strict";e.exports="undefined"==typeof window?null:window},function(e,t,r){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};n.prototype={fulfill:function(e){return i(this,1,"fulfillValue",e)},reject:function(e){return i(this,2,"rejectReason",e)},then:function(e,t){var r=this,i=new n;return r.onFulfilled.push(s(e,i,"fulfill")),r.onRejected.push(s(t,i,"reject")),o(r),i.proxy}};var i=function(e,t,r,n){return 0===e.state&&(e.state=t,e[r]=n,o(e)),e},o=function(e){1===e.state?a(e,"onFulfilled",e.fulfillValue):2===e.state&&a(e,"onRejected",e.rejectReason)},a=function(e,r,n){if(0!==e[r].length){var i=e[r];e[r]=[];var o=function(){for(var e=0;e<i.length;e++)i[e](n)};"function"==typeof t?t(o):setTimeout(o,0)}},s=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(e){return void t.reject(e)}l(t,i)}}},l=function e(t,n){if(t===n||t.proxy===n)return void t.reject(new TypeError("cannot resolve promise with itself"));var i;if("object"===(void 0===n?"undefined":r(n))&&null!==n||"function"==typeof n)try{i=n.then}catch(e){return void t.reject(e)}if("function"!=typeof i)t.fulfill(n);else{var o=!1;try{i.call(n,function(r){o||(o=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))},function(e){o||(o=!0,t.reject(e))})}catch(e){o||t.reject(e)}}};n.all=function(e){return new n(function(t,r){for(var n=new Array(e.length),i=0,o=function(r,o){n[r]=o,++i===e.length&&t(n)},a=0;a<e.length;a++)!function(t){var n=e[t];null!=n&&null!=n.then?n.then(function(e){o(t,e)},function(e){r(e)}):o(t,n)}(a)})},n.resolve=function(e){return new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,r){r(e)})},e.exports="undefined"!=typeof Promise?Promise:n}).call(t,r(138).setImmediate)},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(11),a=function(e){var t=this;if(t._private={selectorText:e,invalid:!0},null==e||n.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=o(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t[0].length=1,t._private.invalid=!1,t.length=1;else if(n.elementOrCollection(e)){var r=e.collection();t[0]=o(),t[0].collection=r,t[0].length=1,t.length=1}else if(n.fn(e))t[0]=o(),t[0].filter=e,t[0].length=1,t.length=1;else{if(!n.string(e))return void i.error("A selector must be created from a string; found ",e);if(!t.parse(e))return}t._private.invalid=!1},s=a.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(e){return this[e]},s.sameText=function(e){return this.text()===e.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var e=void 0,t="",r=function(e){return null==e?"":e},i=function(e){return n.string(e)?'"'+e+'"':r(e)},o=function(e){return" "+e+" "};for(e=0;e<this.length;e++){var a=this[e];t+=function t(n){var a="",s=void 0,l=void 0;n.subject===n&&(a+="$");var u=r(n.group);for(a+=u.substring(0,u.length-1),s=0;s<n.data.length;s++){var c=n.data[s];a+=c.value?"["+c.field+o(r(c.operator))+i(c.value)+"]":"["+r(c.operator)+c.field+"]"}for(s=0;s<n.meta.length;s++){var h=n.meta[s];a+="[["+h.field+o(r(h.operator))+i(h.value)+"]]"}for(s=0;s<n.colonSelectors.length;s++)l=n.colonSelectors[e],a+=l;for(s=0;s<n.ids.length;s++)l="#"+n.ids[e],a+=l;for(s=0;s<n.classes.length;s++)l="."+n.classes[s],a+=l;if(null!=n.source&&null!=n.target&&(a=t(n.source)+" -> "+t(n.target)),null!=n.connectedNodes){var d=n.connectedNodes;a=t(d[0])+" <-> "+t(d[1])}return null!=n.parent&&(a=t(n.parent)+" > "+a),null!=n.ancestor&&(a=t(n.ancestor)+" "+a),null!=n.child&&(a+=" > "+t(n.child)),null!=n.descendant&&(a+=" "+t(n.descendant)),a}(a),this.length>1&&e<this.length-1&&(t+=", ")}return this._private.toStringCache=t,t},[r(120),r(119)].forEach(function(e){return i.assign(s,e)}),e.exports=a},function(e,t,r){"use strict";var n=r(1),i=r(0),o=r(117),a=r(9),s=r(13),l={generate:function(e,t,r){for(var i=null!=r?r:n.uuid();e.hasElementWithId(i);)i=n.uuid();return i}},u=function(e,t,r){if(void 0===e||!i.core(e))return void n.error("A collection must have a reference to the core");var u=new o,c=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){c=!0;for(var h=[],d=new a,p=0,f=t.length;p<f;p++){var g=t[p];null==g.data&&(g.data={});var v=g.data;if(null==v.id)v.id=l.generate(e,g);else if(e.hasElementWithId(v.id)||d.has(v.id))continue;var y=new s(e,g,!1);h.push(y),d.add(v.id)}t=h}}else t=[];this.length=0;for(var m=0,b=t.length;m<b;m++){var x=t[m];if(null!=x){var w=x._private.data.id;(null==r||r.unique&&!u.has(w))&&(u.set(w,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={cy:e,map:u},c&&this.restore()},c=s.prototype=u.prototype;c.instanceString=function(){return"collection"},c.spawn=function(e,t,r){return i.core(e)||(r=t,t=e,e=this.cy()),new u(e,t,r)},c.spawnSelf=function(){return this.spawn(this)},c.cy=function(){return this._private.cy},c.renderer=function(){return this._private.cy.renderer()},c.element=function(){return this[0]},c.collection=function(){return i.collection(this)?this:new u(this._private.cy,[this])},c.unique=function(){return new u(this._private.cy,this,{unique:!0})},c.hasElementWithId=function(e){return this._private.map.has(e)},c.getElementById=function(e){var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new u(t)},c.$id=c.getElementById,c.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this._private.data.id).index},c.json=function(e){var t=this.element(),r=this.cy();if(null==t&&e)return this;if(null!=t){var o=t._private;if(i.plainObject(e)){r.startBatch(),e.data&&t.data(e.data),e.position&&t.position(e.position);var a=function(r,n,i){var a=e[r];null!=a&&a!==o[r]&&(a?t[n]():t[i]())};return a("removed","remove","restore"),a("selected","select","unselect"),a("selectable","selectify","unselectify"),a("locked","lock","unlock"),a("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),r.endBatch(),this}if(void 0===e){var s={data:n.copy(o.data),position:n.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null};s.classes="";var l=0;return o.classes.forEach(function(e){return s.classes+=0==l++?e:" "+e}),s}}},c.jsons=function(){for(var e=[],t=0;t<this.length;t++){e.push(this[t].json())}return e},c.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],i=n.json();t.push(new s(e,i,!1))}return new u(e,t)},c.copy=c.clone,c.restore=function(e){var t=this,r=t.cy(),a=r._private;void 0===e&&(e=!0);for(var s=[],c=[],h=void 0,d=0,p=t.length;d<p;d++){var f=t[d];f.removed()&&(f.isNode()?s.push(f):c.push(f))}h=s.concat(c);var g=void 0,v=function(){h.splice(g,1),g--};for(g=0;g<h.length;g++){var y=h[g],m=y._private,b=m.data;if(y.clearTraversalCache(),void 0===b.id)b.id=l.generate(r,y);else if(i.number(b.id))b.id=""+b.id;else{if(i.emptyString(b.id)||!i.string(b.id)){n.error("Can not create element with invalid string ID `"+b.id+"`"),v();continue}if(r.hasElementWithId(b.id)){n.error("Can not create second element with ID `"+b.id+"`"),v();continue}}var x=b.id;if(y.isNode()){var w=m.position;null==w.x&&(w.x=0),null==w.y&&(w.y=0)}if(y.isEdge()){for(var E=y,T=["source","target"],_=T.length,D=!1,C=0;C<_;C++){var N=T[C],L=b[N];i.number(L)&&(L=b[N]=""+b[N]),null==L||""===L?(n.error("Can not create edge `"+x+"` with unspecified "+N),D=!0):r.hasElementWithId(L)||(n.error("Can not create edge `"+x+"` with nonexistant "+N+" `"+L+"`"),D=!0)}if(D){v();continue}var P=r.getElementById(b.source),S=r.getElementById(b.target);P._private.edges.push(E),S._private.edges.push(E),E._private.source=P,E._private.target=S}m.map=new o,m.map.set(x,{ele:y,index:0}),m.removed=!1,r.addToPool(y)}for(var A=0;A<s.length;A++){var I=s[A],M=I._private.data;i.number(M.parent)&&(M.parent=""+M.parent);var O=M.parent;if(null!=O){var R=r.getElementById(O);if(R.empty())M.parent=void 0;else{for(var k=!1,B=R;!B.empty();){if(I.same(B)){k=!0,M.parent=void 0;break}B=B.parent()}k||(R[0]._private.children.push(I),I._private.parent=R[0],a.hasCompoundNodes=!0)}}}if(h.length>0){for(var F=new u(r,h),z=0;z<F.length;z++){var V=F[z];V.isNode()||(V.parallelEdges().clearTraversalCache(),V.source().clearTraversalCache(),V.target().clearTraversalCache())}var j=void 0;j=a.hasCompoundNodes?r.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):F,j.dirtyCompoundBoundsCache().updateStyle(e),e?F.emitAndNotify("add"):F.emit("add")}return t},c.removed=function(){var e=this[0];return e&&e._private.removed},c.inside=function(){var e=this[0];return e&&!e._private.removed},c.remove=function(e){function t(e){for(var t=e._private.edges,r=0;r<t.length;r++)i(t[r])}function r(e){for(var t=e._private.children,r=0;r<t.length;r++)i(t[r])}function i(e){c[e.id()]||(c[e.id()]=!0,e.isNode()?(l.push(e),t(e),r(e)):l.unshift(e))}function o(e,t){n.removeFromArray(e._private.edges,t),e.clearTraversalCache()}var a=this,s=[],l=[],c={},h=a._private.cy;void 0===e&&(e=!0);for(var d=0,p=a.length;d<p;d++){i(a[d])}var f=[];f.ids={},a.dirtyCompoundBoundsCache(),h.removeFromPool(l);for(var g=0;g<l.length;g++){var v=l[g];if(v._private.removed=!0,s.push(v),v.isEdge()){var y=v.source()[0],m=v.target()[0];o(y,v),o(m,v),function(e){e.parallelEdges().clearTraversalCache()}(v)}else{var b=v.parent();0!==b.length&&function(e,t){t=t[0],e=e[0];var r=e._private.children,i=e.id();n.removeFromArray(r,t),f.ids[i]||(f.ids[i]=!0,f.push(e))}(b,v)}}var x=h._private.elements;h._private.hasCompoundNodes=!1;for(var w=0;w<x.length;w++){if(x[w].isParent()){h._private.hasCompoundNodes=!0;break}}var E=new u(this.cy(),s);E.size()>0&&(e&&this.cy().notify({type:"remove",eles:E}),E.emit("remove"));for(var T=0;T<f.length;T++){var _=f[T];_.removed()||_.updateStyle()}return new u(h,s)},c.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var r=e.source,n=e.target,i=t.hasElementWithId(r),o=t.hasElementWithId(n);if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=r),o&&(l.data.target=n),l.scratch=u._private.scratch)}return t.add(a)}}else if(void 0!==e.parent){var c=e.parent,h=null===c||t.hasElementWithId(c);if(h){var d=this.jsons(),p=this.descendants(),f=p.union(p.union(this).connectedEdges()).jsons();this.remove();for(var g=0;g<d.length;g++){var v=d[g],y=this[g];"nodes"===v.group&&(v.data.parent=null===c?void 0:c,v.scratch=y._private.scratch)}return t.add(d.concat(f))}}return this},[r(32),r(36),r(37),r(38),r(39),r(40),r(41),r(44),r(47),r(48),r(49),r(7),r(50),r(51),r(52),r(53),r(54)].forEach(function(e){n.extend(c,e)}),e.exports=u},function(e,t,r){"use strict";e.exports=r(140)},function(e){"use strict";var t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();"function"==typeof Symbol&&Symbol;e.exports=function(){function e(e){if(this._obj=Object.create(null),null!=e){var t=void 0;t=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var r=0;r<t.length;r++)this.add(t[r])}}return t(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){this._obj[e]=1}},{key:"delete",value:function(e){this._obj[e]=0}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}},{key:"size",get:function(){return this.toArray().length}}]),e}()},function(e,t,r){"use strict";function n(e){i.assign(this,l,e),this.listeners=[],this.emitting=0}var i=r(1),o=r(0),a=r(15),s=/(\w+)(\.(?:\w+|\*))?/,l={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0},u=n.prototype,c=function(e,t,r,n,a,l,u){o.fn(n)&&(a=n,n=null),u&&(l=null==l?u:i.assign({},l,u));for(var c=r.split(/\s+/),h=0;h<c.length;h++){var d=c[h];if(!o.emptyString(d)){var p=d.match(s);if(p){if(!1===t(e,d,p[1],p[2]?p[2]:null,n,a,l))break}}}},h=function(e,t){return new a(t.type,i.assign(t,e.eventFields(e.context)))},d=function(e,t,r){if(o.event(r))return void t(e,r);if(o.plainObject(r))return void t(e,h(e,r));for(var n=r.split(/\s+/),i=0;i<n.length;i++){var a=n[i];if(!o.emptyString(a)){var l=a.match(s);if(l){t(e,h(e,{type:l[1],namespace:l[2]?l[2]:null,target:e.context}))}}}};u.on=u.addListener=function(e,t,r,n,i){return c(this,function(e,t,r,n,i,a,s){o.fn(a)&&e.listeners.push({event:t,callback:a,type:r,namespace:n,qualifier:i,conf:s})},e,t,r,n,i),this},u.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})},u.removeListener=u.off=function(e,t,r,n){var o=this;0!==this.emitting&&(this.listeners=i.copyArray(this.listeners));for(var a=this.listeners,s=a.length-1;s>=0;s--)!function(i){var s=a[i];c(o,function(e,t,r,n,o,l){if(s.type===r&&(!n||s.namespace===n)&&(!o||e.qualifierCompare(s.qualifier,o))&&(!l||s.callback===l))return a.splice(i,1),!1},e,t,r,n)}(s);return this},u.emit=u.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,o.array(t)||(t=[t]),d(this,function(e,o){null!=r&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=0;s<a;s++)!function(r){var a=n[r];if(a.type===o.type&&(!a.namespace||a.namespace===o.namespace||".*"===a.namespace)&&e.eventMatches(e.context,a,o)){var s=[o];null!=t&&i.push(s,t),e.beforeEmit(e.context,a,o),a.conf&&a.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==a}));var l=e.callbackContext(e.context,a,o),u=a.callback.apply(l,s);e.afterEmit(e.context,a,o),!1===u&&(o.stopPropagation(),o.preventDefault())}}(s);e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)},e),this.emitting--,this},e.exports=n},function(e){"use strict";e.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(e,t,r){"use strict";var n=r(4),i=r(1),o=r(7),a=r(0),s=r(5),l=r(3),u=function(e){var t=this;e=i.extend({},e);var r=e.container;r&&!a.htmlElement(r)&&a.htmlElement(r[0])&&(r=r[0]);var l=r?r._cyreg:null;(l=l||{})&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];r&&(r._cyreg=l),l.cy=t;var c=void 0!==n&&void 0!==r&&!e.headless,h=e;h.layout=i.extend({name:c?"grid":"null"},h.layout),h.renderer=i.extend({name:c?"canvas":"null"},h.renderer);var d=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},p=this._private={container:r,ready:!1,options:h,elements:new o(this),listeners:[],aniEles:new o(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,h.zoomingEnabled),userZoomingEnabled:d(!0,h.userZoomingEnabled),panningEnabled:d(!0,h.panningEnabled),userPanningEnabled:d(!0,h.userPanningEnabled),boxSelectionEnabled:d(!0,h.boxSelectionEnabled),autolock:d(!1,h.autolock,h.autolockNodes),autoungrabify:d(!1,h.autoungrabify,h.autoungrabifyNodes),autounselectify:d(!1,h.autounselectify),styleEnabled:void 0===h.styleEnabled?c:h.styleEnabled,zoom:a.number(h.zoom)?h.zoom:1,pan:{x:a.plainObject(h.pan)&&a.number(h.pan.x)?h.pan.x:0,y:a.plainObject(h.pan)&&a.number(h.pan.y)?h.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var f=h.selectionType;p.selectionType=void 0===f||"additive"!==f&&"single"!==f?"single":f,a.number(h.minZoom)&&a.number(h.maxZoom)&&h.minZoom<h.maxZoom?(p.minZoom=h.minZoom,p.maxZoom=h.maxZoom):a.number(h.minZoom)&&void 0===h.maxZoom?p.minZoom=h.minZoom:a.number(h.maxZoom)&&void 0===h.minZoom&&(p.maxZoom=h.maxZoom);p.styleEnabled&&t.setStyle([]),t.initRenderer(i.extend({hideEdgesOnViewport:h.hideEdgesOnViewport,textureOnViewport:h.textureOnViewport,wheelSensitivity:a.number(h.wheelSensitivity)&&h.wheelSensitivity>0?h.wheelSensitivity:1,motionBlur:void 0!==h.motionBlur&&h.motionBlur,motionBlurOpacity:void 0===h.motionBlurOpacity?.05:h.motionBlurOpacity,pixelRatio:a.number(h.pixelRatio)&&h.pixelRatio>0?h.pixelRatio:void 0,desktopTapThreshold:void 0===h.desktopTapThreshold?4:h.desktopTapThreshold,touchTapThreshold:void 0===h.touchTapThreshold?8:h.touchTapThreshold},h.renderer));var g=function(e,r,n){t.notifications(!1);var o=t.mutableElements();o.length>0&&o.remove(),null!=e&&(a.plainObject(e)||a.array(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.notify({type:"load",eles:t.mutableElements()}),t.one("load",r),t.emit("load")}).one("layoutstop",function(){t.one("done",n),t.emit("done")});var s=i.extend({},t._private.options.layout);s.eles=t.elements(),t.layout(s).run()};!function(e,t){if(e.some(a.promise))return s.all(e).then(t);t(e)}([h.style,h.elements],function(e){var r=e[0],n=e[1];p.styleEnabled&&t.style().append(r),g(n,function(){t.startAnimationLoop(),p.ready=!0,a.fn(h.ready)&&t.on("ready",h.ready);for(var e=0;e<u.length;e++){t.on("ready",u[e])}l&&(l.readies=[]),t.emit("ready")},h.done)})},c=u.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(e){var t=this,r=t._private,n=t.mutableElements();if(a.plainObject(e)){if(t.startBatch(),e.elements){var o={},s=function(e,r){for(var n=0;n<e.length;n++){var a=e[n],s=a.data.id,l=t.getElementById(s);o[s]=!0,0!==l.length?l.json(a):t.add(r?i.extend({group:r},a):a)}};if(a.array(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],h=e.elements[c];a.array(h)&&s(h,c)}n.stdFilter(function(e){return!o[e.id()]}).remove()}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===r.pan.x&&e.pan.y===r.pan.y||t.pan(e.pan));for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],p=0;p<d.length;p++){var f=d[p];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}if(void 0===e){var g={};return g.elements={},n.forEach(function(e){var t=e.group();g.elements[t]||(g.elements[t]=[]),g.elements[t].push(e.json())}),this._private.styleEnabled&&(g.style=t.style().json()),g.zoomingEnabled=t._private.zoomingEnabled,g.userZoomingEnabled=t._private.userZoomingEnabled,g.zoom=t._private.zoom,g.minZoom=t._private.minZoom,g.maxZoom=t._private.maxZoom,g.panningEnabled=t._private.panningEnabled,g.userPanningEnabled=t._private.userPanningEnabled,g.pan=i.copy(t._private.pan),g.boxSelectionEnabled=t._private.boxSelectionEnabled,g.renderer=i.copy(t._private.options.renderer),g.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport,g.textureOnViewport=t._private.options.textureOnViewport,g.wheelSensitivity=t._private.options.wheelSensitivity,g.motionBlur=t._private.options.motionBlur,g}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),c.$id=c.getElementById,[r(55),r(59),r(64),r(65),r(66),r(67),r(68),r(69),r(70),r(71)].forEach(function(e){i.extend(c,e)}),e.exports=u},function(e,t,r){"use strict";var n=r(1),i=r(0),o=r(9);e.exports=function(e,t,r){if(r=!(void 0!==r&&!r),void 0===e||void 0===t||!i.core(e))return void n.error("An element must have a core reference and parameters set");var a=t.group;if(null==a&&(a=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"!==a&&"edges"!==a)return void n.error("An element must be of type `nodes` or `edges`; you specified `"+a+"`");this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new o,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{}};if(t.renderedPosition){var l=t.renderedPosition,u=e.pan(),c=e.zoom();s.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}if(i.string(t.classes))for(var h=t.classes.split(/\s+/),d=0,p=h.length;d<p;d++){var f=h[d];f&&""!==f&&s.classes.add(f)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),this.createEmitter(),(void 0===r||r)&&this.restore()}},function(e,t,r){"use strict";var n=r(1);e.exports=function(e,t){function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?a?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?n.MAX_INT:0}function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=e.cy(),a=o.hasCompoundNodes(),s=r(e)-r(t);if(0!==s)return s;var l=i(e)-i(t);if(0!==l)return l;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==u?u:e.poolIndex()-t.poolIndex()}},function(e){"use strict";function t(){return!1}function r(){return!0}var n=function(e,t){this.recycle(e,t)};n.prototype={instanceString:function(){return"event"},recycle:function(e,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=t,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?r:t):null!=e&&e.type?n=e:this.type=e,null!=n&&(this.originalEvent=n.originalEvent,this.type=null!=n.type?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var i=this.position,o=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:i.x*o+a.x,y:i.y*o+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t},e.exports=n},function(e,t,r){"use strict";var n=r(1);e.exports={setupDequeueing:function(e){return function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=n.debounce(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold);r.beforeRender(function(o,a){for(var s=n.performanceNow(),l=r.averageRedrawTime,u=r.lastRedrawTime,c=[],h=r.cy.extent(),d=r.getPixelRatio();;){var p=n.performanceNow(),f=p-s,g=p-a;if(u<1e3/60){if(g>=e.deqFastCost*(1e3/60-(o?l:0)))break}else if(o){if(f>=e.deqCost*u||f>=e.deqAvgCost*l)break}else if(g>=e.deqNoDrawCost*(1e3/60))break;var v=e.deq(t,d,h);if(!(v.length>0))break;for(var y=0;y<v.length;y++)c.push(v[y])}c.length>0&&(e.onDeqd(t,c),!o&&e.shouldRedraw(t,c,d,h)&&i())},(e.priority||n.noop)(t))}}}}},function(e,t,r){"use strict";var n=r(1),i=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return n.sort.descending(e.selector,t.selector)}),o=function e(t,r){return(e.lookup=e.lookup||function(){for(var e={},t=void 0,r=0;r<i.length;r++)t=i[r],e[t.selector]=t.matches;return e}())[t](r)},a="("+i.map(function(e){return e.selector}).join("|")+")";e.exports={stateSelectors:i,stateSelectorMatches:o,stateSelectorRegex:a}},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(6),a=function e(t){return this instanceof e?n.core(t)?(this._private={cy:t,coreStyle:{}},this.length=0,void this.resetToDefault()):void i.error("A style must have a core reference"):new e(t)},s=a.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new o(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},s.css=function(){var e=this,t=arguments;switch(t.length){case 1:for(var r=t[0],n=0;n<e.properties.length;n++){var o=e.properties[n],a=r[o.name];void 0===a&&(a=r[i.dash2camel(o.name)]),void 0!==a&&this.cssRule(o.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this},s.style=s.css,s.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},s.append=function(e){return n.stylesheet(e)?e.appendToStyle(this):n.array(e)?this.appendFromJson(e):n.string(e)&&this.appendFromString(e),this},a.fromJson=function(e,t){var r=new a(e);return r.fromJson(t),r},a.fromString=function(e,t){return new a(e).fromString(t)},[r(122),r(123),r(124),r(125),r(126),r(129),r(128),r(127)].forEach(function(e){i.extend(s,e)}),a.types=s.types,a.properties=s.properties,e.exports=a},function(e){"use strict";e.exports=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var r=function r(){var n=this,i=arguments,o=void 0,a=t.apply(n,i),s=r.cache;return(o=s[a])||(o=s[a]=e.apply(n,i)),o};return r.cache={},r}},function(e,t,r){"use strict";function n(e,t,r){var n=r,o=function(r){s.error("Can not register `"+t+"` for `"+e+"` since `"+r+"` already exists in the prototype and can not be overridden")};if("core"===e){if(c.prototype[t])return o(t);c.prototype[t]=r}else if("collection"===e){if(u.prototype[t])return o(t);u.prototype[t]=r}else if("layout"===e){for(var a=function(e){this.options=e,r.call(this,e),d.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},h=a.prototype=Object.create(r.prototype),g=[],v=0;v<g.length;v++){var y=g[v];h[y]=h[y]||function(){return this}}h.start&&!h.run?h.run=function(){return this.start(),this}:!h.start&&h.run&&(h.start=function(){return this.run(),this});var m=r.prototype.stop;h.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var r=0;r<t.length;r++)t[r].stop()}return m?m.call(this):this.emit("layoutstop"),this},h.destroy||(h.destroy=function(){return this}),h.cy=function(){return this._private.cy};var b=function(e){return e._private.cy};s.assign(h,{createEmitter:function(){return this._private.emitter=new p({eventFields:function(e){return{layout:e,cy:b(e),target:e}},bubble:function(){return!0},parent:function(e){return b(e)},context:this}),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),l.eventAliasesOn(h),n=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var x=i("renderer","base"),w=x.prototype,E=r,T=r.prototype,_=function(){x.apply(this,arguments),E.apply(this,arguments)},D=_.prototype;for(var C in w){var N=w[C],L=null!=T[C];if(L)return o(C);D[C]=N}for(var P in T)D[P]=T[P];w.clientFunctions.forEach(function(e){D[e]=D[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),n=_}return s.setMap({map:f,keys:[e,t],value:n})}function i(e,t){return s.getMap({map:f,keys:[e,t]})}function o(e,t,r,n,i){return s.setMap({map:g,keys:[e,t,r,n],value:i})}function a(e,t,r,n){return s.getMap({map:g,keys:[e,t,r,n]})}var s=r(1),l=r(3),u=r(7),c=r(12),h=r(75),d=r(0),p=r(10),f={},g={},v=function(){return 2===arguments.length?i.apply(null,arguments):3===arguments.length?n.apply(null,arguments):4===arguments.length?a.apply(null,arguments):5===arguments.length?o.apply(null,arguments):void s.error("Invalid extension access syntax")};c.prototype.extension=v,h.forEach(function(e){e.extensions.forEach(function(t){n(e.type,t.name,t.impl)})}),e.exports=v},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(18),a=function e(){if(!(this instanceof e))return new e;this.length=0},s=a.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},s.css=function(e,t){var r=this.length-1;if(n.string(e))this[r].properties.push({name:e,value:t});else if(n.plainObject(e))for(var a=e,s=0;s<o.properties.length;s++){var l=o.properties[s],u=a[l.name];if(void 0===u&&(u=a[i.dash2camel(l.name)]),void 0!==u){var c=l.name,h=u;this[r].properties.push({name:c,value:h})}}return this},s.style=s.css,s.generateStyle=function(e){return this.appendToStyle(new o(e))},s.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var o=0;o<i.length;o++){var a=i[o];e.css(a.name,a.value)}}return e},e.exports=a},function(e){"use strict";e.exports="3.2.5"},function(e,t,r){"use strict";var n=r(1),i=r(0),o=r(5),a=function(e,t,r){var o=this._private=n.extend({duration:1e3},t,r);o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&i.fn(o.complete)&&o.completes.push(o.complete),this.length=1,this[0]=this},s=a.prototype;n.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=void 0,r=e.target._private.animation;t=e.queue?r.queue:r.current,t.push(this),i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;return void 0===e?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(t,r){var n=e[t];null!=n&&(e[t]=e[r],e[r]=n)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var i=e.style[n],o=i.name,a=e.startStyle[o];e.startStyle[o]=i,e.style[n]=a}return t&&this.play(),this},promise:function(e){var t=this._private,r=void 0;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new o(function(e){r.push(function(){e()})})}}),s.complete=s.completed,e.exports=a},function(e,t,r){"use strict";var n=r(0);e.exports={aStar:function(e){var t=this;e=e||{};var r=this._private.cy;if(null!=e&&null!=e.root){var i=n.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var o=n.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&n.fn(e.heuristic))var a=e.heuristic;else var a=function(){return 0};if(null!=e.weight&&n.fn(e.weight))var s=e.weight;else var s=function(){return 1};if(null!=e.directed)var l=e.directed;else var l=!1;var u=i.id(),c=o.id(),h=[],d=[u],p={},f={},g={},v={};g[u]=0,v[u]=a(i);for(var y=0;d.length>0;){var m=function(e,t){if(0!==e.length){for(var r=0,n=t[e[0]],i=1;i<e.length;i++){var o=t[e[i]];o<n&&(n=o,r=i)}return r}}(d,v),b=r.getElementById(d[m]),x=b.id();if(y++,x==c){return{found:!0,distance:g[x],path:t.spawn(function e(t,n,i,o){if(t==n)return o.unshift(r.getElementById(n)),o;if(n in i){var a=i[n];return o.unshift(r.getElementById(f[n])),o.unshift(r.getElementById(n)),e(t,a,i,o)}}(u,c,p,[])),steps:y}}h.push(x),d.splice(m,1);for(var w=b._private.edges,E=0;E<w.length;E++){var T=w[E];if(this.hasElementWithId(T.id())&&(!l||T.data("source")===x)){var _=T.source(),D=T.target(),C=_.id()!==x?_:D,N=C.id();if(this.hasElementWithId(N)&&-1==h.indexOf(N)){var L=g[x]+s(T);-1!=d.indexOf(N)?L<g[N]&&(g[N]=L,v[N]=L+a(C),p[N]=x):(g[N]=L,v[N]=L+a(C),d.push(N),p[N]=x,f[N]=T.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:y}}}}}},function(e,t,r){"use strict";var n=r(0),i=r(1);e.exports={bellmanFord:function(e){var t=this;if(e=e||{},null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.root){if(n.string(e.root))var a=this.filter(e.root)[0];else var a=e.root[0];for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,h={},d=0;d<c;d++)h[u[d].id()]=d;for(var p=[],f=[],g=[],d=0;d<c;d++)p[d]=u[d].id()===a.id()?0:1/0,f[d]=void 0;for(var v=!1,d=1;d<c;d++){v=!1;for(var y=0;y<l.length;y++){var m=h[l[y].source().id()],b=h[l[y].target().id()],x=r(l[y]),w=p[m]+x;if(w<p[b]&&(p[b]=w,f[b]=m,g[b]=l[y],v=!0),!o){var w=p[b]+x;w<p[m]&&(p[m]=w,f[m]=b,g[m]=l[y],v=!0)}}if(!v)break}if(v)for(var y=0;y<l.length;y++){var m=h[l[y].source().id()],b=h[l[y].target().id()],x=r(l[y]);if(p[m]+x<p[b])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var E=[],d=0;d<c;d++)E.push(u[d].id());return{distanceTo:function(e){if(n.string(e))var t=s.filter(e)[0].id();else var t=e.id();return p[h[t]]},pathTo:function(e){if(n.string(e))var r=s.filter(e)[0].id();else var r=e.id();var i=[],o=function(e,t,r,n,i,o){for(;;){if(i.push(s.getElementById(n[r])),i.push(o[r]),t===r)return i;var a=e[r];if(void 0===a)return;r=a}}(f,h[a.id()],h[r],E,i,g);return null!=o&&o.reverse(),t.spawn(o)},hasNegativeWeightCycle:!1}}}}},function(e,t,r){"use strict";var n=r(0),i=r(8),o={betweennessCentrality:function(e){e=e||{};var t,r;n.fn(e.weight)?(r=e.weight,t=!0):t=!1;for(var o=null!=e.directed&&e.directed,a=this._private.cy,s=this.nodes(),l={},u={},c=0,h={set:function(e,t){u[e]=t,t>c&&(c=t)},get:function(e){return u[e]}},d=0;d<s.length;d++){var p=s[d],f=p.id();l[f]=o?p.outgoers().nodes():p.openNeighborhood().nodes(),h.set(f,0)}for(var g=0;g<s.length;g++){for(var v=s[g].id(),y=[],m={},b={},x={},w=new i(function(e,t){return x[e]-x[t]}),d=0;d<s.length;d++){var f=s[d].id();m[f]=[],b[f]=0,x[f]=1/0}for(b[v]=1,x[v]=0,w.push(v);!w.empty();){var p=w.pop();if(y.push(p),t)for(var E=0;E<l[p].length;E++){var T,_=l[p][E],D=a.getElementById(p);T=D.edgesTo(_).length>0?D.edgesTo(_)[0]:_.edgesTo(D)[0];var C=r(T);_=_.id(),x[_]>x[p]+C&&(x[_]=x[p]+C,w.nodes.indexOf(_)<0?w.push(_):w.updateItem(_),b[_]=0,m[_]=[]),x[_]==x[p]+C&&(b[_]=b[_]+b[p],m[_].push(p))}else for(var E=0;E<l[p].length;E++){var _=l[p][E].id();x[_]==1/0&&(w.push(_),x[_]=x[p]+1),x[_]==x[p]+1&&(b[_]=b[_]+b[p],m[_].push(p))}}for(var N={},d=0;d<s.length;d++)N[s[d].id()]=0;for(;y.length>0;)for(var _=y.pop(),E=0;E<m[_].length;E++){var p=m[_][E];N[p]=N[p]+b[p]/b[_]*(1+N[_]),_!=s[g].id()&&h.set(_,h.get(_)+N[_])}}var L={betweenness:function(e){if(n.string(e))var e=a.filter(e).id();else var e=e.id();return h.get(e)},betweennessNormalized:function(e){if(0==c)return 0;if(n.string(e))var e=a.filter(e).id();else var e=e.id();return h.get(e)/c}};return L.betweennessNormalised=L.betweennessNormalized,L}};o.bc=o.betweennessCentrality,e.exports=o},function(e,t,r){"use strict";var n=r(0),i=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,r,i){var o;n.plainObject(t)&&!n.elementOrCollection(t)&&(o=t,t=o.roots||o.root,r=o.visit,i=o.directed),i=2!==arguments.length||n.fn(r)?i:r,r=n.fn(r)?r:function(){};for(var a,s=this._private.cy,l=t=n.string(t)?this.filter(t):t,u=[],c=[],h={},d={},p={},f=0,g=this.nodes(),v=this.edges(),y=0;y<l.length;y++)l[y].isNode()&&(u.unshift(l[y]),e.bfs&&(p[l[y].id()]=!0,c.push(l[y])),d[l[y].id()]=0);for(;0!==u.length;){var l=e.bfs?u.shift():u.pop();if(e.dfs){if(p[l.id()])continue;p[l.id()]=!0,c.push(l)}var m,b=d[l.id()],x=h[l.id()],w=null==x?void 0:x.connectedNodes().not(l)[0];if(!0===(m=r(l,x,w,f++,b))){a=l;break}if(!1===m)break;for(var E=l.connectedEdges(i?function(e){return e.data("source")===l.id()}:void 0).intersect(v),y=0;y<E.length;y++){var T=E[y],_=T.connectedNodes(function(e){return e.id()!==l.id()}).intersect(g);0===_.length||p[_.id()]||(_=_[0],u.push(_),e.bfs&&(p[_.id()]=!0,c.push(_)),h[_.id()]=T,d[_.id()]=d[l.id()]+1)}}for(var D=[],y=0;y<c.length;y++){var C=c[y],N=h[C.id()];N&&D.push(N),D.push(C)}return{path:s.collection(D,{unique:!0}),found:s.collection(a)}}},o={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};o.bfs=o.breadthFirstSearch,o.dfs=o.depthFirstSearch,e.exports=o},function(e,t,r){"use strict";var n=r(0),i={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),r=e.harmonic;void 0===r&&(r=!0);for(var i={},o=0,a=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),l=0;l<a.length;l++){for(var u=0,c=0;c<a.length;c++)if(l!=c){var h=s.distance(a[l],a[c]);u+=r?1/h:h}r||(u=1/u),o<u&&(o=u),i[a[l].id()]=u}return{closeness:function(e){if(0==o)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return i[e]/o}}},closenessCentrality:function(e){if(e=e||{},null!=e.root){if(n.string(e.root))var t=this.filter(e.root)[0];else var t=e.root[0];if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(){return 1};if(null!=e.directed&&n.bool(e.directed))var i=e.directed;else var i=!1;var o=e.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:t,weight:r,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=t.id()){var c=a.distanceTo(l[u]);s+=o?1/c:c}return o?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(1),o={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var r=e.directed;else var r=!1;var o=this.nodes(),a=o.length;if(r){for(var s={},l={},u=0,c=0,h=0;h<a;h++){var d=o[h],p=this.degreeCentrality(i.extend({},e,{root:d}));u<p.indegree&&(u=p.indegree),c<p.outdegree&&(c=p.outdegree),s[d.id()]=p.indegree,l[d.id()]=p.outdegree}return{indegree:function(e){if(0==u)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return s[e]/u},outdegree:function(e){if(0==c)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return l[e]/c}}}for(var f={},g=0,h=0;h<a;h++){var d=o[h],p=this.degreeCentrality(i.extend({},e,{root:d}));g<p.degree&&(g=p.degree),f[d.id()]=p.degree}return{degree:function(e){if(0==g)return 0;if(n.string(e))var e=t.filter(e)[0].id();else var e=e.id();return f[e]/g}}},degreeCentrality:function(e){e=e||{};var t=this;if(null!=e&&null!=e.root){var r=n.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&n.fn(e.weight))var i=e.weight;else var i=function(){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.alpha&&n.number(e.alpha))var a=e.alpha;else a=0;if(o){for(var s=r.connectedEdges('edge[target = "'+r.id()+'"]').intersection(t),l=r.connectedEdges('edge[source = "'+r.id()+'"]').intersection(t),u=s.length,c=l.length,h=0,d=0,p=0;p<s.length;p++){var f=s[p];h+=i(f)}for(var p=0;p<l.length;p++){var f=l[p];d+=i(f)}return{indegree:Math.pow(u,1-a)*Math.pow(h,a),outdegree:Math.pow(c,1-a)*Math.pow(d,a)}}for(var g=r.connectedEdges().intersection(t),v=g.length,y=0,p=0;p<g.length;p++){var f=g[p];y+=i(f)}return{degree:Math.pow(v,1-a)*Math.pow(y,a)}}}};o.dc=o.degreeCentrality,o.dcn=o.degreeCentralityNormalised=o.degreeCentralityNormalized,e.exports=o},function(e,t,r){"use strict";var n=r(0),i=r(8);e.exports={dijkstra:function(e,t,r){var o;n.plainObject(e)&&!n.elementOrCollection(e)&&(o=e,e=o.root,t=o.weight,r=o.directed);var a=this._private.cy;t=n.fn(t)?t:function(){return 1};for(var s=n.string(e)?this.filter(e)[0]:e[0],l={},u={},c={},h=this.edges().filter(function(e){return!e.isLoop()}),d=this.nodes(),p=function(e){return l[e.id()]},f=new i(function(e,t){return p(e)-p(t)}),g=0;g<d.length;g++){var v=d[g];l[v.id()]=v.same(s)?0:1/0,f.push(v)}for(;f.size()>0;){var y=f.pop(),m=p(y),b=y.id();if(c[b]=m,m!==1/0)for(var x=y.neighborhood().intersect(d),g=0;g<x.length;g++){var w=x[g],E=w.id(),T=function(e,n){for(var i,o=(r?e.edgesTo(n):e.edgesWith(n)).intersect(h),a=1/0,s=0;s<o.length;s++){var l=o[s],u=t(l);(u<a||!i)&&(a=u,i=l)}return{edge:i,dist:a}}(y,w),_=m+T.dist;_<p(w)&&(!function(e,t){l[e.id()]=t,f.updateItem(e)}(w,_),u[E]={node:y,edge:T.edge})}}return{distanceTo:function(e){var t=n.string(e)?d.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=n.string(e)?d.filter(e)[0]:e[0],r=[],i=t;if(t.length>0)for(r.unshift(t);u[i.id()];){var o=u[i.id()];r.unshift(o.edge),r.unshift(o.node),i=o.node}return a.collection(r)}}}}},function(e,t,r){"use strict";var n=r(0);e.exports={floydWarshall:function(e){e=e||{};var t=this.cy();if(null!=e.weight&&n.fn(e.weight))var r=e.weight;else var r=function(){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var o=this.edges().stdFilter(function(e){return!e.isLoop()}),a=this.nodes(),s=a.length,l={},u=0;u<s;u++)l[a[u].id()]=u;for(var c=[],u=0;u<s;u++){for(var h=new Array(s),d=0;d<s;d++)h[d]=u==d?0:1/0;c.push(h)}var p=[],f=[],g=function(e){for(var t=0;t<s;t++){for(var r=new Array(s),n=0;n<s;n++)r[n]=void 0;e.push(r)}};g(p),g(f);for(var u=0;u<o.length;u++){var v=l[o[u].source().id()],y=l[o[u].target().id()],m=r(o[u]);c[v][y]>m&&(c[v][y]=m,p[v][y]=y,f[v][y]=o[u])}if(!i)for(var u=0;u<o.length;u++){var v=l[o[u].target().id()],y=l[o[u].source().id()],m=r(o[u]);c[v][y]>m&&(c[v][y]=m,p[v][y]=y,f[v][y]=o[u])}for(var b=0;b<s;b++)for(var u=0;u<s;u++)for(var d=0;d<s;d++)c[u][b]+c[b][d]<c[u][d]&&(c[u][d]=c[u][b]+c[b][d],p[u][d]=p[u][b]);for(var x=[],u=0;u<s;u++)x.push(a[u].id());return{distance:function(e,r){if(n.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(n.string(r))var o=t.filter(r)[0].id();else var o=r.id();return c[l[i]][l[o]]},path:function(e,r){if(n.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(n.string(r))var o=t.filter(r)[0].id();else var o=r.id();var a=function(e,r,n,i,o){if(e===r)return t.getElementById(i[e]);if(void 0!==n[e][r]){for(var a=[t.getElementById(i[e])],s=e;e!==r;){s=e,e=n[e][r];a.push(o[s][e]),a.push(t.getElementById(i[e]))}return a}}(l[i],l[o],p,x,f);return t.collection(a)}}}}},function(e,t,r){"use strict";var n=r(1),i={};[r(27),r(30),r(34),r(24),r(31),r(25),r(33),r(35),r(29),r(28),r(26)].forEach(function(e){n.extend(i,e)}),e.exports=i},function(e,t,r){"use strict";var n=r(1);e.exports={kargerStein:function(e){var t=this;e=e||{};var r=function(e,t,r){for(var n=r[e],i=n[1],o=n[2],a=t[i],s=t[o],l=r.filter(function(e){return(t[e[1]]!==a||t[e[2]]!==s)&&(t[e[1]]!==s||t[e[2]]!==a)}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=a):c[2]===s&&(l[u]=c.slice(0),l[u][2]=a)}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=a);return l},i=function e(t,n,i,o){if(i<=o)return n;var a=Math.floor(Math.random()*n.length);return e(t,r(a,t,n),i-1,o)},o=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u=a.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),h=Math.floor(l/Math.sqrt(2));if(l<2)return void n.error("At least 2 nodes are required for Karger-Stein algorithm");for(var d={},p=0;p<l;p++)d[s[p].id()]=p;for(var f=[],p=0;p<u;p++){var g=a[p];f.push([p,d[g.source().id()],d[g.target().id()]])}for(var v,y=1/0,m=[],p=0;p<l;p++)m.push(p);for(var b=0;b<=c;b++){var x=m.slice(0),w=i(x,f,l,h),E=x.slice(0),T=i(x,w,h,2),_=i(E,w,h,2);T.length<=_.length&&T.length<y?(y=T.length,v=[T,x]):_.length<=T.length&&_.length<y&&(y=_.length,v=[_,E])}for(var D=v[0].map(function(e){return a[e[0]]}),C=[],N=[],L=v[1][0],p=0;p<v[1].length;p++){v[1][p]===L?C.push(s[p]):N.push(s[p])}return{cut:t.spawn(o,D),partition1:t.spawn(C),partition2:t.spawn(N)}}}},function(e,t,r){"use strict";var n=r(0);e.exports={kruskal:function(e){function t(e){for(var t=0;t<o.length;t++){var r=o[t];if(r.anySame(e))return{eles:r,index:t}}}var r=this.cy();e=n.fn(e)?e:function(){return 1};for(var i=r.collection(r,[]),o=[],a=this.nodes(),s=0;s<a.length;s++)o.push(a[s].collection());for(var l=this.edges(),u=l.toArray().sort(function(t,r){return e(t)-e(r)}),s=0;s<u.length;s++){var c=u[s],h=c.source()[0],d=c.target()[0],p=t(h),f=t(d);p.index!==f.index&&(i=i.add(c),o[p.index]=p.eles.add(f.eles),o.splice(f.index,1))}return a.add(i)}}},function(e,t,r){"use strict";var n=r(0);e.exports={pageRank:function(e){e=e||{};if(null!=e&&null!=e.dampingFactor)var t=e.dampingFactor;else var t=.8;if(null!=e&&null!=e.precision)var r=e.precision;else var r=1e-6;if(null!=e&&null!=e.iterations)var i=e.iterations;else var i=200;if(null!=e&&null!=e.weight&&n.fn(e.weight))var o=e.weight;else var o=function(){return 1};for(var a=this._private.cy,s=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),u=l.length,c=s.length,h={},d=0;d<u;d++)h[l[d].id()]=d;for(var p=[],f=[],g=(1-t)/u,d=0;d<u;d++){for(var v=[],y=0;y<u;y++)v.push(0);p.push(v),f.push(0)}for(var d=0;d<c;d++){var m=s[d],b=h[m.source().id()],x=h[m.target().id()],w=o(m);p[x][b]+=w,f[b]+=w}for(var E=1/u+g,y=0;y<u;y++)if(0===f[y])for(var d=0;d<u;d++)p[d][y]=E;else for(var d=0;d<u;d++)p[d][y]=p[d][y]/f[y]+g;for(var T,_=[],D=[],d=0;d<u;d++)_.push(1),D.push(0);for(var C=0;C<i;C++){for(var N=D.slice(0),d=0;d<u;d++)for(var y=0;y<u;y++)N[d]+=p[d][y]*_[y];!function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var n=0;n<t;n++)e[n]=e[n]/r}(N),T=_,_=N;for(var L=0,d=0;d<u;d++)L+=Math.pow(T[d]-_[d],2);if(L<r)break}return{rank:function(e){if(n.string(e))var t=a.filter(e)[0].id();else var t=e.id();return _[h[t]]}}}}},function(e,t,r){"use strict";var n=r(3);e.exports={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),stop:n.stop()}},function(e,t,r){"use strict";var n=r(9);e.exports={classes:function(e){e=(e||"").match(/\S+/g)||[];for(var t=this,r=[],i=new n(e),o=0;o<t.length;o++)!function(e){var o=t[e],a=o._private,s=a.classes,l=!1;i.forEach(function(e){s.has(e)||(l=!0)}),l||s.forEach(function(e){i.has(e)||(l=!0)}),l&&(a.classes=new n(i),r.push(o))}(o);return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){for(var r=e.match(/\S+/g)||[],n=this,i=[],o=0,a=n.length;o<a;o++)for(var s=n[o],l=!1,u=0;u<r.length;u++){var c=r[u],h=s._private.classes,d=h.has(c),p=t||void 0===t&&!d;p?(h.add(c),d||l||(i.push(s),l=!0)):(h.delete(c),d&&!l&&(i.push(s),l=!0))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}}},function(e,t,r){"use strict";var n=(r(0),r(6)),i={allAre:function(e){var t=new n(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new n(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var r=0;r<this.length;r++){if(t?e.apply(t,[this[r],r,this]):e(this[r],r,this))return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){if(!(t?e.apply(t,[this[r],r,this]):e(this[r],r,this)))return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length===e.length&&this.every(function(t){return e.hasElementWithId(t.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,e.exports=i},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=[],o=new s,a=e.cy(),l=a.hasCompoundNodes(),u=0;u<e.length;u++){var c=e[u];r?i.push(c):l&&n(i,o,c)}for(;i.length>0;){var h=i.shift();t(h),o.add(h.id()),l&&n(i,o,h)}return e}function i(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var o=n[i];t.has(o.id())||e.push(o)}}function o(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function a(e,t,r){o(e,t,r),i(e,t,r)}var s=r(9),l={parent:function(e){var t=[];if(1===this.length){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n],o=i._private.parent;o&&t.push(o)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){t.push(r[n])}r=r.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t=void 0,r=0;r<this.length;r++){var n=this[r],i=n.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:function(e){for(var t=[],r=0;r<this.length;r++){t=t.concat(this[r]._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){function t(e){for(var n=0;n<e.length;n++){var i=e[n];r.push(i),i.children().nonempty()&&t(i.children())}}var r=[];return t(this.children()),this.spawn(r,{unique:!0}).filter(e)}};l.forEachDown=function(e){return n(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i)},l.forEachUp=function(e){return n(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o)},l.forEachUpAndDown=function(e){return n(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)},l.ancestors=l.parents,e.exports=l},function(e,t,r){"use strict";var n=r(3),i=void 0,o=void 0;i=o={data:n.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:n.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:n.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:n.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:n.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:n.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},i.attr=i.data,i.removeAttr=i.removeData,e.exports=o},function(e,t,r){"use strict";function n(e){return function(t){var r=this;if(void 0===t&&(t=!0),0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!t&&s.isLoop()||(n+=e(i,s))}return n}}}function i(e,t){return function(r){for(var n=void 0,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[e](r);void 0===s||void 0!==n&&!t(s,n)||(n=s)}return n}}var o=r(1),a={};o.extend(a,{degree:n(function(e,t){return t.source().same(t.target())?2:1}),indegree:n(function(e,t){return t.target().same(e)?1:0}),outdegree:n(function(e,t){return t.source().same(e)?1:0})}),o.extend(a,{minDegree:i("degree",function(e,t){return e<t}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return e<t}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return e<t}),maxOutdegree:i("outdegree",function(e,t){return e>t})}),o.extend(a,{totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}}),e.exports=a},function(e,t,r){"use strict";function n(e){return{includeNodes:o.default(e.includeNodes,b.includeNodes),includeEdges:o.default(e.includeEdges,b.includeEdges),includeLabels:o.default(e.includeLabels,b.includeLabels),includeOverlays:o.default(e.includeOverlays,b.includeOverlays),useCache:o.default(e.useCache,b.useCache)}}var i=r(0),o=r(1),a=r(2),s=void 0,l=void 0;s=l={},l.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),o=t.x1*n+i.x,a=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},l.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(e){e._private.compoundBoundsClean=!1,e.isParent()&&e.emit("bounds")}),this):this},l.updateCompoundBounds=function(){var e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(e.batching())return this;for(var t=[],r=0;r<this.length;r++){var n=this[r],i=n._private;i.compoundBoundsClean||(!function(e){function r(e,t,r){var n=0,i=0,o=t+r;return e>0&&o>0&&(n=t/o*e,i=r/o*e),{biasDiff:n,biasComplementDiff:i}}if(e.isParent()){var n=e._private,i=e.children(),o="include"===e.pstyle("compound-sizing-wrt-labels").value,a={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},s=i.boundingBox({includeLabels:o,includeOverlays:!1,useCache:!1}),l=n.position;0!==s.w&&0!==s.h||(s={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue},s.x1=l.x-s.w/2,s.x2=l.x+s.w/2,s.y1=l.y-s.h/2,s.y2=l.y+s.h/2);var u=a.width.left.value;"px"===a.width.left.units&&a.width.val>0&&(u=100*u/a.width.val);var c=a.width.right.value;"px"===a.width.right.units&&a.width.val>0&&(c=100*c/a.width.val);var h=a.height.top.value;"px"===a.height.top.units&&a.height.val>0&&(h=100*h/a.height.val);var d=a.height.bottom.value;"px"===a.height.bottom.units&&a.height.val>0&&(d=100*d/a.height.val);var p=r(a.width.val-s.w,u,c),f=p.biasDiff,g=p.biasComplementDiff,v=r(a.height.val-s.h,h,d),y=v.biasDiff,m=v.biasComplementDiff;n.autoPadding=function(e,t,r,n){if("%"!==r.units)return"px"===r.units?r.pfValue:0;switch(n){case"width":return e>0?r.pfValue*e:0;case"height":return t>0?r.pfValue*t:0;case"average":return e>0&&t>0?r.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?r.pfValue*t:r.pfValue*e:0;case"max":return e>0&&t>0?e>t?r.pfValue*e:r.pfValue*t:0;default:return 0}}(s.w,s.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),n.autoWidth=Math.max(s.w,a.width.val),l.x=(-f+s.x1+s.x2+g)/2,n.autoHeight=Math.max(s.h,a.height.val),l.y=(-y+s.y1+s.y2+m)/2,t.push(e)}}(n),e._private.batchingStyle||(i.compoundBoundsClean=!0))}return this};var u=function(e){return e===1/0||e===-1/0?0:e},c=function(e,t,r,n,i){n-t!=0&&i-r!=0&&null!=t&&null!=r&&null!=n&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2)},h=function(e,t){return c(e,t.x1,t.y1,t.x2,t.y2)},d=function(e,t,r){return o.getPrefixedProperty(e,t,r)},p=function(e,t,r){if(!t.cy().headless()){var n=t._private,i=n.rstyle,o=i.arrowWidth/2,a=t.pstyle(r+"-arrow-shape").value,s=void 0,l=void 0;"none"!==a&&("source"===r?(s=i.srcX,l=i.srcY):"target"===r?(s=i.tgtX,l=i.tgtY):(s=i.midX,l=i.midY),c(e,s-o,l-o,s+o,l+o))}},f=function(e,t,r){if(!t.cy().headless()){var n=void 0;n=r?r+"-":"";var i=t._private,o=i.rstyle;if(t.pstyle(n+"label").strValue){var a=t.pstyle("text-halign"),s=t.pstyle("text-valign"),l=d(o,"labelWidth",r),u=d(o,"labelHeight",r),h=d(o,"labelX",r),p=d(o,"labelY",r),f=t.pstyle(n+"text-margin-x").pfValue,g=t.pstyle(n+"text-margin-y").pfValue,v=t.isEdge(),y=t.pstyle(n+"text-rotation"),m=t.pstyle("text-outline-width").pfValue,b=t.pstyle("text-border-width").pfValue,x=b/2,w=t.pstyle("text-background-padding").pfValue,E=u+2*w,T=l+2*w,_=T/2,D=E/2,C=void 0,N=void 0,L=void 0,P=void 0;if(v)C=h-_,N=h+_,L=p-D,P=p+D;else{switch(a.value){case"left":C=h-T,N=h;break;case"center":C=h-_,N=h+_;break;case"right":C=h,N=h+T}switch(s.value){case"top":L=p-E,P=p;break;case"center":L=p-D,P=p+D;break;case"bottom":L=p,P=p+E}}var S=v&&"autorotate"===y.strValue,A=null!=y.pfValue&&0!==y.pfValue;if(S||A){var I=S?d(i.rstyle,"labelAngle",r):y.pfValue,M=Math.cos(I),O=Math.sin(I),R=function(e,t){return e-=h,t-=p,{x:e*M-t*O+h,y:e*O+t*M+p}},k=R(C,L),B=R(C,P),F=R(N,L),z=R(N,P);C=Math.min(k.x,B.x,F.x,z.x),N=Math.max(k.x,B.x,F.x,z.x),L=Math.min(k.y,B.y,F.y,z.y),P=Math.max(k.y,B.y,F.y,z.y)}C+=f-Math.max(m,x),N+=f+Math.max(m,x),L+=g-Math.max(m,x),P+=g+Math.max(m,x),c(e,C,L,N,P)}return e}},g=function(e,t){var r=e._private.cy,n=r.styleEnabled(),i=r.headless(),o={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},s=e._private,l=n?e.pstyle("display").value:"element",h=e.isNode(),d=e.isEdge(),g=void 0,v=void 0,y=void 0,m=void 0,b=void 0,x=void 0,w="none"!==l;if(w){var E=0;n&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(E=e.pstyle("overlay-padding").value);var T=0,_=0;if(n&&(T=e.pstyle("width").pfValue,_=T/2),h&&t.includeNodes){var D=e.position();b=D.x,x=D.y;var C=e.outerWidth(),N=C/2,L=e.outerHeight(),P=L/2;g=b-N-E,v=b+N+E,y=x-P-E,m=x+P+E,c(o,g,y,v,m)}else if(d&&t.includeEdges){var S=s.rstyle||{};if(n&&!i&&(g=Math.min(S.srcX,S.midX,S.tgtX),v=Math.max(S.srcX,S.midX,S.tgtX),y=Math.min(S.srcY,S.midY,S.tgtY),m=Math.max(S.srcY,S.midY,S.tgtY),g-=_,v+=_,y-=_,m+=_,c(o,g,y,v,m)),n&&!i&&"haystack"===e.pstyle("curve-style").strValue){var A=S.haystackPts||[];if(g=A[0].x,y=A[0].y,v=A[1].x,m=A[1].y,g>v){var I=g;g=v,v=I}if(y>m){var M=y;y=m,m=M}c(o,g-_,y-_,v+_,m+_)}else{for(var O=S.bezierPts||S.linePts||[],R=0;R<O.length;R++){var k=O[R];g=k.x-_,v=k.x+_,y=k.y-_,m=k.y+_,c(o,g,y,v,m)}if(0===O.length){var B=e.source(),F=B.position(),z=e.target(),V=z.position();if(g=F.x,v=V.x,y=F.y,m=V.y,g>v){var j=g;g=v,v=j}if(y>m){var Y=y;y=m,m=Y}g-=_,v+=_,y-=_,m+=_,c(o,g,y,v,m)}}}if(n&&t.includeEdges&&d&&(p(o,e,"mid-source"),p(o,e,"mid-target"),p(o,e,"source"),p(o,e,"target")),n){if("yes"===e.pstyle("ghost").value){var X=e.pstyle("ghost-offset-x").pfValue,G=e.pstyle("ghost-offset-y").pfValue;c(o,o.x1+X,o.y1+G,o.x2+X,o.y2+G)}}n&&(g=o.x1,v=o.x2,y=o.y1,m=o.y2,c(o,g-E,y-E,v+E,m+E)),n&&t.includeLabels&&(f(o,e,null),d&&(f(o,e,"source"),f(o,e,"target")))}return o.x1=u(o.x1),o.y1=u(o.y1),o.x2=u(o.x2),o.y2=u(o.y2),o.w=u(o.x2-o.x1),o.h=u(o.y2-o.y1),o.w>0&&o.h>0&&w&&a.expandBoundingBox(o,1),o},v=function(e){return e?"t":"f"},y=function(e){var t="";return t+=v(e.incudeNodes),t+=v(e.includeEdges),t+=v(e.includeLabels),t+=v(e.includeOverlays)},m=function(e,t){var r=e._private,n=void 0,i=e.cy().headless(),o=t===b?x:y(t);return t.useCache&&!i&&r.bbCache&&r.bbCache[o]?n=r.bbCache[o]:(n=g(e,t),i||(r.bbCache=r.bbCache||{},r.bbCache[o]=n)),n},b={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},x=y(b);l.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?b:n(e),m(this[0],e);var t={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};e=e||o.staticEmptyObject();var r=n(e),i=this,a=i.cy(),s=a.styleEnabled();s&&this.recalculateRenderedStyle(r.useCache),this.updateCompoundBounds();for(var l={},c=0;c<i.length;c++){var d=i[c];if(s&&d.isEdge()&&"bezier"===d.pstyle("curve-style").strValue&&!l[d.id()]){for(var p=d.parallelEdges(),f=0;f<p.length;f++)l[p[f].id()]=!0;p.recalculateRenderedStyle(r.useCache)}h(t,m(d,r))}return t.x1=u(t.x1),t.y1=u(t.y1),t.x2=u(t.x2),t.y2=u(t.y2),t.w=u(t.x2-t.x1),t.h=u(t.y2-t.y1),t},l.boundingBoxAt=function(e){var t=this.nodes();if(i.plainObject(e)){var r=e;e=function(){return r}}for(var n=0;n<t.length;n++){var o=t[n],a=o._private,s=a.position,l=e.call(o,o,n);a.bbAtOldPos={x:s.x,y:s.y},l&&(s.x=l.x,s.y=l.y)}this.emit("dirty"),t.dirtyCompoundBoundsCache().updateCompoundBounds();for(var u=this.boundingBox({useCache:!1}),c=0;c<t.length;c++){var h=t[c],d=h._private,p=h._private.position,f=d.bbAtOldPos;p.x=f.x,p.y=f.y}return t.dirtyCompoundBoundsCache(),this.emit("dirty"),u},s.boundingbox=s.boundingBox,s.renderedBoundingbox=s.renderedBoundingBox,e.exports=l},function(e){"use strict";var t=function(e,t){if(e.isEdge())return t(e.renderer())};e.exports={controlPoints:function(){var e=this;return t(this,function(t){return t.getControlPoints(e)})},segmentPoints:function(){var e=this;return t(this,function(t){return t.getSegmentPoints(e)})},sourceEndpoint:function(){var e=this;return t(this,function(t){return t.getSourceEndpoint(e)})},targetEndpoint:function(){var e=this;return t(this,function(t){return t.getTargetEndpoint(e)})},midpoint:function(){var e=this;return t(this,function(t){return t.getEdgeMidpoint(e)})}}},function(e,t,r){"use strict";e.exports=r(1).assign({},r(45),r(42),r(46),r(43))},function(e,t,r){"use strict";var n=r(3),i=r(0),o=r(2),a=void 0,s=void 0,l=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.isParent()&&!n.locked()){var i=n._private.position,o={x:t.x-i.x,y:t.y-i.y};e.children().shift(o)}}};a=s={position:n.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:l,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),silentPosition:n.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:l,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),positions:function(e,t){if(i.plainObject(e))t?this.silentPosition(e):this.position(e);else if(i.fn(e)){var r=e,n=this.cy();n.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=void 0;(s=r(a,o))&&(t?a.silentPosition(s):a.position(s))}n.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t){var r=void 0;if(i.plainObject(e)?r=e:i.string(e)&&i.number(t)&&(r={x:0,y:0},r[e]=t),null!=r)for(var n=0;n<this.length;n++){var o=this[n],a=o.position();o.position({x:a.x+r.x,y:a.y+r.y})}return this},renderedPosition:function(e,t){var r=this[0],n=this.cy(),a=n.zoom(),s=n.pan(),l=i.plainObject(e)?e:void 0,u=void 0!==l||void 0!==t&&i.string(e);if(r&&r.isNode()){if(!u){var c=r.position();return l=o.modelToRenderedPosition(c,a,s),void 0===e?l:l[e]}for(var h=0;h<this.length;h++){var d=this[h];void 0!==t?d.position(e,(t-s[e])/a):void 0!==l&&d.position(o.renderedToModelPosition(l,a,s))}}else if(!u)return;return this},relativePosition:function(e,t){var r=this[0],n=this.cy(),o=i.plainObject(e)?e:void 0,a=void 0!==o||void 0!==t&&i.string(e),s=n.hasCompoundNodes();if(r&&r.isNode()){if(!a){var l=r.position(),u=s?r.parent():null,c=u&&u.length>0,h=c;c&&(u=u[0]);var d=h?u.position():{x:0,y:0};return o={x:l.x-d.x,y:l.y-d.y},void 0===e?o:o[e]}for(var p=0;p<this.length;p++){var f=this[p],g=s?f.parent():null,v=g&&g.length>0,y=v;v&&(g=g[0]);var m=y?g.position():{x:0,y:0};void 0!==t?f.position(e,t+m[e]):void 0!==o&&f.position({x:o.x+m.x,y:o.y+m.y})}}else if(!a)return;return this}},a.modelPosition=a.point=a.position,a.modelPositions=a.points=a.positions,a.renderedPoint=a.renderedPosition,a.relativePoint=a.relativePosition,e.exports=s},function(e,t,r){"use strict";var n=r(1),i=void 0,o=void 0;i=o={};var a=function(e){e.uppercaseName=n.capitalize(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=n.capitalize(e.outerName),i[e.name]=function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t){if(!i)return 1;if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var o=t.pstyle(e.name);switch(o.strValue){case"label":return t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0;default:return o.pfValue}}},i["outer"+e.uppercaseName]=function(){var t=this[0],r=t._private,n=r.cy,i=n._private.styleEnabled;if(t){if(i){return t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding()}return 1}},i["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){return t[e.name]()*this.cy().zoom()}},i["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){return t[e.outerName]()*this.cy().zoom()}}};a({name:"width"}),a({name:"height"}),o.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},e.exports=o},function(e,t,r){"use strict";var n=r(10),i=r(3),o=r(0),a=r(1),s=r(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,r){var n=t.qualifier;return null==n||e!==r.target&&o.element(r.target)&&n.matches(r.target)},eventFields:function(e){return{cy:e.cy(),target:e}},callbackContext:function(e,t,r){return null!=t.qualifier?r.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},u=function(e){return o.string(e)?new s(e):e},c={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new n(a.assign({context:t},l)))}return this},emitter:function(){return this._private.emitter},on:function(e,t,r){for(var n=0;n<this.length;n++){this[n].emitter().on(e,u(t),r)}return this},removeListener:function(e,t,r){for(var n=0;n<this.length;n++){this[n].emitter().removeListener(e,u(t),r)}return this},one:function(e,t,r){for(var n=0;n<this.length;n++){this[n].emitter().one(e,u(t),r)}return this},once:function(e,t,r){for(var n=0;n<this.length;n++){this[n].emitter().on(e,u(t),r,{once:!0,onceCollection:this})}},emit:function(e,t){for(var r=0;r<this.length;r++){this[r].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify({type:e,eles:this}),this.emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,r){"use strict";var n=r(0),i=r(6),o={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},filter:function(e,t){if(void 0===e)return this;if(n.string(e)||n.elementOrCollection(e))return new i(e).filter(this);if(n.fn(e)){for(var r=this.spawn(),o=this,a=0;a<o.length;a++){var s=o[a];(t?e.apply(t,[s,a,o]):e(s,a,o))&&r.merge(s)}return r}return this.spawn()},not:function(e){if(e){n.string(e)&&(e=this.filter(e));for(var t=[],r=e._private.map,i=0;i<this.length;i++){var o=this[i];r.has(o.id())||t.push(o)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(n.string(e)){return this.filter(e)}for(var t=[],r=this,i=e,o=this.length<e.length,a=o?i._private.map:r._private.map,s=o?r:i,l=0;l<s.length;l++){var u=s[l]._private.data.id,c=a.get(u);c&&t.push(c.ele)}return this.spawn(t)},xor:function(e){var t=this._private.cy;n.string(e)&&(e=t.$(e));var r=[],i=this,o=e,a=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];t.hasElementWithId(i._private.data.id)||r.push(i)}};return a(i,o),a(o,i),this.spawn(r)},diff:function(e){var t=this._private.cy;n.string(e)&&(e=t.$(e));var r=[],i=[],o=[],a=this,s=e,l=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];t.hasElementWithId(i._private.data.id)?o.push(i):r.push(i)}};return l(a,s,r),l(s,a,i),{left:this.spawn(r,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(n.string(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var a=this._private.map,s=0;s<e.length;s++){!a.has(e[s].id())&&i.push(e[s])}return this.spawn(i)},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&n.string(e)){var i=e;e=r.mutableElements().filter(i)}for(var o=t.map,a=0;a<e.length;a++){var s=e[a],l=s._private.data.id;if(!o.has(l)){var u=this.length++;this[u]=s,o.set(l,{ele:s,index:u})}else{var c=o.get(l).index;this[c]=s,o.set(l,{ele:s,index:c})}}return this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.map,i=n.get(r);if(!i)return this;var o=i.index;this[o]=void 0,n.delete(r);var a=o===this.length-1;if(this.length>1&&!a){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[o]=l,n.set(u,{ele:l,index:o})}return this.length--,this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&n.string(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var o=n[i];r.push(t?e.apply(t,[o,i,n]):e(o,i,n))}return r},reduce:function(e,t){for(var r=t,n=this,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r},max:function(e,t){for(var r=-1/0,n=void 0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(e,t){for(var r=1/0,n=void 0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s<r&&(r=s,n=a)}return{value:r,ele:n}}},a=o;a.u=a["|"]=a["+"]=a.union=a.or=a.add,a["\\"]=a["!"]=a["-"]=a.difference=a.relativeComplement=a.subtract=a.not,a.n=a["&"]=a["."]=a.and=a.intersection=a.intersect,a["^"]=a["(+)"]=a["(-)"]=a.symmetricDifference=a.symdiff=a.xor,a.fnFilter=a.filterFn=a.stdFilter=a.filter,a.complement=a.abscomp=a.absoluteComplement,e.exports=o},function(e){"use strict";e.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];if(e)return e._private.group}}},function(e,t,r){"use strict";var n=r(0),i=r(14),o=r(1),a={forEach:function(e,t){if(n.fn(e))for(var r=0;r<this.length;r++){var i=this[r],o=t?e.apply(t,[i,r,this]):e(i,r,this);if(!1===o)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],n=this.length;null==t&&(t=n),null==e&&(e=0),e<0&&(e=n+e),t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){return n.fn(e)?this.spawn(this.toArray().sort(e)):this},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:o.MAX_INT-1}var n=t.source,i=t.target,a=n.zDepth(),s=i.zDepth();return Math.max(a,s,0)}}};a.each=a.forEach,e.exports=a},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(5),a=r(2),s={layoutDimensions:function(e){if(e=i.assign({nodeDimensionsIncludeLabels:!0},e),e.nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,t,r){var s=this.nodes(),l=this.cy(),u=t.eles,c=function(e,t){return e.id()+"$"+t},h=i.memoize(r,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=function(e,t,r){var n={x:t.x1+t.w/2,y:t.y1+t.h/2},i={x:(r.x-n.x)*e,y:(r.y-n.y)*e};return{x:n.x+i.x,y:n.y+i.y}},p=t.spacingFactor&&1!==t.spacingFactor,f=function(){if(!p)return null;for(var e=a.makeBoundingBox(),t=0;t<s.length;t++){var r=s[t],n=h(r,t);a.expandBoundingBoxByPoint(e,n.x,n.y)}return e}(),g=i.memoize(function(e,r){var i=h(e,r),o=e.position();if(n.number(o.x)&&n.number(o.y)||e.silentPosition({x:0,y:0}),p){var a=Math.abs(t.spacingFactor);i=d(a,f,i)}return null!=t.transform&&(i=t.transform(e,i)),i},c);if(t.animate){for(var v=0;v<s.length;v++){var y=s[v],m=g(y,v);if(null==t.animateFilter||t.animateFilter(y,v)){var b=y.animation({position:m,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(b),b.play()}else y.position(m)}if(t.fit){var x=l.animation({fit:{boundingBox:u.boundingBoxAt(g),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x),x.play()}else if(void 0!==t.zoom&&void 0!==t.pan){var w=l.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w),w.play()}e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),o.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else s.positions(g),t.fit&&l.fit(t.eles,t.padding),null!=t.zoom&&l.zoom(t.zoom),t.pan&&l.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(i.extend({},e,{eles:this}))}};s.createLayout=s.makeLayout=s.layout,e.exports=s},function(e,t,r){"use strict";function n(e,t,r){var n,i=r._private,o=i.styleCache=i.styleCache||{};return null!=(n=o[e])?n:n=o[e]=t(r)}function i(e,t){return function(r){return n(e,t,r)}}function o(e,t){var r=function(e){return t.call(e)};return function(){var t=this[0];if(t)return n(e,r,t)}}function a(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(!t(o))return!1}return!0}function s(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],o=e.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!o||a(i,n);var l=s.source,u=s.target;return r(l)&&(!o||a(l,r))&&(l===u||r(u)&&(!o||a(u,r)))}}}var l=r(0),u={recalculateRenderedStyle:function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(e){return e._private.styleCache={}};if(e.hasCompoundNodes()){var r=void 0;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(e){t(e),e.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){return t._private.batchStyleEles.merge(this),this}var r=t.hasCompoundNodes(),n=t.style(),i=this;e=!(!e&&void 0!==e),r&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=n.apply(i);return o.dirtyStyleCache(),o.dirtyCompoundBoundsCache(),e?o.emitAndNotify("style"):o.emit("style"),this},updateMappers:function(e){var t=this._private.cy,r=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;var n=r.updateMappers(this);return n.dirtyStyleCache(),n.dirtyCompoundBoundsCache(),e?n.emitAndNotify("style"):n.emit("style"),this},parsedStyle:function(e){var t=this[0],r=t.cy();if(r.styleEnabled())return t?t._private.style[e]||r.style().getDefaultProperty(e):void 0},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return void 0!==r.pfValue?r.pfValue:r.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];return r?t.style().getRenderedStyle(r,e):void 0},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var n=r.style();if(l.plainObject(e)){n.applyBypass(this,e,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(l.string(e)){if(void 0===t){var i=this[0];return i?n.getStylePropertyValue(i,e):void 0}n.applyBypass(this,e,t,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?n.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=t.style(),n=this;if(void 0===e)for(var i=0;i<n.length;i++){var o=n[i];r.removeAllBypasses(o,!1)}else{e=e.split(/\s+/);for(var a=0;a<n.length;a++){r.removeBypasses(n[a],e,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var o=n.data.parent?r.parents():null;if(o)for(var a=0;a<o.length;a++){var s=o[a],l=s.pstyle("opacity").value;i*=l}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}},c=i("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});u.takesUpSpace=o("takesUpSpace",s({ok:c})),u.interactive=o("interactive",s({ok:i("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&c(e)}),parentOk:i("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&c(e)}),edgeOkViaNode:c})),u.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},u.visible=o("visible",s({ok:i("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&c(e)}),edgeOkViaNode:c})),u.hidden=function(){var e=this[0];if(e)return!e.visible()},u.bypass=u.css=u.style,u.renderedCss=u.renderedStyle,u.removeBypass=u.removeCss=u.removeStyle,u.pstyle=u.parsedStyle,e.exports=u},function(e){"use strict";function t(e){return function(){var t=arguments,r=[];if(2===t.length){this.on(e.event,t[0],t[1])}else if(1===t.length){var n=t[0];this.on(e.event,n)}else if(0===t.length){for(var i=0;i<this.length;i++){var o=this[i],a=!e.ableField||o._private[e.ableField],s=o._private[e.field]!=e.value;if(e.overrideAble){var l=e.overrideAble(o);if(void 0!==l&&(a=l,!l))return this}a&&(o._private[e.field]=e.value,s&&r.push(o))}var u=this.spawn(r);u.updateStyle(),u.emit(e.event)}return this}}function r(e){n[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(void 0!==r)return r}return t._private[e.field]}},n[e.on]=t({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),n[e.off]=t({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var n={};r({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),r({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),r({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),r({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),n.deselect=n.unselect,n.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},r({field:"active",on:"activate",off:"unactivate"}),n.inactive=function(){var e=this[0];if(e)return!e._private.active},e.exports=n},function(e,t,r){"use strict";function n(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n],o=i._private[e.attr];o&&r.push(o)}return this.spawn(r,{unique:!0}).filter(t)}}function i(e){return function(t){var r=[],n=this._private.cy,i=e||{};s.string(t)&&(t=n.$(t));for(var o=0;o<t.length;o++)for(var a=t[o]._private.edges,l=0;l<a.length;l++){var u=a[l],c=u._private.data,h=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),d=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target),p=h||d;if(p){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!h)continue;if(i.thisIsTgt&&!d)continue}r.push(u)}}return this.spawn(r,{unique:!0})}}function o(e){return e=a.extend({},{codirected:!1},e),function(t){for(var r=[],n=this.edges(),i=e,o=0;o<n.length;o++)for(var a=n[o],s=a._private,l=s.source,u=l._private.data.id,c=s.data.target,h=l._private.edges,d=0;d<h.length;d++){var p=h[d],f=p._private.data,g=f.target,v=f.source,y=g===c&&v===u,m=u===g&&c===v;(i.codirected&&y||!i.codirected&&(y||m))&&r.push(p)}return this.spawn(r,{unique:!0}).filter(t)}}var a=r(1),s=r(0),l={},u=function(e,t){return function(r,n,i,o){var a=r,l=this,u=void 0;if(null==a?u="null":s.elementOrCollection(a)&&1===a.length&&(u="#"+a.id()),1===l.length&&u){var c=l[0]._private,h=c.traversalCache=c.traversalCache||{},d=h[t]=h[t]||{},p=d[u];return p||(d[u]=e.call(l,r,n,i,o))}return e.call(l,r,n,i,o)}},c=function(e){return function(t){for(var r=this,n=[],i=0;i<r.length;i++){var o=r[i];if(o.isNode()){for(var a=!1,s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),h=u.target();if(e.noIncomingEdges&&h===o&&c!==o||e.noOutgoingEdges&&c===o&&h!==o){a=!0;break}}a||n.push(o)}}return this.spawn(n,{unique:!0}).filter(t)}},h=function(e){return function(t){for(var r=this,n=[],i=0;i<r.length;i++){var o=r[i];if(o.isNode())for(var a=o.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();e.outgoing&&u===o?(n.push(l),n.push(c)):e.incoming&&c===o&&(n.push(l),n.push(u))}}return this.spawn(n,{unique:!0}).filter(t)}},d=function(e){return function(t){for(var r=this,n=[],i={};;){var o=e.outgoing?r.outgoers():r.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,n.push(l),a=!0)}if(!a)break;r=o}return this.spawn(n,{unique:!0}).filter(t)}};l.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},a.extend(l,{roots:c({noIncomingEdges:!0}),leaves:c({noOutgoingEdges:!0}),outgoers:u(h({outgoing:!0}),"outgoers"),successors:d({outgoing:!0}),incomers:u(h({incoming:!0}),"incomers"),predecessors:d({incoming:!0})}),a.extend(l,{neighborhood:u(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),l.neighbourhood=l.neighborhood,l.closedNeighbourhood=l.closedNeighborhood,l.openNeighbourhood=l.openNeighborhood,a.extend(l,{source:u(function(e){var t=this[0],r=void 0;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"source"),target:u(function(e){var t=this[0],r=void 0;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"target"),sources:n({attr:"source"}),targets:n({attr:"target"})}),a.extend(l,{edgesWith:u(i(),"edgesWith"),edgesTo:u(i({thisIsSrc:!0}),"edgesTo")}),a.extend(l,{connectedEdges:u(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:u(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var i=r[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:u(o(),"parallelEdges"),codirectedEdges:u(o({codirected:!0}),"codirectedEdges")}),a.extend(l,{components:function(){var e=this,t=e.cy(),r=e.spawn(),n=e.nodes().spawnSelf(),i=[],o=function(e,t){r.merge(e),n.unmerge(e),t.merge(e)};if(n.empty())return e.spawn();do{!function(){var r=t.collection();i.push(r);var a=n[0];o(a,r),e.bfs({directed:!1,roots:a,visit:function(e){o(e,r)}})}()}while(n.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}}),e.exports=l},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(7),a=r(13);e.exports={add:function(e){var t=void 0,r=this;if(n.elementOrCollection(e)){var s=e;if(s._private.cy===r)t=s.restore();else{for(var l=[],u=0;u<s.length;u++){l.push(s[u].json())}t=new o(r,l)}}else if(n.array(e)){var c=e;t=new o(r,c)}else if(n.plainObject(e)&&(n.array(e.nodes)||n.array(e.edges))){for(var h=e,d=[],p=["nodes","edges"],f=0,g=p.length;f<g;f++){var v=p[f],y=h[v];if(n.array(y))for(var m=0,b=y.length;m<b;m++){var x=i.extend({group:v},y[m]);d.push(x)}}t=new o(r,d)}else{var w=e;t=new a(r,w).collection()}return t},remove:function(e){if(n.elementOrCollection(e));else if(n.string(e)){var t=e;e=this.$(t)}return e.remove()}}},function(e){"use strict";function t(e,t,r,n){function i(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,r){return((i(t,r)*e+o(t,r))*e+a(t))*e}function l(e,t,r){return 3*i(t,r)*e*e+2*o(t,r)*e+a(t)}function u(t,n){for(var i=0;i<f;++i){var o=l(n,e,r);if(0===o)return n;n-=(s(n,e,r)-t)/o}return n}function c(){for(var t=0;t<m;++t)E[t]=s(t*b,e,r)}function h(t,n,i){var o=void 0,a=void 0,l=0;do{a=n+(i-n)/2,o=s(a,e,r)-t,o>0?i=a:n=a}while(Math.abs(o)>v&&++l<y);return a}function d(t){for(var n=0,i=1,o=m-1;i!==o&&E[i]<=t;++i)n+=b;--i;var a=(t-E[i])/(E[i+1]-E[i]),s=n+a*b,c=l(s,e,r);return c>=g?u(t,s):0===c?s:h(t,n,n+b)}function p(){T=!0,e===t&&r===n||c()}var f=4,g=.001,v=1e-7,y=10,m=11,b=1/(m-1),x="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var E=x?new Float32Array(m):new Array(m),T=!1,_=function(i){return T||p(),e===t&&r===n?i:0===i?0:1===i?1:s(d(i),t,n)};_.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var D="generateBezier("+[e,t,r,n]+")";return _.toString=function(){return D},_}e.exports=t},function(e,t,r){"use strict";function n(e,t,r,n,i){if(1===n)return r;var o=i(t,r,n);return null==e?o:((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max)),o)}function i(e,t,r,i,a){var s=null!=a?a.type:null;r<0?r=0:r>1&&(r=1);var l=void 0,u=void 0;if(l=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e,u=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t,o.number(l)&&o.number(u))return n(s,l,u,r,i);if(o.array(l)&&o.array(u)){for(var c=[],h=0;h<u.length;h++){var d=l[h],p=u[h];if(null!=d&&null!=p){c.push(n(s,d,p,r,i))}else c.push(p)}return c}}var o=r(0);e.exports=i},function(e,t,r){"use strict";var n=r(56),i=r(60),o=function(e,t,r,i){var o=n(e,t,r,i);return function(e,t,r){return e+(t-e)*o(r)}},a={linear:function(e,t,r){return e+(t-e)*r},ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"ease-in-sine":o(.47,0,.745,.715),"ease-out-sine":o(.39,.575,.565,1),"ease-in-out-sine":o(.445,.05,.55,.95),"ease-in-quad":o(.55,.085,.68,.53),"ease-out-quad":o(.25,.46,.45,.94),"ease-in-out-quad":o(.455,.03,.515,.955),"ease-in-cubic":o(.55,.055,.675,.19),"ease-out-cubic":o(.215,.61,.355,1),"ease-in-out-cubic":o(.645,.045,.355,1),"ease-in-quart":o(.895,.03,.685,.22),"ease-out-quart":o(.165,.84,.44,1),"ease-in-out-quart":o(.77,0,.175,1),"ease-in-quint":o(.755,.05,.855,.06),"ease-out-quint":o(.23,1,.32,1),"ease-in-out-quint":o(.86,0,.07,1),"ease-in-expo":o(.95,.05,.795,.035),"ease-out-expo":o(.19,1,.22,1),"ease-in-out-expo":o(1,0,0,1),"ease-in-circ":o(.6,.04,.98,.335),"ease-out-circ":o(.075,.82,.165,1),"ease-in-out-circ":o(.785,.135,.15,.86),spring:function(e,t,r){if(0===r)return a.linear;var n=i(e,t,r);return function(e,t,r){return e+(t-e)*n(r)}},"cubic-bezier":o};e.exports=a},function(e,t,r){"use strict";var n=r(3),i=r(1),o=r(62);e.exports={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),stop:n.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function e(){t._private.animationsRunning&&i.requestAnimationFrame(function(r){o(r,t),e()})}var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var r=t.renderer();r&&r.beforeRender?r.beforeRender(function(e,r){o(r,t)},r.beforeRenderPriorities.animations):e()}}}},function(e){"use strict";e.exports=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},o=t(r,.5*n,i),a=t(r,.5*n,o),s=t(r,n,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return r.x=r.x+l*n,r.v=r.v+u*n,r}return function e(t,n,i){var o={x:-1,v:0,tension:null,friction:null},a=[0],s=0,l=void 0,u=void 0,c=void 0;for(t=parseFloat(t)||500,n=parseFloat(n)||20,i=i||null,o.tension=t,o.friction=n,l=null!==i,l?(s=e(t,n),u=s/i*.016):u=.016;c=r(c||o,u),a.push(1+c.x),s+=16,Math.abs(c.x)>1e-4&&Math.abs(c.v)>1e-4;);return l?function(e){return a[e*(a.length-1)|0]}:s}}()},function(e){"use strict";function t(e,t,r,n){var i=!n,o=e,a=t._private,s=n?e:e.cy(),l=s.style();if(i){var u=o.position();a.startPosition=a.startPosition||{x:u.x,y:u.y},a.startStyle=a.startStyle||l.getAnimationStartStyle(o,a.style)}if(n){var c=s._private.pan;a.startPan=a.startPan||{x:c.x,y:c.y},a.startZoom=null!=a.startZoom?a.startZoom:s._private.zoom}a.started=!0,a.startTime=r-a.progress*a.duration}e.exports=t},function(e,t,r){"use strict";function n(e,t){function r(t,r){var n=t._private,s=n.animation.current,l=n.animation.queue,u=!1;if(!r&&"none"===t.pstyle("display").value){s=s.splice(0,s.length).concat(l.splice(0,l.length));for(var c=0;c<s.length;c++)s[c].stop()}if(0===s.length){var h=l.shift();h&&s.push(h)}for(var d=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},p=s.length-1;p>=0;p--){var f=s[p],g=f._private;g.stopped?(s.splice(p,1),g.hooked=!1,g.playing=!1,g.started=!1,d(g.frames)):(g.playing||g.applying)&&(g.playing&&g.applying&&(g.applying=!1),g.started||o(t,f,e,r),i(t,f,e,r),g.applying&&(g.applying=!1),d(g.frames),f.completed()&&(s.splice(p,1),g.hooked=!1,g.playing=!1,g.started=!1,d(g.completes)),u=!0)}return r||0!==s.length||0!==l.length||a.push(t),u}for(var n=t._private.aniEles,a=[],s=!1,l=0;l<n.length;l++){var u=n[l],c=r(u);s=s||c}var h=r(t,!0);(s||h)&&(n.length>0?(n.dirtyCompoundBoundsCache(),t.notify({type:"draw",eles:n})):t.notify({type:"draw"})),n.unmerge(a),t.emit("step")}var i=r(63),o=r(61);e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){var l=!n,u=e._private,c=t._private,h=c.easing,d=c.startTime,p=n?e:e.cy(),f=p.style();if(!c.easingImpl)if(null==h)c.easingImpl=o.linear;else{var g=void 0;if(s.string(h)){var v=f.parse("transition-timing-function",h);g=v.value}else g=h;var y=void 0,m=void 0;s.string(g)?(y=g,m=[]):(y=g[1],m=g.slice(2).map(function(e){return+e})),m.length>0?("spring"===y&&m.push(c.duration),c.easingImpl=o[y].apply(null,m)):c.easingImpl=o[y]}var b=c.easingImpl,x=void 0;if(x=0===c.duration?1:(r-d)/c.duration,c.applying&&(x=c.progress),x<0?x=0:x>1&&(x=1),null==c.delay){var w=c.startPosition,E=c.position;if(E&&l&&!e.locked()){var T=e.position();i(w.x,E.x)&&(T.x=a(w.x,E.x,x,b)),i(w.y,E.y)&&(T.y=a(w.y,E.y,x,b)),e.emit("position")}var _=c.startPan,D=c.pan,C=u.pan,N=null!=D&&n;N&&(i(_.x,D.x)&&(C.x=a(_.x,D.x,x,b)),i(_.y,D.y)&&(C.y=a(_.y,D.y,x,b)),e.emit("pan"));var L=c.startZoom,P=c.zoom,S=null!=P&&n;S&&(i(L,P)&&(u.zoom=a(L,P,x,b)),e.emit("zoom")),(N||S)&&e.emit("viewport");var A=c.style;if(A&&A.length>0&&l){for(var I=0;I<A.length;I++){var M=A[I],O=M.name,R=M,k=c.startStyle[O];f.overrideBypass(e,O,a(k,R,x,b,f.properties[k.name]))}e.emit("style")}}return c.progress=x,x}function i(e,t){return null!=e&&null!=t&&(!(!s.number(e)||!s.number(t))||!(!e||!t))}var o=r(58),a=r(57),s=r(0);e.exports=n},function(e,t,r){"use strict";var n=r(10),i=r(3),o=r(0),a=r(1),s=r(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,r){var n=t.qualifier;return null==n||e!==r.target&&o.element(r.target)&&n.matches(r.target)},eventFields:function(e){return{cy:e,target:e}},callbackContext:function(e,t,r){return null!=t.qualifier?r.target:e}},u=function(e){return o.string(e)?new s(e):e},c={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new n(a.assign({context:this},l))),this},emitter:function(){return this._private.emitter},on:function(e,t,r){return this.emitter().on(e,u(t),r),this},removeListener:function(e,t,r){return this.emitter().removeListener(e,u(t),r),this},one:function(e,t,r){return this.emitter().one(e,u(t),r),this},once:function(e,t,r){return this.emitter().one(e,u(t),r),this},emit:function(e,t){return this.emitter().emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e){"use strict";var t={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};t.jpeg=t.jpg,e.exports=t},function(e,t,r){"use strict";var n=r(1),i=r(0),o={layout:function(e){var t=this;if(null==e)return void n.error("Layout options must be specified to make a layout");if(null==e.name)return void n.error("A `name` must be specified to make a layout");var r=e.name,o=t.extension("layout",r);if(null==o)return void n.error("Can not apply layout: No such layout `"+r+"` found; did you include its JS file?");var a=void 0;return a=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new o(n.extend({},e,{cy:t,eles:a}))}};o.createLayout=o.makeLayout=o.layout,e.exports=o},function(e){"use strict";e.exports={notify:function(e){var t=this._private;if(t.batchingNotify){var r=t.batchNotifyEles,n=t.batchNotifyTypes;return e.eles&&r.merge(e.eles),void(n.ids[e.type]||(n.push(e.type),n.ids[e.type]=!0))}if(t.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e)}},notifications:function(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=!!e},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],o=e[i];t.getElementById(i).data(o)}})}}},function(e,t,r){"use strict";var n=r(1),i={renderTo:function(e,t,r,n){return this._private.renderer.renderTo(e,t,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(null==r)return void n.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name);t._private.renderer=new r(n.extend({},e,{cy:t})),this.notify({type:"init"})},destroyRenderer:function(){var e=this;e.notify({type:"destroy"});var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,e.exports=i},function(e,t,r){"use strict";var n=r(0),i=r(7),o={collection:function(e,t){return n.string(e)?this.$(e):n.elementOrCollection(e)?e.collection():n.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};o.elements=o.filter=o.$,e.exports=o},function(e,t,r){"use strict";var n=r(0),i=r(18);e.exports={style:function(e){if(e){this.setStyle(e).update()}return this._private.style},setStyle:function(e){var t=this._private;return t.style=n.stylesheet(e)?e.generateStyle(this):n.array(e)?i.fromJson(this,e):n.string(e)?i.fromString(this,e):i(this)}}},function(e,t,r){"use strict";var n=r(0),i=r(4),o=r(2),a={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e=arguments,t=this._private.pan,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;switch(e.length){case 0:return t;case 1:if(n.string(e[0]))return r=e[0],t[r];if(n.plainObject(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,s=o.y,n.number(a)&&(t.x=a),n.number(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],"x"!==r&&"y"!==r||!n.number(i)||(t[r]=i),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e,t){var r=arguments,i=this._private.pan,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0;if(!this._private.panningEnabled)return this;switch(r.length){case 1:n.plainObject(e)&&(s=r[0],l=s.x,u=s.y,n.number(l)&&(i.x+=l),n.number(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:o=e,a=t,"x"!==o&&"y"!==o||!n.number(a)||(i[o]+=a),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(n.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r=void 0;if(n.string(e)){e=this.$(e)}else if(n.boundingBox(e)){var i=e;r={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else n.elementOrCollection(e)||(e=this.mutableElements());if(!n.elementOrCollection(e)||!e.empty()){r=r||e.boundingBox();var o=this.width(),a=this.height(),s=void 0;if(t=n.number(t)?t:0,!isNaN(o)&&!isNaN(a)&&o>0&&a>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){s=Math.min((o-2*t)/r.w,(a-2*t)/r.h),s=s>this._private.maxZoom?this._private.maxZoom:s,s=s<this._private.minZoom?this._private.minZoom:s;return{zoom:s,pan:{x:(o-s*(r.x1+r.x2))/2,y:(a-s*(r.y1+r.y2))/2}}}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(n.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(n.number(e)&&(this._private.maxZoom=e),this)},getZoomedViewport:function(e){var t=this._private,r=t.pan,i=t.zoom,a=void 0,s=void 0,l=!1;if(t.zoomingEnabled||(l=!0),n.number(e)?s=e:n.plainObject(e)&&(s=e.level,null!=e.position?a=o.modelToRenderedPosition(e.position,i,r):null!=e.renderedPosition&&(a=e.renderedPosition),null==a||t.panningEnabled||(l=!0)),s=s>t.maxZoom?t.maxZoom:s,s=s<t.minZoom?t.minZoom:s,l||!n.number(s)||s===i||null!=a&&(!n.number(a.x)||!n.number(a.y)))return null;if(null!=a){var u=r,c=i,h=s;return{zoomed:!0,panned:!0,zoom:h,pan:{x:-h/c*(a.x-u.x)+a.x,y:-h/c*(a.y-u.y)+a.y}}}return{zoomed:!0,panned:!1,zoom:s,pan:r}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return null!=t&&t.zoomed?(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify({type:"viewport"}),this):this},viewport:function(e){var t=this._private,r=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(n.number(e.zoom)||(r=!1),n.plainObject(e.pan)||(i=!1),!r&&!i)return this;if(r){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=l,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;n.number(u.x)&&(t.pan.x=u.x,s=!1),n.number(u.y)&&(t.pan.y=u.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(n.string(e)){var r=e;e=this.mutableElements().filter(r)}else n.elementOrCollection(e)||(e=this.mutableElements());if(0!==e.length){var i=e.boundingBox(),o=this.width(),a=this.height();t=void 0===t?this._private.zoom:t;return{x:(o-t*(i.x1+i.x2))/2,y:(a-t*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?function(){var e=i.getComputedStyle(t),r=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-r("padding-left")-r("padding-right"),height:t.clientHeight-r("padding-top")-r("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};a.centre=a.center,a.autolockNodes=a.autolock,a.autoungrabifyNodes=a.autoungrabify,e.exports=a},function(e,t,r){"use strict";var n=r(1),i=r(23),o=r(2),a=r(0);e.exports={animated:function(){return function(){var e=this,t=void 0!==e.length,r=t?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=r[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length,r=t?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<r.length;n++){r[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var r=this,s=void 0!==r.length,l=s?r:[r],u=this._private.cy||this,c=!s,h=!c;if(!u.styleEnabled())return this;var d=u.style();if(e=n.assign({},e,t),0===Object.keys(e).length)return new i(l[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(h&&(e.style=d.getPropsList(e.style||e.css),e.css=void 0),h&&null!=e.renderedPosition){var p=e.renderedPosition,f=u.pan(),g=u.zoom();e.position=o.renderedToModelPosition(p,g,f)}if(c&&null!=e.panBy){var v=e.panBy,y=u.pan();e.pan={x:y.x+v.x,y:y.y+v.y}}var m=e.center||e.centre;if(c&&null!=m){var b=u.getCenterPan(m.eles,e.zoom);null!=b&&(e.pan=b)}if(c&&null!=e.fit){var x=e.fit,w=u.getFitViewport(x.eles||x.boundingBox,x.padding);null!=w&&(e.pan=w.pan,e.zoom=w.zoom)}if(c&&a.plainObject(e.zoom)){var E=u.getZoomedViewport(e.zoom);null!=E&&(E.zoomed&&(e.zoom=E.zoom),E.panned&&(e.pan=E.pan))}return new i(l[0],e)}},animate:function(){return function(e,t){var r=this,i=void 0!==r.length,o=i?r:[r];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=n.extend({},e,t));for(var a=0;a<o.length;a++){var s=o[a];s.animation(e,s.animated()&&(void 0===e.queue||e.queue)?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){for(var s=i[a],l=s._private,u=l.animation.current,c=0;c<u.length;c++){var h=u[c],d=h._private;t&&(d.duration=0)}e&&(l.animation.queue=[]),t||(l.animation.current=[])}return o.notify({eles:this,type:"draw"}),this}}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=r(1),o=r(0);e.exports={data:function(e){return e=i.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(){},beforeSet:function(){},onSet:function(){},canSet:function(){return!0}},e),function(t,r){var i=e,a=this,s=void 0!==a.length,l=s?a:[a],u=s?a[0]:a;if(o.string(t)){if(i.allowGetting&&void 0===r){var c=void 0;return u&&(i.beforeGet(u),c=u._private[i.field][t]),c}if(i.allowSetting&&void 0!==r&&!i.immutableKeys[t]){i.beforeSet(a,n({},t,r));for(var h=0,d=l.length;h<d;h++){var p=l[h];i.canSet(p)&&(p._private[i.field][t]=r)}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&o.plainObject(t)){var f=t,g=void 0,v=void 0,y=Object.keys(f);i.beforeSet(a,f);for(var m=0;m<y.length;m++){g=y[m],v=f[g];var b=!i.immutableKeys[g];if(b)for(var x=0;x<l.length;x++){var w=l[x];i.canSet(w)&&(w._private[i.field][g]=v)}}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&o.fn(t)){var E=t;a.on(i.bindingEvent,E)}else if(i.allowGetting&&void 0===t){var T=void 0;return u&&(i.beforeGet(u),T=u._private[i.field]),T}return a}},removeData:function(e){return e=i.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var r=e,n=this,i=void 0!==n.length,a=i?n:[n];if(o.string(t)){for(var s=t.split(/\s+/),l=s.length,u=0;u<l;u++){var c=s[u];if(!o.emptyString(c)&&!r.immutableKeys[c])for(var h=0,d=a.length;h<d;h++)a[h]._private[r.field][c]=void 0}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(void 0===t){for(var p=0,f=a.length;p<f;p++)for(var g=a[p]._private[r.field],v=Object.keys(g),y=0;y<v.length;y++){var m=v[y],b=!r.immutableKeys[m];b&&(g[m]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}}}},function(e,t,r){"use strict";var n=r(5);e.exports={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(){var e=this,t=Array.prototype.slice.call(arguments,0);return new n(function(r){var n=function(t){e.off.apply(e,o),r(t)},i=t.concat([n]),o=i.concat([]);e.on.apply(e,i)})}}}},function(e,t,r){"use strict";e.exports=[{type:"layout",extensions:r(81)},{type:"renderer",extensions:r(114)}]},function(e,t,r){"use strict";function n(e){this.options=i.extend({},s,e)}var i=r(1),o=r(2),a=r(0),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent"),s=n,l=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u=void 0;if(a.elementOrCollection(t.roots))u=t.roots;else if(a.array(t.roots)){for(var c=[],h=0;h<t.roots.length;h++){var d=t.roots[h],p=r.getElementById(d);c.push(p)}u=r.collection(c)}else if(a.string(t.roots))u=r.$(t.roots);else if(t.directed)u=i.roots();else{for(var f=[],g=i;g.length>0;)!function(){var e=r.collection();n.bfs({roots:g[0],visit:function(t){e=e.add(t)},directed:!1}),g=g.not(e),f.push(e)}();u=r.collection();for(var v=0;v<f.length;v++)!function(e){var t=f[e],r=t.maxDegree(!1),n=t.filter(function(e){return e.degree(!1)===r});u=u.add(n)}(v)}var y=[],m={},b={},x={},w={},E={};s.bfs({roots:u,directed:t.directed,visit:function(e,t,r,n,i){var o=e[0],a=o.id();if(y[i]||(y[i]=[]),y[i].push(o),m[a]=!0,b[a]=i,x[a]=r,w[a]=t,r){var s=r.id();(E[s]=E[s]||[]).push(e)}}});for(var T=[],_=0;_<i.length;_++){var D=i[_];m[D.id()]||T.push(D)}for(var C=3*T.length,N=0;0!==T.length&&N<C;){for(var L=T.shift(),P=L.neighborhood().nodes(),S=!1,A=0;A<P.length;A++){var I=b[P[A].id()];if(void 0!==I){y[I].push(L),S=!0;break}}S||T.push(L),N++}for(;0!==T.length;){var M=T.shift();0===y.length&&y.push([]),y[0].push(M)}var O=function(){for(var e=0;e<y.length;e++)for(var t=y[e],r=0;r<t.length;r++){var n=t[r];null!=n?n._private.scratch.breadthfirst={depth:e,index:r}:(t.splice(r,1),r--)}};O();for(var R=0;R<t.maximalAdjustments;R++){for(var k=y.length,B=[],F=0;F<k;F++)for(var z=y[F],V=z.length,j=0;j<V;j++){var Y=z[j],X=Y._private.scratch.breadthfirst,G=function(e){for(var t=e.connectedEdges(function(t){return t.data("target")===e.id()}),r=e._private.scratch.breadthfirst,n=0,i=void 0,o=0;o<t.length;o++){var a=t[o],s=a.source()[0],l=s._private.scratch.breadthfirst;r.depth<=l.depth&&n<l.depth&&(n=l.depth,i=s)}return i}(Y);G&&(X.intEle=G,B.push(Y))}for(var q=0;q<B.length;q++){var U=B[q],W=U._private.scratch.breadthfirst,H=W.intEle,$=H._private.scratch.breadthfirst;y[W.depth][W.index]=null;for(var Z=$.depth+1;Z>y.length-1;)y.push([]);y[Z].push(U),W.depth=Z,W.index=y[Z].length-1}O()}var Q=0;if(t.avoidOverlap)for(var K=0;K<i.length;K++){var J=i[K],ee=J.layoutDimensions(t),te=ee.w,re=ee.h;Q=Math.max(Q,te,re)}for(var ne={},ie=function(e){if(ne[e.id()])return ne[e.id()];for(var t=e._private.scratch.breadthfirst.depth,r=e.neighborhood().nodes().not(":parent").intersection(i),n=0,o=0,a=0;a<r.length;a++){var s=r[a],l=s._private.scratch.breadthfirst,u=l.index,c=l.depth,h=y[c].length;(t>c||0===t)&&(n+=u/h,o++)}return o=Math.max(1,o),n/=o,0===o&&(n=void 0),ne[e.id()]=n,n},oe=function(e,t){return ie(e)-ie(t)},ae=0;ae<3;ae++){for(var se=0;se<y.length;se++)y[se]=y[se].sort(oe);O()}for(var le=0,ue=0;ue<y.length;ue++)le=Math.max(y[ue].length,le);for(var ce={x:l.x1+l.w/2,y:l.x1+l.h/2},he={},de=y.length-1;de>=0;de--)for(var pe=y[de],fe=0;fe<pe.length;fe++){var ge=pe[fe];he[ge.id()]=function(e){var r=e._private.scratch.breadthfirst,n=r.depth,i=r.index,o=y[n].length,a=Math.max(l.w/(o+1),Q),s=Math.max(l.h/(y.length+1),Q),u=Math.min(l.w/2/y.length,l.h/2/y.length);if(u=Math.max(u,Q),t.circle){if(t.circle){var c=u*n+u-(y.length>0&&y[0].length<=3?u/2:0),h=2*Math.PI/y[n].length*i;return 0===n&&1===y[0].length&&(c=1),{x:ce.x+c*Math.cos(h),y:ce.y+c*Math.sin(h)}}return{x:ce.x+(i+1-(o+1)/2)*a,y:(n+1)*s}}var d={x:ce.x+(i+1-(o+1)/2)*a,y:(n+1)*s};return d}(ge)}return i.layoutPositions(this,t,function(e){return he[e.id()]}),this},e.exports=n},function(e,t,r){"use strict";function n(e){this.options=i.extend({},s,e)}var i=r(1),o=r(2),a=r(0),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=n.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var l=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},c=void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep,h=c/Math.max(1,s.length-1),d=void 0,p=0,f=0;f<s.length;f++){var g=s[f],v=g.layoutDimensions(t),y=v.w,m=v.h;p=Math.max(p,y,m)}if(d=a.number(t.radius)?t.radius:s.length<=1?0:Math.min(l.h,l.w)/2-p,s.length>1&&t.avoidOverlap){p*=1.75;var b=Math.cos(h)-Math.cos(0),x=Math.sin(h)-Math.sin(0),w=Math.sqrt(p*p/(b*b+x*x));d=Math.max(w,d)}return s.layoutPositions(this,t,function(e,r){var n=t.startAngle+r*h*(i?1:-1),o=d*Math.cos(n),a=d*Math.sin(n);return{x:u.x+o,y:u.y+a}}),this},e.exports=n},function(e,t,r){"use strict";function n(e){this.options=i.extend({},a,e)}var i=r(1),o=r(2),a={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};n.prototype.run=function(){for(var e=this.options,t=e,r=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],c=0,h=0;h<a.length;h++){var d=a[h],p=void 0;p=t.concentric(d),u.push({value:p,node:d}),d._private.scratch.concentric=p}a.updateStyle();for(var f=0;f<a.length;f++){var g=a[f],v=g.layoutDimensions(t);c=Math.max(c,v.w,v.h)}u.sort(function(e,t){return t.value-e.value});for(var y=t.levelWidth(a),m=[[]],b=m[0],x=0;x<u.length;x++){var w=u[x];if(b.length>0){Math.abs(b[0].value-w.value)>=y&&(b=[],m.push(b))}b.push(w)}var E=c+t.minNodeSpacing;if(!t.avoidOverlap){var T=m.length>0&&m[0].length>1,_=Math.min(s.w,s.h)/2-E,D=_/(m.length+T?1:0);E=Math.min(E,D)}for(var C=0,N=0;N<m.length;N++){var L=m[N],P=void 0===t.sweep?2*Math.PI-2*Math.PI/L.length:t.sweep,S=L.dTheta=P/Math.max(1,L.length-1);if(L.length>1&&t.avoidOverlap){var A=Math.cos(S)-Math.cos(0),I=Math.sin(S)-Math.sin(0),M=Math.sqrt(E*E/(A*A+I*I));C=Math.max(M,C)}L.r=C,C+=E}if(t.equidistant){for(var O=0,R=0,k=0;k<m.length;k++){var B=m[k],F=B.r-R;O=Math.max(O,F)}R=0;for(var z=0;z<m.length;z++){var V=m[z];0===z&&(R=V.r),V.r=R,R+=O}}for(var j={},Y=0;Y<m.length;Y++)for(var X=m[Y],G=X.dTheta,q=X.r,U=0;U<X.length;U++){var W=X[U],H=t.startAngle+(r?1:-1)*G*U,$={x:l.x+q*Math.cos(H),y:l.y+q*Math.sin(H)};j[W.node.id()]=$}return a.layoutPositions(this,t,function(e){var t=e.id();return j[t]}),this},e.exports=n},function(e,t,r){"use strict";function n(e){this.options=o.extend({},u,e),this.options.layout=this}var i,o=r(1),a=r(2),s=r(0),l=r(5),u={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(){return 2048},nodeOverlap:4,idealEdgeLength:function(){return 32},edgeElasticity:function(){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};n.prototype.run=function(){function e(e){h.trigger({type:"message",message:e})}var t=this.options,r=t.cy,n=this,a=this.thread,u=t.weaver?t.weaver.Thread:null,h={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(e){s.string(e)&&(e={type:e});var t=function(t){return t.event===e.type},r=function(t){t.callback(e)};return this.listeners.filter(t).forEach(r),this},pass:function(e){return this.pass=e,this},run:function(e){var t=this.pass;return new l(function(r){r(e(t))})},stop:function(){return this}};a&&!a.stopped()||(a=this.thread=u?new u:h),n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),i=!0===t.debug;var d=c(r,n,t);i&&p(d),t.randomize&&f(d,r);var v=Date.now(),y=!1,m=function(e){e=e||{},y&&!e.next||!e.force&&Date.now()-v<t.animationThreshold||(y=!0,o.requestAnimationFrame(function(){g(d,r,t),!0===t.fit&&r.fit(t.padding),y=!1,e.next&&e.next()}))};a.on("message",function(e){d.layoutNodes=e.message,m()}),a.pass({layoutInfo:d,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run(function(t){var r,n=t.layoutInfo,i=t.options,o=function(e,t){a(e,t),h(e,t),d(e,t),p(e,t),f(e,t)},a=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,o=0;o<i;o++)for(var a=e.layoutNodes[e.idToIndex[n[o]]],s=o+1;s<i;s++){var u=e.layoutNodes[e.idToIndex[n[s]]];l(a,u,e,t)}},s=function(e){return-e+2*e*Math.random()},l=function(e,t,r,n){if(e.cmptId===t.cmptId||r.isCompound){var i=t.positionX-e.positionX,o=t.positionY-e.positionY;0===i&&0===o&&(i=s(1),o=s(1));var a=u(e,t,i,o);if(a>0)var l=n.nodeOverlap*a,h=Math.sqrt(i*i+o*o),d=l*i/h,p=l*o/h;else var f=c(e,i,o),g=c(t,-1*i,-1*o),v=g.x-f.x,y=g.y-f.y,m=v*v+y*y,h=Math.sqrt(m),l=(e.nodeRepulsion+t.nodeRepulsion)/m,d=l*v/h,p=l*y/h;e.isLocked||(e.offsetX-=d,e.offsetY-=p),t.isLocked||(t.offsetX+=d,t.offsetY+=p)}},u=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(n>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},c=function(e,t,r){var n=e.positionX,i=e.positionY,o=e.height||1,a=e.width||1,s=r/t,l=o/a,u={};return 0===t&&0<r?(u.x=n,u.y=i+o/2,u):0===t&&0>r?(u.x=n,u.y=i+o/2,u):0<t&&-1*l<=s&&s<=l?(u.x=n+a/2,u.y=i+a*r/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=n-a/2,u.y=i-a*r/2/t,u):0<r&&(s<=-1*l||s>=l)?(u.x=n+o*t/2/r,u.y=i+o/2,u):0>r&&(s<=-1*l||s>=l)?(u.x=n-o*t/2/r,u.y=i-o/2,u):u},h=function(e){for(var t=0;t<e.edgeSize;t++){var r=e.layoutEdges[t],n=e.idToIndex[r.sourceId],i=e.layoutNodes[n],o=e.idToIndex[r.targetId],a=e.layoutNodes[o],s=a.positionX-i.positionX,l=a.positionY-i.positionY;if(0!==s||0!==l){var u=c(i,s,l),h=c(a,-1*s,-1*l),d=h.x-u.x,p=h.y-u.y,f=Math.sqrt(d*d+p*p),g=Math.pow(r.idealLength-f,2)/r.elasticity;if(0!==f)var v=g*d/f,y=g*p/f;else var v=0,y=0;i.isLocked||(i.offsetX+=v,i.offsetY+=y),a.isLocked||(a.offsetX-=v,a.offsetY-=y)}}},d=function(e,t){for(var r=0;r<e.graphSet.length;r++){var n=e.graphSet[r],i=n.length;if(0===r)var o=e.clientHeight/2,a=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[n[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]],o=l.positionX,a=l.positionY;for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[n[u]]];if(!c.isLocked){var h=o-c.positionX,d=a-c.positionY,p=Math.sqrt(h*h+d*d);if(p>1){var f=t.gravity*h/p,g=t.gravity*d/p;c.offsetX+=f,c.offsetY+=g}}}}},p=function(e){var t=[],r=0,n=-1;for(t.push.apply(t,e.graphSet[0]),n+=e.graphSet[0].length;r<=n;){var i=t[r++],o=e.idToIndex[i],a=e.layoutNodes[o],s=a.children;if(0<s.length&&!a.isLocked){for(var l=a.offsetX,u=a.offsetY,c=0;c<s.length;c++){var h=e.layoutNodes[e.idToIndex[s[c]]];h.offsetX+=l,h.offsetY+=u,t[++n]=s[c]}a.offsetX=0,a.offsetY=0}}},f=function(e){for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t];0<r.children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0)}for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t];if(!(0<r.children.length||r.isLocked)){var n=g(r.offsetX,r.offsetY,e.temperature);r.positionX+=n.x,r.positionY+=n.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,v(r,e)}}for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t];0<r.children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},g=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else var i={x:e,y:t};return i},v=function e(t,r){var n=t.parentId;if(null!=n){var i=r.layoutNodes[r.idToIndex[n]],o=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,o=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,o=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,o=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,o=!0),o?e(i,r):void 0}},y=0;do{for(var m=0;m<i.refresh&&y<i.numIter;){var r=function(){return o(n,i),!((n.temperature=n.temperature*i.coolingFactor)<i.minTemp)}();if(!r)break;m++,y++}!0===i.animate&&e(n.layoutNodes)}while(r&&y+1<i.numIter);return function(e,t){for(var r=n.layoutNodes,i=[],o=0;o<r.length;o++){var a=r[o],s=a.cmptId;(i[s]=i[s]||[]).push(a)}for(var l=0,o=0;o<i.length;o++){var u=i[o];if(u){u.x1=1/0,u.x2=-1/0,u.y1=1/0,u.y2=-1/0;for(var c=0;c<u.length;c++){var h=u[c];u.x1=Math.min(u.x1,h.positionX-h.width/2),u.x2=Math.max(u.x2,h.positionX+h.width/2),u.y1=Math.min(u.y1,h.positionY-h.height/2),u.y2=Math.max(u.y2,h.positionY+h.height/2)}u.w=u.x2-u.x1,u.h=u.y2-u.y1,l+=u.w*u.h}}i.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var d=0,p=0,f=0,g=0,v=Math.sqrt(l)*n.clientWidth/n.clientHeight,o=0;o<i.length;o++){var u=i[o];if(u){for(var c=0;c<u.length;c++){var h=u[c];h.isLocked||(h.positionX+=d,h.positionY+=p)}d+=u.w+t.componentSpacing,f+=u.w+t.componentSpacing,g=Math.max(g,u.h),f>v&&(p+=g+t.componentSpacing,d=0,f=0,g=0)}}}(0,i),n}).then(function(e){d.layoutNodes=e.layoutNodes,a.stop(),b()});var b=function(){!0===t.animate||!1===t.animate?m({force:!0,next:function(){n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n})}}):t.eles.nodes().layoutPositions(n,t,function(e){var t=d.layoutNodes[d.idToIndex[e.data("id")]];return{x:t.positionX,y:t.positionY}})};return this},n.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},n.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:a.makeBoundingBox(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=r.eles.components(),u={},c=0;c<l.length;c++)for(var d=l[c],p=0;p<d.length;p++){var f=d[p];u[f.id()]=c}for(var c=0;c<o.nodeSize;c++){var g=i[c],v=g.layoutDimensions(r),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=u[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=v.w,y.width=v.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=s.fn(r.nodeRepulsion)?r.nodeRepulsion(g):r.nodeRepulsion,o.layoutNodes.push(y),o.idToIndex[y.id]=c}for(var m=[],b=0,x=-1,w=[],c=0;c<o.nodeSize;c++){var g=o.layoutNodes[c],E=g.parentId;null!=E?o.layoutNodes[o.idToIndex[E]].children.push(g.id):(m[++x]=g.id,w.push(g.id))}for(o.graphSet.push(w);b<=x;){var T=m[b++],_=o.idToIndex[T],f=o.layoutNodes[_],D=f.children;if(D.length>0){o.graphSet.push(D);for(var c=0;c<D.length;c++)m[++x]=D[c]}}for(var c=0;c<o.graphSet.length;c++)for(var C=o.graphSet[c],p=0;p<C.length;p++){var N=o.idToIndex[C[p]];o.indexToGraph[N]=c}for(var c=0;c<o.edgeSize;c++){var L=n[c],P={};P.id=L.data("id"),P.sourceId=L.data("source"),P.targetId=L.data("target");var S=s.fn(r.idealEdgeLength)?r.idealEdgeLength(L):r.idealEdgeLength,A=s.fn(r.edgeElasticity)?r.edgeElasticity(L):r.edgeElasticity,I=o.idToIndex[P.sourceId],M=o.idToIndex[P.targetId];if(o.indexToGraph[I]!=o.indexToGraph[M]){for(var O=h(P.sourceId,P.targetId,o),R=o.graphSet[O],k=0,y=o.layoutNodes[I];-1===R.indexOf(y.id);)y=o.layoutNodes[o.idToIndex[y.parentId]],k++;for(y=o.layoutNodes[M];-1===R.indexOf(y.id);)y=o.layoutNodes[o.idToIndex[y.parentId]],k++;S*=k*r.nestingFactor}P.idealLength=S,P.elasticity=A,o.layoutEdges.push(P)}return o},h=function(e,t,r){var n=d(e,t,0,r);return 2>n.count?0:n.graph},d=function e(t,r,n,i){var o=i.graphSet[n];if(-1<o.indexOf(t)&&-1<o.indexOf(r))return{count:2,graph:n};for(var a=0,s=0;s<o.length;s++){var l=o[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var h=i.indexToGraph[i.idToIndex[c[0]]],d=e(t,r,h,i);if(0!==d.count){if(1!==d.count)return d;if(2===++a)break}}}return{count:a,graph:n}},p=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var r=e.layoutNodes[t],n="\nindex: "+t+"\nId: "+r.id+"\nChildren: "+r.children.toString()+"\nparentId: "+r.parentId+"\npositionX: "+r.positionX+"\npositionY: "+r.positionY+"\nOffsetX: "+r.offsetX+"\nOffsetY: "+r.offsetY+"\npadLeft: "+r.padLeft+"\npadRight: "+r.padRight+"\npadTop: "+r.padTop+"\npadBottom: "+r.padBottom;console.debug(n)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var o=e.graphSet,t=0;t<o.length;t++)console.debug("Set : "+t+": "+o[t].toString());for(var n="IndexToGraph",t=0;t<e.indexToGraph.length;t++)n+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(n),n="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var a=e.layoutEdges[t];n+="\nEdge Index: "+t+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(n),n="nodeSize: "+e.nodeSize,n+="\nedgeSize: "+e.edgeSize,n+="\ntemperature: "+e.temperature,console.debug(n)}},f=function(e){for(var t=e.clientWidth,r=e.clientHeight,n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*t,i.positionY=Math.random()*r)}},g=function(e,t,r){var n=r.layout,i=r.eles.nodes(),o=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};r.boundingBox&&(i.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,r.positionX),a.x2=Math.max(a.x2,r.positionX),a.y1=Math.min(a.y1,r.positionY),a.y2=Math.max(a.y2,r.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];if(r.boundingBox){return{x:o.x1+(n.positionX-a.x1)/a.w*o.w,y:o.y1+(n.positionY-a.y1)/a.h*o.h}}return{x:n.positionX,y:n.positionY}}),!0!==e.ready&&(e.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))};e.exports=n},function(e,t,r){"use strict";function n(e){this.options=i.extend({},a,e)}var i=r(1),o=r(2),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};n.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===a.h||0===a.w)i.layoutPositions(this,t,function(){return{x:a.x1,y:a.y1}});else{var s=i.size(),l=Math.sqrt(s*a.h/a.w),u=Math.round(l),c=Math.round(a.w/a.h*l),h=function(e){if(null==e)return Math.min(u,c);Math.min(u,c)==u?u=e:c=e},d=function(e){if(null==e)return Math.max(u,c);Math.max(u,c)==u?u=e:c=e},p=t.rows,f=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=f)u=p,c=f;else if(null!=p&&null==f)u=p,c=Math.ceil(s/u);else if(null==p&&null!=f)c=f,u=Math.ceil(s/c);else if(c*u>s){var g=h(),v=d();(g-1)*v>=s?h(g-1):(v-1)*g>=s&&d(v-1)}else for(;c*u<s;){var y=h(),m=d();(m+1)*y>=s?d(m+1):h(y+1)}var b=a.w/c,x=a.h/u;if(t.condense&&(b=0,x=0),t.avoidOverlap)for(var w=0;w<i.length;w++){var E=i[w],T=E._private.position;null!=T.x&&null!=T.y||(T.x=0,T.y=0);var _=E.layoutDimensions(t),D=t.avoidOverlapPadding,C=_.w+D,N=_.h+D;b=Math.max(b,C),x=Math.max(x,N)}for(var L={},P=function(e,t){return!!L["c-"+e+"-"+t]},S=function(e,t){L["c-"+e+"-"+t]=!0},A=0,I=0,M=function(){++I>=c&&(I=0,A++)},O={},R=0;R<i.length;R++){var k=i[R],B=t.position(k);if(B&&(void 0!==B.row||void 0!==B.col)){var F={row:B.row,col:B.col};if(void 0===F.col)for(F.col=0;P(F.row,F.col);)F.col++;else if(void 0===F.row)for(F.row=0;P(F.row,F.col);)F.row++;O[k.id()]=F,S(F.row,F.col)}}i.layoutPositions(this,t,function(e){var t=void 0,r=void 0;if(e.locked()||e.isParent())return!1;var n=O[e.id()];if(n)t=n.col*b+b/2+a.x1,r=n.row*x+x/2+a.y1;else{for(;P(A,I);)M();t=I*b+b/2+a.x1,r=A*x+x/2+a.y1,S(A,I),M()}return{x:t,y:r}})}return this},e.exports=n},function(e,t,r){"use strict";e.exports=[{name:"breadthfirst",impl:r(76)},{name:"circle",impl:r(77)},{name:"concentric",impl:r(78)},{name:"cose",impl:r(79)},{name:"grid",impl:r(80)},{name:"null",impl:r(82)},{name:"preset",impl:r(83)},{name:"random",impl:r(84)}]},function(e,t,r){"use strict";function n(e){this.options=i.extend({},o,e)}var i=r(1),o={ready:function(){},stop:function(){}};n.prototype.run=function(){var e=this.options,t=e.eles,r=this;return r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},n.prototype.stop=function(){return this},e.exports=n},function(e,t,r){"use strict";function n(e){this.options=i.extend({},a,e)}var i=r(1),o=r(0),a={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};n.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions(e);var r=t.positions[e._private.data.id];return null==r?null:r}var t=this.options,r=t.eles,n=r.nodes(),i=o.fn(t.positions);return n.layoutPositions(this,t,function(t){var r=e(t);return!t.locked()&&null!=r&&r}),this},e.exports=n},function(e,t,r){"use strict";function n(e){this.options=i.extend({},a,e)}var i=r(1),o=r(2),a={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};n.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=r.nodes().not(":parent"),i=o.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,function(){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}}),this},e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(0),o=r(1),a={};a.arrowShapeWidth=.3,a.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(e,t,r,n,i,o,a){var s=i.x-r/2-a,l=i.x+r/2+a,u=i.y-r/2-a,c=i.y+r/2+a;return s<=e&&e<=l&&u<=t&&t<=c},a=function(e,t,r,n,i){return{x:(e*Math.cos(n)-t*Math.sin(n))*r+i.x,y:(e*Math.sin(n)+t*Math.cos(n))*r+i.y}},s=function(e,t,r,n){for(var i=[],o=0;o<e.length;o+=2){i.push(a(e[o],e[o+1],t,r,n))}return i},l=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n.x,n.y)}return t},u=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},c=function(a,c){i.string(c)&&(c=e[c]),e[a]=o.extend({name:a,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,r,i,o,a){var u=l(s(this.points,r+2*a,i,o));return n.pointInsidePolygonPoints(e,t,u)},roughCollide:r,draw:function(e,r,n,i){var o=s(this.points,r,n,i);t.arrowShapeImpl("polygon")(e,o)},spacing:function(){return 0},gap:u},c)};c("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,r,n,i){var o=s(this.points,r,n,i),l=this.controlPoint,u=a(l[0],l[1],r,n,i);t.arrowShapeImpl(this.name)(e,o,u)},gap:function(e){return.985*u(e)}}),c("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,r,i,o,a,u){var c=l(s(this.points,r+2*u,i,o)),h=l(s(this.pointsTee,r+2*u,i,o));return n.pointInsidePolygonPoints(e,t,c)||n.pointInsidePolygonPoints(e,t,h)},draw:function(e,r,n,i){var o=s(this.points,r,n,i),a=s(this.pointsTee,r,n,i);t.arrowShapeImpl(this.name)(e,o,a)}}),c("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var r=this.baseCrossLinePts.slice(),n=t/e;return r[3]=r[3]-n,r[5]=r[5]-n,r},collide:function(e,t,r,i,o,a,u){var c=l(s(this.points,r+2*u,i,o)),h=l(s(this.crossLinePts(r,a),r+2*u,i,o));return n.pointInsidePolygonPoints(e,t,c)||n.pointInsidePolygonPoints(e,t,h)},draw:function(e,r,n,i,o){var a=s(this.points,r,n,i),l=s(this.crossLinePts(r,o),r,n,i);t.arrowShapeImpl(this.name)(e,a,l)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.985*u(e)}}),c("circle",{radius:.15,collide:function(e,t,r,n,i,o,a){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((r+2*a)*this.radius,2)},draw:function(e,r,n,i){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(){return 1},gap:function(){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})},e.exports=a},function(e,t,r){"use strict";var n=r(4),i=r(2),o=r(1),n=r(4),a={};a.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],a=n[4],s=r.pan(),l=r.zoom();return[((e-i)/a-s.x)/l,((t-o)/a-s.y)/l]},a.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=n.getComputedStyle(e),i=function(e){return parseFloat(r.getPropertyValue(e))},o={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},s=e.clientWidth,l=e.clientHeight,u=o.left+o.right,c=o.top+o.bottom,h=a.left+a.right,d=t.width/(s+h),p=s-u,f=l-c;return this.containerBB=[t.left+o.left+a.left,t.top+o.top+a.top,p,f,d]},a.invalidateContainerClientCoordsCache=function(){this.containerBB=null},a.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]},a.findNearestElements=function(e,t,r,n){function a(e,t){if(e.isNode()){if(h)return;h=e,g.push(e)}if(e.isEdge()&&(null==t||t<w))if(c){if(c.pstyle("z-index").value===e.pstyle("z-index").value)for(var r=0;r<g.length;r++)if(g[r].isEdge()){g[r]=e,c=e,w=null!=t?t:w;break}}else g.push(e),c=e,w=null!=t?t:w}function s(r){var n=r.outerWidth()+2*b,i=r.outerHeight()+2*b,o=n/2,s=i/2,l=r.position();if(l.x-o<=e&&e<=l.x+o&&l.y-s<=t&&t<=l.y+s){if(p.nodeShapes[d.getNodeShape(r)].checkPoint(e,t,0,n,i,l.x,l.y))return a(r,0),!0}}function l(e,t,r){return o.getPrefixedProperty(e,t,r)}function u(r,n){var o,s=r._private,u=x;o=n?n+"-":"";var c=r.pstyle(o+"label").value;if("yes"===r.pstyle("text-events").strValue&&c){var h=s.rstyle,d=r.pstyle("text-border-width").pfValue,p=r.pstyle("text-background-padding").pfValue,f=l(h,"labelWidth",n)+d+2*u+2*p,g=l(h,"labelHeight",n)+d+2*u+2*p,v=l(h,"labelX",n),y=l(h,"labelY",n),m=l(s.rscratch,"labelAngle",n),b=v-f/2,w=v+f/2,E=y-g/2,T=y+g/2;if(m){var _=Math.cos(m),D=Math.sin(m),C=function(e,t){return e-=v,t-=y,{x:e*_-t*D+v,y:e*D+t*_+y}},N=C(b,E),L=C(b,T),P=C(w,E),S=C(w,T);if(i.pointInsidePolygonPoints(e,t,[N.x,N.y,P.x,P.y,S.x,S.y,L.x,L.y]))return a(r),!0}else if(i.inBoundingBox({w:f,h:g,x1:b,x2:w,y1:E,y2:T},e,t))return a(r),!0}}var c,h,d=this,p=this,f=p.getCachedZSortedEles(),g=[],v=p.cy.zoom(),y=p.cy.hasCompoundNodes(),m=(n?24:8)/v,b=(n?8:2)/v,x=(n?8:2)/v,w=1/0;r&&(f=f.interactive);for(var E=f.length-1;E>=0;E--){var T=f[E];T.isNode()?s(T)||u(T):function(r){var n,o=r._private,l=o.rscratch,u=r.pstyle("width").pfValue,c=r.pstyle("arrow-scale").value,h=u/2+m,f=h*h,v=2*h,b=o.source,x=o.target;if("segments"===l.edgeType||"straight"===l.edgeType||"haystack"===l.edgeType){for(var w=l.allpts,E=0;E+3<w.length;E+=2)if(i.inLineVicinity(e,t,w[E],w[E+1],w[E+2],w[E+3],v)&&f>(n=i.sqdistToFiniteLine(e,t,w[E],w[E+1],w[E+2],w[E+3])))return a(r,n),!0}else if("bezier"===l.edgeType||"multibezier"===l.edgeType||"self"===l.edgeType||"compound"===l.edgeType)for(var w=l.allpts,E=0;E+5<l.allpts.length;E+=4)if(i.inBezierVicinity(e,t,w[E],w[E+1],w[E+2],w[E+3],w[E+4],w[E+5],v)&&f>(n=i.sqdistToQuadraticBezier(e,t,w[E],w[E+1],w[E+2],w[E+3],w[E+4],w[E+5])))return a(r,n),!0;for(var b=b||o.source,x=x||o.target,T=d.getArrowWidth(u,c),_=[{name:"source",x:l.arrowStartX,y:l.arrowStartY,angle:l.srcArrowAngle},{name:"target",x:l.arrowEndX,y:l.arrowEndY,angle:l.tgtArrowAngle},{name:"mid-source",x:l.midX,y:l.midY,angle:l.midsrcArrowAngle},{name:"mid-target",x:l.midX,y:l.midY,angle:l.midtgtArrowAngle}],E=0;E<_.length;E++){var D=_[E],C=p.arrowShapes[r.pstyle(D.name+"-arrow-shape").value],N=r.pstyle("width").pfValue;if(C.roughCollide(e,t,T,D.angle,{x:D.x,y:D.y},N,m)&&C.collide(e,t,T,D.angle,{x:D.x,y:D.y},N,m))return a(r),!0}y&&g.length>0&&(s(b),s(x))}(T)||u(T)||u(T,"source")||u(T,"target")}return g},a.getAllInBox=function(e,t,r,n){var o=this.getCachedZSortedEles().interactive,a=[],s=Math.min(e,r),l=Math.max(e,r),u=Math.min(t,n),c=Math.max(t,n);e=s,r=l,t=u,n=c;for(var h=i.makeBoundingBox({x1:e,y1:t,x2:r,y2:n}),d=0;d<o.length;d++){var p=o[d];if(p.isNode()){var f=p,g=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});i.boundingBoxesIntersect(h,g)&&!i.boundingBoxInBoundingBox(g,h)&&a.push(f)}else{var v=p,y=v._private,m=y.rscratch;if(null!=m.startX&&null!=m.startY&&!i.inBoundingBox(h,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!i.inBoundingBox(h,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var b=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,w=0;w<b.length;w++)if(!i.pointInBoundingBox(h,b[w])){x=!1;break}x&&a.push(v)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||a.push(v)}}return a},e.exports=a},function(e,t,r){"use strict";var n=r(2),i={};i.calculateArrowAngles=function(e){var t,r,i,o,a,s,l,u,c=e._private.rscratch,h="haystack"===c.edgeType,d="bezier"===c.edgeType,p="multibezier"===c.edgeType,f="segments"===c.edgeType,g="compound"===c.edgeType,v="self"===c.edgeType;if(h?(i=c.haystackPts[0],o=c.haystackPts[1],a=c.haystackPts[2],s=c.haystackPts[3]):(i=c.arrowStartX,o=c.arrowStartY,a=c.arrowEndX,s=c.arrowEndY),l=c.midX,u=c.midY,f)t=i-c.segpts[0],r=o-c.segpts[1];else if(p||g||v||d){var y=c.allpts,m=n.qbezierAt(y[0],y[2],y[4],.1),b=n.qbezierAt(y[1],y[3],y[5],.1);t=i-m,r=o-b}else t=i-l,r=o-u;c.srcArrowAngle=n.getAngleFromDisp(t,r);var l=c.midX,u=c.midY;if(h&&(l=(i+a)/2,u=(o+s)/2),t=a-i,r=s-o,f){var y=c.allpts;if(y.length/2%2==0){var x=y.length/2,w=x-2;t=y[x]-y[w],r=y[x+1]-y[w+1]}else{var x=y.length/2-1,w=x-2,E=x+2;t=y[x]-y[w],r=y[x+1]-y[w+1]}}else if(p||g||v){var T,_,D,C,y=c.allpts,N=c.ctrlpts;if(N.length/2%2==0){var L=y.length/2-1,P=L+2,S=P+2;T=n.qbezierAt(y[L],y[P],y[S],0),_=n.qbezierAt(y[L+1],y[P+1],y[S+1],0),D=n.qbezierAt(y[L],y[P],y[S],1e-4),C=n.qbezierAt(y[L+1],y[P+1],y[S+1],1e-4)}else{var P=y.length/2-1,L=P-2,S=P+2;T=n.qbezierAt(y[L],y[P],y[S],.4999),_=n.qbezierAt(y[L+1],y[P+1],y[S+1],.4999),D=n.qbezierAt(y[L],y[P],y[S],.5),C=n.qbezierAt(y[L+1],y[P+1],y[S+1],.5)}t=D-T,r=C-_}if(c.midtgtArrowAngle=n.getAngleFromDisp(t,r),c.midDispX=t,c.midDispY=r,t*=-1,r*=-1,f){var y=c.allpts;if(y.length/2%2==0);else{var x=y.length/2-1,E=x+2;t=-(y[E]-y[x]),r=-(y[E+1]-y[x+1])}}if(c.midsrcArrowAngle=n.getAngleFromDisp(t,r),f)t=a-c.segpts[c.segpts.length-2],r=s-c.segpts[c.segpts.length-1];else if(p||g||v||d){var y=c.allpts,A=y.length,m=n.qbezierAt(y[A-6],y[A-4],y[A-2],.9),b=n.qbezierAt(y[A-5],y[A-3],y[A-1],.9);t=a-m,r=s-b}else t=a-l,r=s-u;c.tgtArrowAngle=n.getAngleFromDisp(t,r)},i.getArrowWidth=i.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(13.37*e,.9),29)*t,r[e+", "+t]=n,n)},e.exports=i},function(e,t,r){"use strict";function n(e){var t=[];if(null!=e){for(var r=0;r<e.length;r+=2){t.push({x:e[r],y:e[r+1]})}return t}}var i=r(2),o=r(0),a={};a.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,r=this,n=r.cy,a=n.hasCompoundNodes(),s={},l=[],u=[],c=0;c<e.length;c++){var h=e[c],d=h._private,p=d.data,f=h.pstyle("curve-style").value,g="unbundled-bezier"===f||"segments"===f,v="unbundled-bezier"===f||"bezier"===f;if("none"!==h.pstyle("display").value)if("haystack"!==f){var y=p.source,m=p.target;t=y>m?m+"$-$"+y:y+"$-$"+m,g&&(t="unbundled$-$"+p.id);var b=s[t];null==b&&(b=s[t]=[],l.push(t)),b.push(h),g&&(b.hasUnbundled=!0),v&&(b.hasBezier=!0)}else u.push(h)}for(var x,w,E,T,_,D,C,N,L,P,S,A,I=0;I<l.length;I++){t=l[I];var M=s[t];if(M.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),x=M[0]._private.source,w=M[0]._private.target,!M.hasUnbundled&&x.id()>w.id()){var O=x;x=w,w=O}E=x.position(),T=w.position(),_=x.outerWidth(),D=x.outerHeight(),C=w.outerWidth(),N=w.outerHeight(),L=r.nodeShapes[this.getNodeShape(x)],P=r.nodeShapes[this.getNodeShape(w)],A=!1;for(var h,R,k,B={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},F=E.x,z=E.y,V=_,j=D,Y=T.x,X=T.y,G=C,q=N,U=M.length,c=0;c<M.length;c++){h=M[c],R=h._private,k=R.rscratch;var W=k.lastEdgeIndex,H=c,$=k.lastNumEdges,f=h.pstyle("curve-style").value,g="unbundled-bezier"===f||"segments"===f,Z=x.id()!==h.source().id(),Q=h.pstyle("control-point-distances"),K=h.pstyle("loop-direction").pfValue,J=h.pstyle("loop-sweep").pfValue,ee=h.pstyle("control-point-weights"),te=Q&&ee?Math.min(Q.value.length,ee.value.length):1,re=h.pstyle("control-point-step-size").pfValue,ne=Q?Q.pfValue[0]:void 0,ie=ee.value[0],oe=h.pstyle("edge-distances").value,ae=h.pstyle("segment-weights"),se=h.pstyle("segment-distances"),le=Math.min(ae.pfValue.length,se.pfValue.length),ue=h.pstyle("source-endpoint").value,ce=h.pstyle("target-endpoint").value,he=h.pstyle("source-arrow-shape").value,de=h.pstyle("target-arrow-shape").value,pe=h.pstyle("arrow-scale").value,fe=h.pstyle("width").pfValue,ge=k.lastSrcCtlPtX,ve=k.lastSrcCtlPtY,ye=k.lastSrcCtlPtW,me=k.lastSrcCtlPtH,be=k.lastTgtCtlPtX,xe=k.lastTgtCtlPtY,we=k.lastTgtCtlPtW,Ee=k.lastTgtCtlPtH,Te=k.lastCurveStyle,_e=f,De=k.lastCtrlptDists,Ce=Q?Q.strValue:null,Ne=k.lastCtrlptWs,Le=ee.strValue,Pe=k.lastSegmentWs,Se=ae.strValue,Ae=k.lastSegmentDs,Ie=se.strValue,Me=k.lastStepSize,Oe=re,Re=k.lastLoopDir,ke=K,Be=k.lastLoopSwp,Fe=J,ze=k.lastEdgeDistances,Ve=oe,je=k.lastSrcEndpt,Ye=ue,Xe=k.lastTgtEndpt,Ge=ce,qe=k.lastSrcArr,Ue=he,We=k.lastTgtArr,He=de,$e=k.lastLineW,Ze=fe,Qe=k.lastArrScl,Ke=pe;k.badBezier=!!A;var Je;if(ge===F&&ve===z&&ye===V&&me===j&&be===Y&&xe===X&&we===G&&Ee===q&&Te===_e&&De===Ce&&Ne===Le&&Pe===Se&&Ae===Ie&&Me===Oe&&Re===ke&&Be===Fe&&ze===Ve&&je===Ye&&Xe===Ge&&qe===Ue&&We===He&&$e===Ze&&Qe===Ke&&(W===H&&$===U||g)?Je=!0:(Je=!1,k.lastSrcCtlPtX=F,k.lastSrcCtlPtY=z,k.lastSrcCtlPtW=V,k.lastSrcCtlPtH=j,k.lastTgtCtlPtX=Y,k.lastTgtCtlPtY=X,k.lastTgtCtlPtW=G,k.lastTgtCtlPtH=q,k.lastEdgeIndex=H,k.lastNumEdges=U,k.lastCurveStyle=_e,k.lastCtrlptDists=Ce,k.lastCtrlptWs=Le,k.lastSegmentDs=Ie,k.lastSegmentWs=Se,k.lastStepSize=Oe,k.lastLoopDir=ke,k.lastLoopSwp=Fe,k.lastEdgeDistances=Ve,k.lastSrcEndpt=Ye,k.lastTgtEndpt=Ge,k.lastSrcArr=Ue,k.lastTgtArr=He,k.lastLineW=Ze,k.lastArrScl=Ke),!Je){if(!M.calculatedIntersection&&x!==w&&(M.hasBezier||M.hasUnbundled)){M.calculatedIntersection=!0;var et=L.intersectLine(E.x,E.y,_,D,T.x,T.y,0);M.srcIntn=et;var tt=P.intersectLine(T.x,T.y,C,N,E.x,E.y,0);M.tgtIntn=tt;var rt={x1:et[0],x2:tt[0],y1:et[1],y2:tt[1]},nt={x1:E.x,x2:T.x,y1:E.y,y2:T.y},it=tt[1]-et[1],ot=tt[0]-et[0],at=Math.sqrt(ot*ot+it*it),st={x:ot,y:it},lt={x:st.x/at,y:st.y/at};S={x:-lt.y,y:lt.x},P.checkPoint(et[0],et[1],0,C,N,T.x,T.y)&&L.checkPoint(tt[0],tt[1],0,_,D,E.x,E.y)&&(S={},A=!0)}if(Z?(k.srcIntn=M.tgtIntn,k.tgtIntn=M.srcIntn):(k.srcIntn=M.srcIntn,k.tgtIntn=M.tgtIntn),x===w){k.edgeType="self";var ut=c,ct=re;g&&(ut=0,ct=ne);var ht=K-Math.PI/2,dt=ht-J/2,pt=ht+J/2,ft=String(K+"_"+J);ut=void 0===B[ft]?B[ft]=0:++B[ft],k.ctrlpts=[E.x+1.4*Math.cos(dt)*ct*(ut/3+1),E.y+1.4*Math.sin(dt)*ct*(ut/3+1),E.x+1.4*Math.cos(pt)*ct*(ut/3+1),E.y+1.4*Math.sin(pt)*ct*(ut/3+1)]}else if(a&&(x.isParent()||x.isChild()||w.isParent()||w.isChild())&&(x.parents().anySame(w)||w.parents().anySame(x))){k.edgeType="compound",k.badBezier=!1;var ut=c,ct=re;g&&(ut=0,ct=ne);var gt={x:E.x-_/2,y:E.y-D/2},vt={x:T.x-C/2,y:T.y-N/2},yt={x:Math.min(gt.x,vt.x),y:Math.min(gt.y,vt.y)},mt=Math.max(.5,Math.log(.01*_)),bt=Math.max(.5,Math.log(.01*C));k.ctrlpts=[yt.x,yt.y-(1+Math.pow(50,1.12)/100)*ct*(ut/3+1)*mt,yt.x-(1+Math.pow(50,1.12)/100)*ct*(ut/3+1)*bt,yt.y]}else if("segments"===f){k.edgeType="segments",k.segpts=[];for(var xt=0;xt<le;xt++){var wt=ae.pfValue[xt],Et=se.pfValue[xt],Tt=1-wt,_t=wt,Dt="node-position"===oe?nt:rt,Ct={x:Dt.x1*Tt+Dt.x2*_t,y:Dt.y1*Tt+Dt.y2*_t};k.segpts.push(Ct.x+S.x*Et,Ct.y+S.y*Et)}}else if(M.length%2!=1||c!==Math.floor(M.length/2)||g){var Nt=g;k.edgeType=Nt?"multibezier":"bezier",k.ctrlpts=[];for(var Lt=0;Lt<te;Lt++){var Pt,St=(.5-M.length/2+c)*re,At=i.signum(St);Nt&&(ne=Q?Q.pfValue[Lt]:re,ie=ee.value[Lt]),Pt=g?ne:void 0!==ne?At*ne:void 0;var It=void 0!==Pt?Pt:St,Tt=1-ie,_t=ie;if(Z){var O=Tt;Tt=_t,_t=O}var Dt="node-position"===oe?nt:rt,Ct={x:Dt.x1*Tt+Dt.x2*_t,y:Dt.y1*Tt+Dt.y2*_t};k.ctrlpts.push(Ct.x+S.x*It,Ct.y+S.y*It)}}else k.edgeType="straight";this.findEndpoints(h);var Mt=!o.number(k.startX)||!o.number(k.startY),Ot=!o.number(k.arrowStartX)||!o.number(k.arrowStartY),Rt=!o.number(k.endX)||!o.number(k.endY),kt=!o.number(k.arrowEndX)||!o.number(k.arrowEndY),Bt=this.getArrowWidth(h.pstyle("width").pfValue,h.pstyle("arrow-scale").value)*this.arrowShapeWidth,Ft=3*Bt;if("bezier"===k.edgeType){var zt=i.dist({x:k.ctrlpts[0],y:k.ctrlpts[1]},{x:k.startX,y:k.startY}),Vt=zt<Ft,jt=i.dist({x:k.ctrlpts[0],y:k.ctrlpts[1]},{x:k.endX,y:k.endY}),Yt=jt<Ft,Xt=!1;if(Mt||Ot||Vt){Xt=!0;var Gt={x:k.ctrlpts[0]-E.x,y:k.ctrlpts[1]-E.y},qt=Math.sqrt(Gt.x*Gt.x+Gt.y*Gt.y),Ut={x:Gt.x/qt,y:Gt.y/qt},Wt=Math.max(_,D),Ht={x:k.ctrlpts[0]+2*Ut.x*Wt,y:k.ctrlpts[1]+2*Ut.y*Wt},$t=L.intersectLine(E.x,E.y,_,D,Ht.x,Ht.y,0);Vt?(k.ctrlpts[0]=k.ctrlpts[0]+Ut.x*(Ft-zt),k.ctrlpts[1]=k.ctrlpts[1]+Ut.y*(Ft-zt)):(k.ctrlpts[0]=$t[0]+Ut.x*Ft,k.ctrlpts[1]=$t[1]+Ut.y*Ft)}if(Rt||kt||Yt){Xt=!0;var Gt={x:k.ctrlpts[0]-T.x,y:k.ctrlpts[1]-T.y},qt=Math.sqrt(Gt.x*Gt.x+Gt.y*Gt.y),Ut={x:Gt.x/qt,y:Gt.y/qt},Wt=Math.max(_,D),Ht={x:k.ctrlpts[0]+2*Ut.x*Wt,y:k.ctrlpts[1]+2*Ut.y*Wt},Zt=P.intersectLine(T.x,T.y,C,N,Ht.x,Ht.y,0);Yt?(k.ctrlpts[0]=k.ctrlpts[0]+Ut.x*(Ft-jt),k.ctrlpts[1]=k.ctrlpts[1]+Ut.y*(Ft-jt)):(k.ctrlpts[0]=Zt[0]+Ut.x*Ft,k.ctrlpts[1]=Zt[1]+Ut.y*Ft)}Xt&&this.findEndpoints(h)}if("multibezier"===k.edgeType||"bezier"===k.edgeType||"self"===k.edgeType||"compound"===k.edgeType){k.allpts=[],k.allpts.push(k.startX,k.startY);for(var Lt=0;Lt+1<k.ctrlpts.length;Lt+=2)k.allpts.push(k.ctrlpts[Lt],k.ctrlpts[Lt+1]),Lt+3<k.ctrlpts.length&&k.allpts.push((k.ctrlpts[Lt]+k.ctrlpts[Lt+2])/2,(k.ctrlpts[Lt+1]+k.ctrlpts[Lt+3])/2);k.allpts.push(k.endX,k.endY);var Qt,Kt;k.ctrlpts.length/2%2==0?(Qt=k.allpts.length/2-1,k.midX=k.allpts[Qt],k.midY=k.allpts[Qt+1]):(Qt=k.allpts.length/2-3,Kt=.5,k.midX=i.qbezierAt(k.allpts[Qt],k.allpts[Qt+2],k.allpts[Qt+4],Kt),k.midY=i.qbezierAt(k.allpts[Qt+1],k.allpts[Qt+3],k.allpts[Qt+5],Kt))}else if("straight"===k.edgeType)k.allpts=[k.startX,k.startY,k.endX,k.endY],k.midX=(k.startX+k.endX+k.arrowStartX+k.arrowEndX)/4,k.midY=(k.startY+k.endY+k.arrowStartY+k.arrowEndY)/4;else if("segments"===k.edgeType)if(k.allpts=[],k.allpts.push(k.startX,k.startY),k.allpts.push.apply(k.allpts,k.segpts),k.allpts.push(k.endX,k.endY),k.segpts.length%4==0){var Jt=k.segpts.length/2,er=Jt-2;k.midX=(k.segpts[er]+k.segpts[Jt])/2,k.midY=(k.segpts[er+1]+k.segpts[Jt+1])/2}else{var er=k.segpts.length/2-1;k.midX=k.segpts[er],k.midY=k.segpts[er+1]}this.storeEdgeProjections(h),this.calculateArrowAngles(h)}this.recalculateEdgeLabelProjections(h),this.calculateLabelAngles(h)}}for(var c=0;c<u.length;c++){var h=u[c],d=h._private,tr=d.rscratch,k=tr;if(!tr.haystack){var rr=2*Math.random()*Math.PI;tr.source={x:Math.cos(rr),y:Math.sin(rr)};var rr=2*Math.random()*Math.PI;tr.target={x:Math.cos(rr),y:Math.sin(rr)}}var x=d.source,w=d.target,E=x.position(),T=w.position(),_=x.width(),C=w.width(),D=x.height(),N=w.height(),Wt=h.pstyle("haystack-radius").value,nr=Wt/2;k.haystackPts=k.allpts=[k.source.x*_*nr+E.x,k.source.y*D*nr+E.y,k.target.x*C*nr+T.x,k.target.y*N*nr+T.y],k.midX=(k.allpts[0]+k.allpts[2])/2,k.midY=(k.allpts[1]+k.allpts[3])/2,tr.edgeType=tr.lastCurveStyle="haystack",tr.haystack=!0,this.storeEdgeProjections(h),this.calculateArrowAngles(h),this.recalculateEdgeLabelProjections(h),this.calculateLabelAngles(h)}}},a.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return n(t.segpts)},a.getControlPoints=function(e){var t=e[0]._private.rscratch,r=t.edgeType;if("bezier"===r||"multibezier"===r)return n(t.ctrlpts)},a.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return{x:t.midX,y:t.midY}},e.exports=a},function(e,t,r){"use strict";var n=r(2),i=r(0),o={};o.manualEndptToPx=function(e,t){var r=this,n=e.position(),i=e.outerWidth(),o=e.outerHeight();if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*i),"%"===t.units[1]&&(a[1]=a[1]*o),a[0]+=n.x,a[1]+=n.y,a}var s=t.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(i,o),u=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,o,u[0],u[1],0)},o.findEndpoints=function(e){var t=this,r=void 0,o=e.source()[0],a=e.target()[0],s=o.position(),l=a.position(),u=e.pstyle("target-arrow-shape").value,c=e.pstyle("source-arrow-shape").value,h=e.pstyle("target-distance-from-node").pfValue,d=e.pstyle("source-distance-from-node").pfValue,p=e._private.rscratch,f=p.edgeType,g="self"===f||"compound"===f,v="bezier"===f||"multibezier"===f||g,y="bezier"!==f,m="straight"===f||"segments"===f,b="segments"===f,x=v||y||m,w=e.pstyle("source-endpoint"),E=g?"outside-to-node":w.value,T=e.pstyle("target-endpoint"),_=g?"outside-to-node":T.value;p.srcManEndpt=w,p.tgtManEndpt=T;var D=void 0,C=void 0,N=void 0,L=void 0;if(v){var P=[p.ctrlpts[0],p.ctrlpts[1]];D=y?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:P,C=P}else if(m){var S=b?p.segpts.slice(0,2):[l.x,l.y],A=b?p.segpts.slice(p.segpts.length-2):[s.x,s.y];D=A,C=S}"inside-to-node"===_?r=[l.x,l.y]:T.units?r=this.manualEndptToPx(a,T):"outside-to-line"===_?r=p.tgtIntn:("outside-to-node"===_?N=D:"outside-to-line"===_&&(N=[s.x,s.y]),r=t.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),N[0],N[1],0));var I=n.shortenIntersection(r,D,t.arrowShapes[u].spacing(e)+h),M=n.shortenIntersection(r,D,t.arrowShapes[u].gap(e)+h);p.endX=M[0],p.endY=M[1],p.arrowEndX=I[0],p.arrowEndY=I[1],"inside-to-node"===E?r=[s.x,s.y]:w.units?r=this.manualEndptToPx(o,w):"outside-to-line"===E?r=p.srcIntn:("outside-to-node"===E?L=C:"outside-to-line"===E&&(L=[l.x,l.y]),r=t.nodeShapes[this.getNodeShape(o)].intersectLine(s.x,s.y,o.outerWidth(),o.outerHeight(),L[0],L[1],0));var O=n.shortenIntersection(r,C,t.arrowShapes[c].spacing(e)+d),R=n.shortenIntersection(r,C,t.arrowShapes[c].gap(e)+d);p.startX=R[0],p.startY=R[1],p.arrowStartX=O[0],p.arrowStartY=O[1],x&&(p.badLine=!(i.number(p.startX)&&i.number(p.startY)&&i.number(p.endX)&&i.number(p.endY)))},o.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},o.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},e.exports=o},function(e,t,r){"use strict";function n(e,t,r){for(var n=function(e,t,r,n){return i.qbezierAt(e,t,r,n)},o=t._private,a=o.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var l=e.bezierProjPcts[s];a.push({x:n(r[0],r[2],r[4],l),y:n(r[1],r[3],r[5],l)})}}var i=r(2),o={};o.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,i=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var o=(t.rstyle.bezierPts=[],0);o+5<r.allpts.length;o+=4)n(this,e,r.allpts.slice(o,o+6));else if("segments"===i)for(var a=t.rstyle.linePts=[],o=0;o+1<r.allpts.length;o+=2)a.push({x:r.allpts[o],y:r.allpts[o+1]});else if("haystack"===i){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},o.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},e.exports=o},function(e,t,r){"use strict";var n=r(1),i={};[r(86),r(87),r(88),r(89),r(90),r(92),r(93),r(94),r(95)].forEach(function(e){n.extend(i,e)}),e.exports=i},function(e,t,r){"use strict";var n=r(2),i=r(0),o=r(1),a={};a.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!i.emptyString(t)){var r,n,o=e._private,a=e.width(),s=e.height(),l=e.padding(),u=e.position(),c=e.pstyle("text-halign").strValue,h=e.pstyle("text-valign").strValue,d=o.rscratch,p=o.rstyle;switch(c){case"left":r=u.x-a/2-l;break;case"right":r=u.x+a/2+l;break;default:r=u.x}switch(h){case"top":n=u.y-s/2-l;break;case"bottom":n=u.y+s/2+l;break;default:n=u.y}d.labelX=r,d.labelY=n,p.labelX=r,p.labelY=n,this.applyLabelDimensions(e)}},a.recalculateEdgeLabelProjections=function(e){var t,r=e._private,i=r.rscratch,a=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:i.midX,y:i.midY};var l=function(e,t,n){o.setPrefixedProperty(r.rscratch,e,t,n),o.setPrefixedProperty(r.rstyle,e,t,n)};l("labelX",null,t.x),l("labelY",null,t.y);var u=function e(){function t(e,t,r,i,o){var a=n.dist(t,r),s=e.segments[e.segments.length-1];e.segments.push({p0:t,p1:r,t0:i,t1:o,startDist:s?s.startDist+s.length:0,length:a}),e.length+=a}if(e.cache)return e.cache;for(var o=[],s=0;s+5<i.allpts.length;s+=4){o.push({p0:{x:i.allpts[s],y:i.allpts[s+1]},p1:{x:i.allpts[s+2],y:i.allpts[s+3]},p2:{x:i.allpts[s+4],y:i.allpts[s+5]},startDist:0,length:0,segments:[]})}for(var l=r.rstyle.bezierPts,u=a.bezierProjPcts.length,s=0;s<o.length;s++){var c=o[s],h=o[s-1];h&&(c.startDist=h.startDist+h.length),t(c,c.p0,l[s*u],0,a.bezierProjPcts[0]);for(var d=0;d<u-1;d++)t(c,l[s*u+d],l[s*u+d+1],a.bezierProjPcts[d],a.bezierProjPcts[d+1]);t(c,l[s*u+u-1],c.p2,a.bezierProjPcts[u-1],1)}return e.cache=o},c=function(r){var o,a="source"===r;if(s[r]){var c=e.pstyle(r+"-text-offset").pfValue,h=function(e,t){var r=t.x-e.x,n=t.y-e.y;return Math.atan(n/r)};switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,p=u(),f=0,g=0,v=0;v<p.length;v++){for(var y=p[a?v:p.length-1-v],m=0;m<y.segments.length;m++){var b=y.segments[a?m:y.segments.length-1-m],x=v===p.length-1&&m===y.segments.length-1;if(f=g,(g+=b.length)>=c||x){d={cp:y,segment:b};break}}if(d)break}var y=d.cp,b=d.segment,w=(c-f)/b.length,E=b.t1-b.t0,T=a?b.t0+E*w:b.t1-E*w;T=n.bound(0,T,1),t=n.qbezierPtAt(y.p0,y.p1,y.p2,T),o=function(e,t,r,i){var o=n.bound(0,i-.001,1),a=n.bound(0,i+.001,1),s=n.qbezierPtAt(e,t,r,o),l=n.qbezierPtAt(e,t,r,a);return h(s,l)}(y.p0,y.p1,y.p2,T);break;case"straight":case"segments":case"haystack":for(var _,D,C,N,L=0,P=i.allpts.length,v=0;v+3<P&&(a?(C={x:i.allpts[v],y:i.allpts[v+1]},N={x:i.allpts[v+2],y:i.allpts[v+3]}):(C={x:i.allpts[P-2-v],y:i.allpts[P-1-v]},N={x:i.allpts[P-4-v],y:i.allpts[P-3-v]}),_=n.dist(C,N),D=L,!((L+=_)>=c));v+=2);var S=c-D,T=S/_;T=n.bound(0,T,1),t=n.lineAt(C,N,T),o=h(C,N)}l("labelX",r,t.x),l("labelY",r,t.y),l("labelAutoAngle",r,o)}};c("source"),c("target"),this.applyLabelDimensions(e)}},a.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},a.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,n);o.setPrefixedProperty(r.rstyle,"labelWidth",t,i.width),o.setPrefixedProperty(r.rscratch,"labelWidth",t,i.width),o.setPrefixedProperty(r.rstyle,"labelHeight",t,i.height),o.setPrefixedProperty(r.rscratch,"labelHeight",t,i.height)},a.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,s=function(e,n){return n?(o.setPrefixedProperty(r.rscratch,e,t,n),n):o.getPrefixedProperty(r.rscratch,e,t)};"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if("wrap"===l){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c=i.split("\n"),h=e.pstyle("text-max-width").pfValue,d=[],p=0;p<c.length;p++){var f=c[p];if(this.calculateLabelDimensions(e,f,"line="+f).width>h){for(var g=f.split(/\s+/),v="",y=0;y<g.length;y++){var m=g[y],b=0===v.length?m:v+" "+m;this.calculateLabelDimensions(e,b,"testLine="+b).width<=h?v+=m+" ":(d.push(v),v=m+" ")}v.match(/^\s+$/)||d.push(v)}else d.push(f)}s("labelWrapCachedLines",d),i=s("labelWrapCachedText",d.join("\n")),s("labelWrapKey",u)}else if("ellipsis"===l){for(var h=e.pstyle("text-max-width").pfValue,x="",w=!1,E=0;E<i.length;E++){var T=this.calculateLabelDimensions(e,x+i[E]+"…").width;if(T>h)break;x+=i[E],E===i.length-1&&(w=!0)}return w||(x+="…"),x}return i},a.calculateLabelDimensions=function(e,t,r){var n=this,i=e._private.labelStyleKey+"$@$"+t;r&&(i+="$@$"+r);var o=n.labelDimCache||(n.labelDimCache={});if(o[i])return o[i];var a=e.pstyle("font-style").strValue,s=1*e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcDiv;c||(c=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(c));var h=c.style;return h.fontFamily=l,h.fontStyle=a,h.fontSize=s,h.fontWeight=u,h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none",h.padding="0",h.lineHeight="1",h.whiteSpace="wrap"===e.pstyle("text-wrap").value?"pre":"normal",c.textContent=t,o[i]={width:Math.ceil(c.clientWidth/1),height:Math.ceil(c.clientHeight/1)}},a.calculateLabelAngles=function(e){var t=e._private,r=t.rscratch,n=e.isEdge(),i=e.pstyle("text-rotation"),o=i.strValue;"none"===o?r.labelAngle=r.sourceLabelAngle=r.targetLabelAngle=0:n&&"autorotate"===o?(r.labelAngle=Math.atan(r.midDispY/r.midDispX),r.sourceLabelAngle=r.sourceLabelAutoAngle,r.targetLabelAngle=r.targetLabelAutoAngle):r.labelAngle=r.sourceLabelAngle=r.targetLabelAngle="autorotate"===o?0:i.pfValue},e.exports=a},function(e){"use strict";var t={};t.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(e.isParent())return"rectangle"===r||"roundrectangle"===r||"cutrectangle"===r||"barrel"===r?r:"rectangle";if("polygon"===r){return t.nodeShapes.makePolygon(e.pstyle("shape-polygon-points").value).name}return r},e.exports=t},function(e){"use strict";var t={};t.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(e,r,n){if(t.merge(e),!0===n||void 0===n)for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.rstyle;s.clean=!1,a.bbCache=null;var l=s.dirtyEvents=s.dirtyEvents||{length:0};l[r.type]||(l[r.type]=!0,l.length++)}};r.binder(e).on("position.* style.* free.* bounds.*","node",function(e){var t=e.target;n(t,e),n(t.connectedEdges(),e)}).on("add.*","node",function(e){n(e.target,e)}).on("background.*","node",function(e){n(e.target,e,!1)}).on("add.* style.*","edge",function(e){var t=e.target;n(t,e),n(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.target,r=t.parallelEdges(),i=0;i<r.length;i++){var o=r[i];o.removed()||n(o,e)}}).on("dirty.*","node",function(e){n(e.target,e)}),r.beforeRender(function(n){if(n){var i=r.onUpdateEleCalcsFns;if(i)for(var o=0;o<i.length;o++){var a=i[o];a(n,t)}r.recalculateRenderedStyle(t,!1);for(var o=0;o<t.length;o++)t[o]._private.rstyle.dirtyEvents=null;t=e.collection()}},r.beforeRenderPriorities.eleCalcs)},t.onUpdateEleCalcs=function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},t.recalculateRenderedStyle=function(e,t){var r=[],n=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.rstyle;t&&s.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===a.group?n.push(o):r.push(o),s.clean=!0)}for(var i=0;i<n.length;i++){var o=n[i],a=o._private,s=a.rstyle,l=o.position();this.recalculateNodeLabelProjection(o),s.nodeX=l.x,s.nodeY=l.y,s.nodeW=o.pstyle("width").pfValue,s.nodeH=o.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var i=0;i<r.length;i++){var o=r[i],a=o._private,s=a.rstyle,u=a.rscratch;this.recalculateEdgeLabelProjections(o),s.srcX=u.arrowStartX,s.srcY=u.arrowStartY,s.tgtX=u.arrowEndX,s.tgtY=u.arrowEndY,s.midX=u.midX,s.midY=u.midY,s.labelAngle=u.labelAngle,s.sourceLabelAngle=u.sourceLabelAngle,s.targetLabelAngle=u.targetLabelAngle}}},e.exports=t},function(e,t,r){"use strict";var n=r(14),i={};i.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],i=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):i.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}},i.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},i.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(n),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},e.exports=i},function(e){"use strict";var t={};t.getCachedImage=function(e,t,r){var n=this,i=n.imageCache=n.imageCache||{},o=i[e];if(o)return o.image.complete||o.image.addEventListener("load",r),o.image;o=i[e]=i[e]||{};var a=o.image=new Image;a.addEventListener("load",r),a.addEventListener("error",function(){a.error=!0});return"data:"===e.substring(0,"data:".length).toLowerCase()||(a.crossOrigin=t),a.src=e,a},e.exports=t},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(4),a=function(e){this.init(e)},s=a,l=s.prototype;l.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],l.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container();if(o){var n=o.document,a=n.head,s="__________cytoscape_container",l=null!=n.getElementById("__________cytoscape_stylesheet");if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=n.createElement("style");u.id="__________cytoscape_stylesheet",u.innerHTML="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}"static"===o.getComputedStyle(r).getPropertyValue("position")&&i.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},l.notify=function(e){var t,r=this;if(!this.destroyed){t=n.array(e.type)?e.type:[e.type];for(var i={},o=0;o<t.length;o++){i[t[o]]=!0}if(i.init)return void r.load();if(i.destroy)return void r.destroy();(i.add||i.remove||i.load||i.zorder)&&r.invalidateCachedZSortedEles(),i.viewport&&r.redrawHint("select",!0),(i.load||i.resize)&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},l.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},[r(85),r(91),r(96),r(98),r(99),r(100)].forEach(function(e){i.extend(l,e)}),e.exports=s},function(e,t,r){"use strict";var n=r(0),i=r(1),o=r(2),a=(r(15),{});a.registerBinding=function(e){var t=Array.prototype.slice.apply(arguments,[1]),r=this.binder(e);return r.on.apply(r,t)},a.binder=function(e){var t=this,r=e===window||e===document||e===document.body||n.domElement(e);if(null==t.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(e){}t.supportsPassiveEvents=i}var a=function(n,i,o){var a=Array.prototype.slice.call(arguments);return r&&t.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),t.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},a.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},a.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},a.load=function(){var e=this,t=function(t,r,n,o){null==t&&(t=e.cy);for(var a=0;a<r.length;a++){t.emit(i.extend({originalEvent:n,type:r[a]},o))}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},a=function(t,r){var n=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;r&&i<r.length;i++){var t=r[i];if(t.isNode()&&t.isParent()){n=!1;break}}else n=!0;return n},s=function(t){var r;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var n=0;n<t.addToList.length;n++){t.addToList.hasId[t.addToList[n].id()]=!0}}r=t.addToList.hasId}return r||{}},l=function(e){e[0]._private.grabbed=!0},u=function(e){e[0]._private.grabbed=!1},c=function(e){e[0]._private.rscratch.inDragLayer=!0},h=function(e){e[0]._private.rscratch.inDragLayer=!1},d=function(e){e[0]._private.rscratch.isGrabTarget=!0},p=function(e){e[0]._private.rscratch.isGrabTarget=!1},f=function(e,t){var r=s(t);r[e.id()]||(t.addToList.push(e),r[e.id()]=!0,l(e))},g=function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var r=e.descendants();t.inDragLayer&&(r.forEach(c),r.connectedEdges().forEach(c)),t.addToList&&r.forEach(function(e){f(e,t)})}},v=function(t,r){r=r||{};var n=t.cy().hasCompoundNodes();r.inDragLayer&&(t.forEach(c),t.neighborhood().stdFilter(function(e){return!n||e.isEdge()}).forEach(c)),r.addToList&&t.forEach(function(e){f(e,r)}),g(t,r),b(t,{inDragLayer:r.inDragLayer}),e.updateCachedGrabbedEles()},y=v,m=function(t){t&&(t.hasId={},e.getCachedZSortedEles().forEach(function(e){u(e),h(e),p(e)}),e.updateCachedGrabbedEles())},b=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var r=e.ancestors().orphans();if(!r.same(e)){var n=r.descendants().spawnSelf().merge(r).unmerge(e).unmerge(e.descendants()),i=n.connectedEdges();t.inDragLayer&&(i.forEach(c),n.forEach(c)),t.addToList&&n.forEach(function(e){f(e,t)})}}},x="undefined"!=typeof MutationObserver;x?(e.removeObserver=new MutationObserver(function(t){for(var r=0;r<t.length;r++){var n=t[r],i=n.removedNodes;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(){e.destroy()});var w=i.debounce(function(){e.cy.resize()},100);x&&(e.styleObserver=new MutationObserver(w),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",w);var E=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",E),e.registerBinding(t,"animationend",E),e.registerBinding(t,"scroll",E)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var T=function(){return 0!==e.selection[4]},_=function(t){for(var r=e.findContainerClientCoords(),n=r[0],i=r[1],o=r[2],a=r[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(n<=c.clientX&&c.clientX<=n+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target,p=d.parentNode,f=!1;p;){if(p===h){f=!0;break}p=p.parentNode}return!!f};e.registerBinding(e.container,"mousedown",function(r){if(_(r)){r.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=r.which;var n=e.cy,i=[r.clientX,r.clientY],o=e.projectIntoViewport(i[0],i[1]),a=e.selection,s=e.findNearestElements(o[0],o[1],!0,!1),l=s[0],u=e.dragData.possibleDragElements;e.hoverData.mdownPos=o,e.hoverData.mdownGPos=i;if(3==r.which){e.hoverData.cxtStarted=!0;var c={originalEvent:r,type:"cxttapstart",position:{x:o[0],y:o[1]}};l?(l.activate(),l.emit(c),e.hoverData.down=l):n.emit(c),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==r.which){if(l&&l.activate(),null!=l&&e.nodeIsGrabbable(l)){var h=function(e){return{originalEvent:r,type:e,position:{x:o[0],y:o[1]}}},p=function(e){e.emit(h("grab"))};if(d(l),l.selected()){u=e.dragData.possibleDragElements=[];var f=n.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});v(f,{addToList:u}),l.emit(h("grabon")),f.forEach(p)}else u=e.dragData.possibleDragElements=[],y(l,{addToList:u}),l.emit(h("grabon")).emit(h("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=l,e.hoverData.downs=s,e.hoverData.downTime=(new Date).getTime(),t(l,["mousedown","tapstart","vmousedown"],r,{position:{x:o[0],y:o[1]}}),null==l?(a[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):l.isEdge()&&(a[4]=1),function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit({originalEvent:r,type:"taphold",position:{x:o[0],y:o[1]}}):n.emit({originalEvent:r,type:"taphold",position:{x:o[0],y:o[1]}})}},e.tapholdDuration)}()}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}},!1),e.registerBinding(window,"mousemove",function(i){if(e.hoverData.capture||_(i)){var s=!1,l=e.cy,u=l.zoom(),c=[i.clientX,i.clientY],h=e.projectIntoViewport(c[0],c[1]),d=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(h[0],h[1],!0,!1));var y,b=e.hoverData.last,x=e.hoverData.down,w=[h[0]-f[2],h[1]-f[3]],E=e.dragData.possibleDragElements;if(p){var T=c[0]-p[0],D=T*T,C=c[1]-p[1];e.hoverData.isOverThresholdDrag=y=D+C*C>=e.desktopTapThreshold2}var N=r(i);y&&(e.hoverData.tapholdCancelled=!0),s=!0,t(g,["mousemove","vmousemove","tapdrag"],i,{position:{x:h[0],y:h[1]}});var L=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||l.emit("boxstart"),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(y){var P={originalEvent:i,type:"cxtdrag",position:{x:h[0],y:h[1]}};x?x.emit(P):l.emit(P),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:i,type:"cxtdragout",position:{x:h[0],y:h[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:i,type:"cxtdragover",position:{x:h[0],y:h[1]}}))}}else if(e.hoverData.dragging){if(s=!0,l.panningEnabled()&&l.userPanningEnabled()){var S;if(e.hoverData.justStartedPan){var A=e.hoverData.mdownPos;S={x:(h[0]-A[0])*u,y:(h[1]-A[1])*u},e.hoverData.justStartedPan=!1}else S={x:w[0]*u,y:w[1]*u};l.panBy(S),e.hoverData.dragged=!0}h=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=f[4]||null!=x&&!x.isEdge()){if(x&&x.isEdge()&&x.active()&&x.unactivate(),x&&x.grabbed()||g==b||(b&&t(b,["mouseout","tapdragout"],i,{position:{x:h[0],y:h[1]}}),g&&t(g,["mouseover","tapdragover"],i,{position:{x:h[0],y:h[1]}}),e.hoverData.last=g),x)if(y){if(l.boxSelectionEnabled()&&N)x&&x.grabbed()&&(m(E),x.emit("free")),L();else if(x&&x.grabbed()&&e.nodeIsDraggable(x)){var I=!e.dragData.didDrag;I&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var M=[];e.hoverData.draggingEles||v(l.collection(E),{inDragLayer:!0});for(var O=0;O<E.length;O++){var R=E[O];if(e.nodeIsDraggable(R)&&R.grabbed()){var k=R.position();if(M.push(R),n.number(w[0])&&n.number(w[1])&&(k.x+=w[0],k.y+=w[1],I)){var B=e.hoverData.dragDelta;B&&n.number(B[0])&&n.number(B[1])&&(k.x+=B[0],k.y+=B[1])}}}e.hoverData.draggingEles=!0;var F=l.collection(M);F.dirtyCompoundBoundsCache(),F.emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(w[0]),t.push(w[1])):(t[0]+=w[0],t[1]+=w[1])}();s=!0}else if(y){if(e.hoverData.dragging||!l.boxSelectionEnabled()||!N&&l.panningEnabled()&&l.userPanningEnabled()){if(!e.hoverData.selecting&&l.panningEnabled()&&l.userPanningEnabled()){var z=a(x,e.hoverData.downs);z&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=o.array2point(d),e.redrawHint("select",!0),e.redraw())}}else L();x&&x.isEdge()&&x.active()&&x.unactivate()}return f[2]=h[0],f[3]=h[1],s?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0}},!1),e.registerBinding(window,"mouseup",function(n){if(e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,o=e.projectIntoViewport(n.clientX,n.clientY),a=e.selection,s=e.findNearestElement(o[0],o[1],!0,!1),l=e.dragData.possibleDragElements,u=e.hoverData.down,c=r(n);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var h={originalEvent:n,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(h):i.emit(h),!e.hoverData.cxtDragged){var d={originalEvent:n,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(d):i.emit(d)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(n)||(i.$(function(e){return e.selected()}).unselect(),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=[]),t(s,["mouseup","tapend","vmouseup"],n,{position:{x:o[0],y:o[1]}}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||t(u,["click","tap","vclick"],n,{position:{x:o[0],y:o[1]}}),s!=u||e.dragData.didDrag||e.hoverData.selecting||null!=s&&s._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||c?s.selected()?s.unselect():s.select():c||(i.$(":selected").unmerge(s).unselect(),s.select())),e.redrawHint("eles",!0)),e.hoverData.selecting){var p=i.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));e.redrawHint("select",!0),p.length>0&&e.redrawHint("eles",!0),i.emit("boxend");var f=function(e){return e.selectable()&&!e.selected()};"additive"===i.selectionType()?p.emit("box").stdFilter(f).select().emit("boxselect"):(c||i.$(":selected").unmerge(p).unselect(),p.emit("box").stdFilter(f).select().emit("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!a[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var g=u&&u.grabbed();m(l),g&&u.emit("free")}}a[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1),e.registerBinding(e.container,"wheel",function(t){if(!e.scrollingPage){var r=e.cy,n=e.projectIntoViewport(t.clientX,t.clientY),i=[n[0]*r.zoom()+r.pan().x,n[1]*r.zoom()+r.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||T())return void t.preventDefault();if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var o;o=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,o*=e.wheelSensitivity;1===t.deltaMode&&(o*=33),r.zoom({level:r.zoom()*Math.pow(10,o),renderedPosition:{x:i[0],y:i[1]}})}}},!0),e.registerBinding(window,"scroll",function(){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:r[0],y:r[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:r[0],y:r[1]}})},!1);var D,C,N,L,P,S,A,I,M,O,R,k,B,F,z=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},V=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};e.registerBinding(e.container,"touchstart",F=function(r){if(_(r)){e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var n=e.cy,i=e.touchData.now,o=e.touchData.earlier;if(r.touches[0]){var a=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(r.touches[1]){var a=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);i[2]=a[0],i[3]=a[1]}if(r.touches[2]){var a=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);i[4]=a[0],i[5]=a[1]}if(r.touches[1]){m(e.dragData.touchDragEles);var s=e.findContainerClientCoords();M=s[0],O=s[1],R=s[2],k=s[3],D=r.touches[0].clientX-M,C=r.touches[0].clientY-O,N=r.touches[1].clientX-M,L=r.touches[1].clientY-O,B=0<=D&&D<=R&&0<=N&&N<=R&&0<=C&&C<=k&&0<=L&&L<=k;var l=n.pan(),u=n.zoom();P=z(D,C,N,L),S=V(D,C,N,L),A=[(D+N)/2,(C+L)/2],I=[(A[0]-l.x)/u,(A[1]-l.y)/u];if(S<4e4&&!r.touches[2]){var c=e.findNearestElement(i[0],i[1],!0,!0),h=e.findNearestElement(i[2],i[3],!0,!0);return c&&c.isNode()?(c.activate().emit({originalEvent:r,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=c):h&&h.isNode()?(h.activate().emit({originalEvent:r,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=h):n.emit({originalEvent:r,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(r.touches[2]);else if(r.touches[1]);else if(r.touches[0]){var p=e.findNearestElements(i[0],i[1],!0,!0),f=p[0];if(null!=f&&(f.activate(),e.touchData.start=f,e.touchData.starts=p,e.nodeIsGrabbable(f))){var g=e.dragData.touchDragEles=[],b=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),f.selected()?(b=n.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),v(b,{addToList:g})):y(f,{addToList:g}),d(f);var x=function(e){return{originalEvent:r,type:e,position:{x:i[0],y:i[1]}}};f.emit(x("grabon")),b?b.forEach(function(e){e.emit(x("grab"))}):f.emit(x("grab"))}t(f,["touchstart","tapstart","vmousedown"],r,{position:{x:i[0],y:i[1]}}),null==f&&(e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||(t(e.touchData.start,["taphold"],r,{position:{x:i[0],y:i[1]}}),e.touchData.start||n.$(":selected").unselect())},e.tapholdDuration)}if(r.touches.length>=1){for(var w=e.touchData.startPosition=[],E=0;E<i.length;E++)w[E]=o[E]=i[E];var T=r.touches[0];e.touchData.startGPosition=[T.clientX,T.clientY]}}},!1);var j;e.registerBinding(window,"touchmove",j=function(r){var i=e.touchData.capture;if(i||_(r)){var s=e.selection,l=e.cy,u=e.touchData.now,c=e.touchData.earlier,h=l.zoom();if(r.touches[0]){var d=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(r.touches[1]){var d=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);u[2]=d[0],u[3]=d[1]}if(r.touches[2]){var d=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);u[4]=d[0],u[5]=d[1]}var p,f=e.touchData.startGPosition;if(i&&r.touches[0]&&f){for(var g=[],y=0;y<u.length;y++)g[y]=u[y]-c[y];var b=r.touches[0].clientX-f[0],x=b*b,w=r.touches[0].clientY-f[1];p=x+w*w>=e.touchTapThreshold2}if(i&&e.touchData.cxt){r.preventDefault();var E=r.touches[0].clientX-M,T=r.touches[0].clientY-O,A=r.touches[1].clientX-M,R=r.touches[1].clientY-O,k=V(E,T,A,R),F=k/S;if(F>=2.25||k>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var j={originalEvent:r,type:"cxttapend",position:{x:u[0],y:u[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(j),e.touchData.start=null):l.emit(j)}}if(i&&e.touchData.cxt){var j={originalEvent:r,type:"cxtdrag",position:{x:u[0],y:u[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(j):l.emit(j),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Y=e.findNearestElement(u[0],u[1],!0,!0);e.touchData.cxtOver&&Y===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:r,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.touchData.cxtOver=Y,Y&&Y.emit({originalEvent:r,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}else if(i&&r.touches[2]&&l.boxSelectionEnabled())r.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||l.emit("boxstart"),e.touchData.selecting=!0,e.redrawHint("select",!0),s&&0!==s.length&&void 0!==s[0]?(s[2]=(u[0]+u[2]+u[4])/3,s[3]=(u[1]+u[3]+u[5])/3):(s[0]=(u[0]+u[2]+u[4])/3,s[1]=(u[1]+u[3]+u[5])/3,s[2]=(u[0]+u[2]+u[4])/3+1,s[3]=(u[1]+u[3]+u[5])/3+1),s[4]=1,e.touchData.selecting=!0,e.redraw();else if(i&&r.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){r.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var X=e.dragData.touchDragEles;if(X){e.redrawHint("drag",!0);for(var G=0;G<X.length;G++){var q=X[G]._private;q.grabbed=!1,q.rscratch.inDragLayer=!1}}var E=r.touches[0].clientX-M,T=r.touches[0].clientY-O,A=r.touches[1].clientX-M,R=r.touches[1].clientY-O,U=z(E,T,A,R),W=U/P;if(B){var H=E-D,$=T-C,Z=A-N,Q=R-L,K=(H+Z)/2,J=($+Q)/2,ee=l.zoom(),te=ee*W,re=l.pan(),ne=I[0]*ee+re.x,ie=I[1]*ee+re.y,oe={x:-te/ee*(ne-re.x-K)+ne,y:-te/ee*(ie-re.y-J)+ie};if(e.touchData.start&&e.touchData.start.active()){var X=e.dragData.touchDragEles;m(X),e.redrawHint("drag",!0),e.redrawHint("eles",!0),e.touchData.start.unactivate().emit("free")}l.viewport({zoom:te,pan:oe,cancelOnFailedZoom:!0}),P=U,D=E,C=T,N=A,L=R,e.pinching=!0}if(r.touches[0]){var d=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(r.touches[1]){var d=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);u[2]=d[0],u[3]=d[1]}if(r.touches[2]){var d=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);u[4]=d[0],u[5]=d[1]}}else if(r.touches[0]){var Y,ae=e.touchData.start,se=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(Y=e.findNearestElement(u[0],u[1],!0,!0)),i&&null!=ae&&r.preventDefault(),i&&null!=ae&&e.nodeIsDraggable(ae))if(p){var X=e.dragData.touchDragEles,le=!e.dragData.didDrag;le&&v(l.collection(X),{inDragLayer:!0});for(var ue=0;ue<X.length;ue++){var ce=X[ue];if(e.nodeIsDraggable(ce)&&ce.grabbed()){e.dragData.didDrag=!0;var he=ce.position();if(n.number(g[0])&&n.number(g[1])&&(he.x+=g[0],he.y+=g[1]),le){e.redrawHint("eles",!0);var de=e.touchData.dragDelta;de&&n.number(de[0])&&n.number(de[1])&&(he.x+=de[0],he.y+=de[1])}}}var pe=l.collection(X);pe.dirtyCompoundBoundsCache(),pe.emit("position drag"),e.hoverData.draggingEles=!0,e.redrawHint("drag",!0),e.touchData.startPosition[0]==c[0]&&e.touchData.startPosition[1]==c[1]&&e.redrawHint("eles",!0),e.redraw()}else{var de=e.touchData.dragDelta=e.touchData.dragDelta||[];0===de.length?(de.push(g[0]),de.push(g[1])):(de[0]+=g[0],de[1]+=g[1])}if(t(ae||Y,["touchmove","tapdrag","vmousemove"],r,{position:{x:u[0],y:u[1]}}),ae&&ae.grabbed()||Y==se||(se&&se.emit({originalEvent:r,type:"tapdragout",position:{x:u[0],y:u[1]}}),Y&&Y.emit({originalEvent:r,type:"tapdragover",position:{x:u[0],y:u[1]}})),e.touchData.last=Y,i)for(var G=0;G<u.length;G++)u[G]&&e.touchData.startPosition[G]&&p&&(e.touchData.singleTouchMoved=!0);if(i&&(null==ae||ae.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()){var fe=a(ae,e.touchData.starts);fe&&(r.preventDefault(),e.swipePanning?l.panBy({x:g[0]*h,y:g[1]*h}):p&&(e.swipePanning=!0,l.panBy({x:b*h,y:w*h}),ae&&(ae.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=o.array2point(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));var d=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);u[0]=d[0],u[1]=d[1]}}for(var y=0;y<u.length;y++)c[y]=u[y]}},!1);var Y;e.registerBinding(window,"touchcancel",Y=function(){var t=e.touchData.start;e.touchData.capture=!1,t&&t.unactivate()});var X;if(e.registerBinding(window,"touchend",X=function(r){var n=e.touchData.start;if(e.touchData.capture){e.touchData.capture=!1,r.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o=e.cy,a=o.zoom(),s=e.touchData.now,l=e.touchData.earlier;if(r.touches[0]){var u=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);s[0]=u[0],s[1]=u[1]}if(r.touches[1]){var u=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);s[2]=u[0],s[3]=u[1]}if(r.touches[2]){var u=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);s[4]=u[0],s[5]=u[1]}n&&n.unactivate();var c;if(e.touchData.cxt){if(c={originalEvent:r,type:"cxttapend",position:{x:s[0],y:s[1]}},n?n.emit(c):o.emit(c),!e.touchData.cxtDragged){var h={originalEvent:r,type:"cxttap",position:{x:s[0],y:s[1]}};n?n.emit(h):o.emit(h)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&o.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var d=o.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),o.emit("boxend");var p=function(e){return e.selectable()&&!e.selected()};d.emit("box").stdFilter(p).select().emit("boxselect"),d.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=n&&n.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var f=e.dragData.touchDragEles;if(null!=n){var g=n._private.grabbed;m(f),e.redrawHint("drag",!0),e.redrawHint("eles",!0),g&&n.emit("free"),t(n,["touchend","tapend","vmouseup","tapdragout"],r,{position:{x:s[0],y:s[1]}}),n.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(s[0],s[1],!0,!0);t(v,["touchend","tapend","vmouseup","tapdragout"],r,{position:{x:s[0],y:s[1]}})}var y=e.touchData.startPosition[0]-s[0],b=y*y,x=e.touchData.startPosition[1]-s[1],w=x*x,E=b+w,T=E*a*a;null!=n&&!e.dragData.didDrag&&n._private.selectable&&T<e.touchTapThreshold2&&!e.pinching&&("single"===o.selectionType()?(o.$(":selected").unmerge(n).unselect(),n.select()):n.selected()?n.unselect():n.select(),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved||t(n,["tap","vclick"],r,{position:{x:s[0],y:s[1]}}),e.touchData.singleTouchMoved=!0}for(var _=0;_<s.length;_++)l[_]=s[_];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),r.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var G=[],q=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},U=function(e){return{event:e,touch:q(e)}},W=function(e){G.push(U(e))},H=function(e){for(var t=0;t<G.length;t++){if(G[t].event.pointerId===e.pointerId)return void G.splice(t,1)}},$=function(e){var t=G.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=q(e)},Z=function(e){e.touches=G.map(function(e){return e.touch})},Q=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){Q(e)||(e.preventDefault(),W(e),Z(e),F(e))}),e.registerBinding(e.container,"pointerup",function(e){Q(e)||(H(e),Z(e),X(e))}),e.registerBinding(e.container,"pointercancel",function(e){Q(e)||(H(e),Z(e),Y(e))}),e.registerBinding(e.container,"pointermove",function(e){Q(e)||(e.preventDefault(),$(e),Z(e),j(e))})}},e.exports=a},function(e,t,r){"use strict";var n=r(2),i={};i.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl("polygon",e,t,r,n,i,this.points)},intersectLine:function(e,t,r,i,o,a,s){return n.polygonIntersectLine(o,a,this.points,e,t,r/2,i/2,s)},checkPoint:function(e,t,r,i,o,a,s){return n.pointInsidePolygon(e,t,this.points,a,s,i,o,[0,-1],r)}}},i.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,i,o,a,s){return n.intersectLineEllipse(o,a,e,t,r/2+s,i/2+s)},checkPoint:function(e,t,r,i,o,a,s){return n.checkInEllipse(e,t,i,o,a,s,r)}}},i.generateRoundRectangle=function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:n.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,i,o,a,s){return n.roundRectangleIntersectLine(o,a,e,t,r,i,s)},checkPoint:function(e,t,r,i,o,a,s){var l=n.getRoundRectangleRadius(i,o),u=2*l;return!!n.pointInsidePolygon(e,t,this.points,a,s,i,o-u,[0,-1],r)||(!!n.pointInsidePolygon(e,t,this.points,a,s,i-u,o,[0,-1],r)||(!!n.checkInEllipse(e,t,u,u,a-i/2+l,s-o/2+l,r)||(!!n.checkInEllipse(e,t,u,u,a+i/2-l,s-o/2+l,r)||(!!n.checkInEllipse(e,t,u,u,a+i/2-l,s+o/2-l,r)||!!n.checkInEllipse(e,t,u,u,a-i/2+l,s+o/2-l,r)))))}}},i.generateCutRectangle=function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:n.getCutRectangleCornerLength(),points:n.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},generateCutTrianglePts:function(e,t,r,n){var i=this.cornerLength,o=t/2,a=e/2,s=r-a,l=r+a,u=n-o,c=n+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,r,i,o,a,s){var l=this.generateCutTrianglePts(r+2*s,i+2*s,e,t),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return n.polygonIntersectLine(o,a,u,e,t)},checkPoint:function(e,t,r,i,o,a,s){if(n.pointInsidePolygon(e,t,this.points,a,s,i,o-2*this.cornerLength,[0,-1],r))return!0;if(n.pointInsidePolygon(e,t,this.points,a,s,i-2*this.cornerLength,o,[0,-1],r))return!0;var l=this.generateCutTrianglePts(i,o,a,s);return n.pointInsidePolygonPoints(e,t,l.topLeft)||n.pointInsidePolygonPoints(e,t,l.topRight)||n.pointInsidePolygonPoints(e,t,l.bottomRight)||n.pointInsidePolygonPoints(e,t,l.bottomLeft)}}},i.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:n.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,i,o,a,s){var l=this.generateBarrelBezierPts(r+2*s,i+2*s,e,t),u=[].concat(l.topLeft,l.topRight,l.bottomRight,l.bottomLeft);return n.polygonIntersectLine(o,a,u,e,t)},generateBarrelBezierPts:function(e,t,r,i){var o=t/2,a=e/2,s=r-a,l=r+a,u=i-o,c=i+o,h=n.getBarrelCurveConstants(e,t),d=h.heightOffset,p=h.widthOffset,f=h.ctrlPtOffsetPct*e,g={topLeft:[s,u+d,s+f,u,s+p,u],topRight:[l-p,u,l-f,u,l,u+d],bottomRight:[l,c-d,l-f,c,l-p,c],bottomLeft:[s+p,c,s+f,c,s,c-d]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,t,r,i,o,a,s){var l=n.getBarrelCurveConstants(i,o),u=l.heightOffset,c=l.widthOffset;if(n.pointInsidePolygon(e,t,this.points,a,s,i,o-2*u,[0,-1],r))return!0;if(n.pointInsidePolygon(e,t,this.points,a,s,i-2*c,o,[0,-1],r))return!0;for(var h=this.generateBarrelBezierPts(i,o,a,s),d=Object.keys(h),p=0;p<d.length;p++){var f=d[p],g=h[f],v=function(e,t,r){var i=r[4],o=r[2],a=r[0],s=r[5],l=r[1],u=Math.min(i,a),c=Math.max(i,a),h=Math.min(s,l),d=Math.max(s,l);if(u<=e&&e<=c&&h<=t&&t<=d){var p=n.bezierPtsToQuadCoeff(i,o,a),f=n.solveQuadratic(p[0],p[1],p[2],e),g=f.filter(function(e){return 0<=e&&e<=1});if(g.length>0)return g[0]}return null}(e,t,g);if(null!=v){var y=g[5],m=g[3],b=g[1],x=n.qbezierAt(y,m,b,v);if(g.isTop&&x<=t)return!0;if(g.isBottom&&t<=x)return!0}}return!1}}},i.generateBottomRoundrectangle=function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:n.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,r,n,i){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,i,o,a,s){var l=e-(r/2+s),u=t-(i/2+s),c=u,h=e+(r/2+s),d=n.finiteLinesIntersect(o,a,e,t,l,u,h,c,!1);return d.length>0?d:n.roundRectangleIntersectLine(o,a,e,t,r,i,s)},checkPoint:function(e,t,r,i,o,a,s){var l=n.getRoundRectangleRadius(i,o),u=2*l;if(n.pointInsidePolygon(e,t,this.points,a,s,i,o-u,[0,-1],r))return!0;if(n.pointInsidePolygon(e,t,this.points,a,s,i-u,o,[0,-1],r))return!0;var c=i/2+2*r,h=o/2+2*r;return!!n.pointInsidePolygonPoints(e,t,[a-c,s-h,a-c,s,a+c,s,a+c,s-h])||!!n.checkInEllipse(e,t,u,u,a+i/2-l,s+o/2-l,r)||!!n.checkInEllipse(e,t,u,u,a-i/2+l,s+o/2-l,r)}}},i.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",n.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",n.generateUnitNgonPointsFitToSquare(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",n.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",n.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",n.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",n.generateUnitNgonPointsFitToSquare(8,0));var r=new Array(20),i=n.generateUnitNgonPoints(5,0),o=n.generateUnitNgonPoints(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(var s=0;s<5;s++)r[4*s]=i[2*s],r[4*s+1]=i[2*s+1],r[4*s+2]=o[2*s],r[4*s+3]=o[2*s+1];r=n.fitPolygonToSquare(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var r,n=e.join("$"),i="polygon-"+n;return(r=this[i])?r:t.generatePolygon(i,e)}},e.exports=i},function(e,t,r){"use strict";var n=r(1),i={};i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},i.redraw=function(e){e=e||n.staticEmptyObject();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},i.beforeRender=function(e,t){if(!this.destroyed){t=t||0;var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(e,t){return t.priority-e.priority})}};var o=function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)};i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;n.requestAnimationFrame(function t(r){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){o(e,!0,r);var i=n.performanceNow();e.render(e.renderOptions);var a=e.lastDrawTime=n.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=a-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else o(e,!1,r);e.skipFrame=!1,n.requestAnimationFrame(t)}})}},e.exports=i},function(e){"use strict";var t,r={};r.arrowShapeImpl=function(e){return(t||(t={polygon:function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}},"triangle-backcurve":function(e,t,r){for(var n,i=0;i<t.length;i++){var o=t[i];0===i&&(n=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)},"triangle-tee":function(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var o=n[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var a=r,s=r[0];e.moveTo(s.x,s.y);for(var i=0;i<a.length;i++){var o=a[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()},"triangle-cross":function(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var o=n[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var a=r,s=r[0];e.moveTo(s.x,s.y);for(var i=0;i<a.length;i++){var o=a[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()},circle:function(e,t,r,n){e.arc(t,r,n,0,2*Math.PI,!1)}}))[e]},e.exports=r},function(e){"use strict";var t={};t.drawEdge=function(e,t,r,n){var i=this,o=t._private.rscratch,a=i.usePaths();if(!o.badLine&&!isNaN(o.allpts[0])&&t.visible()){var s=void 0;r&&(s=r,e.translate(-s.x1,-s.y1));var l=t.pstyle("overlay-padding").pfValue,u=2*l,c=t.pstyle("overlay-opacity").value,h=t.pstyle("overlay-color").value,d=t.pstyle("line-color").value,p=t.pstyle("opacity").value,f=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,v=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;e.lineWidth=g,e.lineCap="butt",i.strokeStyle(e,d[0],d[1],d[2],r),i.drawEdgePath(t,e,o.allpts,f)},y=function(){i.drawArrowheads(e,t,arguments.length>0&&void 0!==arguments[0]?arguments[0]:p)};e.lineJoin="round";if("yes"===t.pstyle("ghost").value){var m=t.pstyle("ghost-offset-x").pfValue,b=t.pstyle("ghost-offset-y").pfValue,x=t.pstyle("ghost-opacity").value,w=p*x;e.translate(m,b),v(w),y(w),e.translate(-m,-b)}v(),y(),function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;e.lineWidth=u,e.lineCap="self"!==o.edgeType||a?"round":"butt",i.strokeStyle(e,h[0],h[1],h[2],r),i.drawEdgePath(t,e,o.allpts,"solid")}(),function(){i.drawElementText(e,t,n)}(),r&&e.translate(s.x1,s.y1)}},t.drawEdgePath=function(e,t,r,n){var i=e._private.rscratch,o=t,a=void 0,s=!1,l=this.usePaths();if(l){var u=r.join("$");i.pathCacheKey&&i.pathCacheKey===u?(a=t=i.pathCache,s=!0):(a=t=new Path2D,i.pathCacheKey=u,i.pathCache=a)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash([6,3]);break;case"solid":o.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<r.length;c+=4)t.quadraticCurveTo(r[c],r[c+1],r[c+2],r[c+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<r.length;h+=2)t.lineTo(r[h],r[h+1])}t=o,l?t.stroke(a):t.stroke(),t.setLineDash&&t.setLineDash([])},t.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i="haystack"===n.edgeType;i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},t.drawArrowhead=function(e,t,r,n,i,o,a){if(!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(o)||null==o)){var s=this,l=t.pstyle(r+"-arrow-shape").value;if("none"!==l){var u="hollow"===t.pstyle(r+"-arrow-fill").value?"both":"filled",c=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle("opacity").value;void 0===a&&(a=d);var p=e.globalCompositeOperation;1===a&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.fillStyle(e,255,255,255,1),s.strokeStyle(e,255,255,255,1),s.drawArrowShape(t,r,e,u,h,l,n,i,o),e.globalCompositeOperation=p);var f=t.pstyle(r+"-arrow-color").value;s.fillStyle(e,f[0],f[1],f[2],a),s.strokeStyle(e,f[0],f[1],f[2],a),s.drawArrowShape(t,r,e,c,h,l,n,i,o)}}},t.drawArrowShape=function(e,t,r,n,i,o,a,s,l){var u=this,c=this.usePaths(),h=e._private.rscratch,d=!1,p=void 0,f=r,g={x:a,y:s},v=e.pstyle("arrow-scale").value,y=this.getArrowWidth(i,v),m=u.arrowShapes[o];if(c){var b=y+"$"+o+"$"+l+"$"+a+"$"+s;h.arrowPathCacheKey=h.arrowPathCacheKey||{},h.arrowPathCache=h.arrowPathCache||{};h.arrowPathCacheKey[t]===b?(p=r=h.arrowPathCache[t],d=!0):(p=r=new Path2D,h.arrowPathCacheKey[t]=b,h.arrowPathCache[t]=p)}r.beginPath&&r.beginPath(),d||m.draw(r,y,l,g,i),!m.leavePathOpen&&r.closePath&&r.closePath(),r=f,"filled"!==n&&"both"!==n||(c?r.fill(p):r.fill()),"hollow"!==n&&"both"!==n||(r.lineWidth=m.matchEdgeWidth?i:1,r.lineJoin="miter",c?r.stroke(p):r.stroke())},e.exports=t},function(e,t,r){"use strict";var n=r(2),i={};i.drawElement=function(e,t,r,n){var i=this;t.isNode()?i.drawNode(e,t,r,n):i.drawEdge(e,t,r,n)},i.drawCachedElement=function(e,t,r,i){var o=this,a=t.boundingBox();if(0!==a.w&&0!==a.h&&(!i||n.boundingBoxesIntersect(a,i))){var s=o.data.eleTxrCache.getElement(t,a,r);null!=s?e.drawImage(s.texture.canvas,s.x,0,s.width,s.height,a.x1,a.y1,a.w,a.h):o.drawElement(e,t)}},i.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){r.drawElement(e,t[n])}},i.drawCachedElements=function(e,t,r,n){for(var i=this,o=0;o<t.length;o++){i.drawCachedElement(e,t[o],r,n)}},i.drawCachedNodes=function(e,t,r,n){for(var i=this,o=0;o<t.length;o++){var a=t[o];a.isNode()&&i.drawCachedElement(e,a,r,n)}},i.drawLayeredElements=function(e,t,r,n){var i=this,o=i.data.lyrTxrCache.getLayers(t,r);if(o)for(var a=0;a<o.length;a++){var s=o[a],l=s.bb;0!==l.w&&0!==l.h&&e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,r,n)},i.drawDebugPoints=function(e,t){for(var r=function(t,r,n){e.fillStyle=n,e.fillRect(t-1,r-1,3,3)},n=0;n<t.length;n++){var i=t[n],o=i._private.rscratch;if(i.isNode()){var a=i.position();r(a.x,a.y,"magenta")}else{for(var s=o.allpts,l=0;l+1<s.length;l+=2){r(s[l],s[l+1],"cyan")}r(o.midX,o.midY,"yellow")}}},e.exports=i},function(e){"use strict";var t={};t.safeDrawImage=function(e,t,r,n,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||e.drawImage(t,r,n,i,o,a,s,l,u)},t.drawInscribedImage=function(e,t,r,n,i){var o=this,a=r.position(),s=a.x,l=a.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),h=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),p=r.width(),f=r.height(),g=2*r.padding(),v=p+("inner"===c(r,"background-width-relative-to","value",n)?0:g),y=f+("inner"===c(r,"background-height-relative-to","value",n)?0:g),m=r._private.rscratch,b=r.pstyle("background-clip").value,x="node"===b,w=c(r,"background-image-opacity","value",n)*i,E=t.width||t.cachedW,T=t.height||t.cachedH;null!=E&&null!=T||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,T=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var _=E,D=T;if("auto"!==c(r,"background-width","value",n)&&(_="%"===c(r,"background-width","units",n)?c(r,"background-width","pfValue",n)*v:c(r,"background-width","pfValue",n)),"auto"!==c(r,"background-height","value",n)&&(D="%"===c(r,"background-height","units",n)?c(r,"background-height","pfValue",n)*y:c(r,"background-height","pfValue",n)),0!==_&&0!==D){if("contain"===h){var C=Math.min(v/_,y/D);_*=C,D*=C}else if("cover"===h){var C=Math.max(v/_,y/D);_*=C,D*=C}var N=s-v/2;"%"===c(r,"background-position-x","units",n)?N+=(v-_)*c(r,"background-position-x","pfValue",n):N+=c(r,"background-position-x","pfValue",n);var L=l-y/2;"%"===c(r,"background-position-y","units",n)?L+=(y-D)*c(r,"background-position-y","pfValue",n):L+=c(r,"background-position-y","pfValue",n),m.pathCache&&(N-=s,L-=l,s=0,l=0);var P=e.globalAlpha;if(e.globalAlpha=w,"no-repeat"===d)x&&(e.save(),m.pathCache?e.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(r)].draw(e,s,l,v,y),e.clip())),o.safeDrawImage(e,t,0,0,E,T,N,L,_,D),x&&e.restore();else{e.fillStyle=e.createPattern(t,d),o.nodeShapes[o.getNodeShape(r)].draw(e,s,l,v,y),e.translate(N,L),e.fill(),e.translate(-N,-L)}e.globalAlpha=P}},e.exports=t},function(e,t,r){"use strict";function n(e,t,r,n,i,o){var o=o||5;e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),e.fill()}var i=r(1),o=r(2),a={};a.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(o.log2(r*n));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},a.drawElementText=function(e,t,r){var n=this;if(void 0===r){if(!n.eleTextBiggerThanMin(t))return}else if(!r)return;if(t.isNode()){var i=t.pstyle("label");if(!i||!i.value)return;var o=t.pstyle("text-halign").strValue;t.pstyle("text-valign");switch(o){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var i=t.pstyle("label"),a=t.pstyle("source-label"),s=t.pstyle("target-label");if(!(i&&i.value||a&&a.value||s&&s.value))return;e.textAlign="center",e.textBaseline="bottom"}n.drawText(e,t),t.isEdge()&&(n.drawText(e,t,"source"),n.drawText(e,t,"target"))},a.drawNodeText=a.drawEdgeText=a.drawElementText,a.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},a.setupTextStyle=function(e,t){var r=t.effectiveOpacity(),n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*r,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,h=t._private.fontKey,d=this.getFontCache(e);d.key!==h&&(e.font=n+" "+a+" "+i+" "+o,d.key=h),e.lineJoin="round",this.fillStyle(e,u[0],u[1],u[2],s),this.strokeStyle(e,c[0],c[1],c[2],l)},a.drawText=function(e,t,r){var o=t._private,a=o.rscratch,s=t.effectiveOpacity();if(0!==s&&0!==t.pstyle("text-opacity").value){var l=i.getPrefixedProperty(a,"labelX",r),u=i.getPrefixedProperty(a,"labelY",r),c=this.getLabelText(t,r);if(null!=c&&""!==c&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t);var h=r?r+"-":"",d=i.getPrefixedProperty(a,"labelWidth",r),p=i.getPrefixedProperty(a,"labelHeight",r),f=i.getPrefixedProperty(a,"labelAngle",r),g=t.pstyle(h+"text-margin-x").pfValue,v=t.pstyle(h+"text-margin-y").pfValue,y=t.isEdge(),m=(t.isNode(),t.pstyle("text-halign").value),b=t.pstyle("text-valign").value;y&&(m="center",b="center"),l+=g,u+=v;var x,w=t.pstyle("text-rotation");if(0!==(x="autorotate"===w.strValue?y?f:0:"none"===w.strValue?0:w.pfValue)){var E=l,T=u;e.translate(E,T),e.rotate(x),l=0,u=0}switch(b){case"top":break;case"center":u+=p/2;break;case"bottom":u+=p}var _=t.pstyle("text-background-opacity").value,D=t.pstyle("text-border-opacity").value,C=t.pstyle("text-border-width").pfValue,N=t.pstyle("text-background-padding").pfValue;if(_>0||C>0&&D>0){var L=l-N;switch(m){case"left":L-=d;break;case"center":L-=d/2}var P=u-p-N,S=d+2*N,A=p+2*N;if(_>0){var I=e.fillStyle,M=t.pstyle("text-background-color").value;e.fillStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+_*s+")";"roundrectangle"==t.pstyle("text-background-shape").strValue?n(e,L,P,S,A,2):e.fillRect(L,P,S,A),e.fillStyle=I}if(C>0&&D>0){var O=e.strokeStyle,R=e.lineWidth,k=t.pstyle("text-border-color").value,B=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+k[0]+","+k[1]+","+k[2]+","+D*s+")",e.lineWidth=C,e.setLineDash)switch(B){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(L,P,S,A),"double"===B){var F=C/2;e.strokeRect(L+F,P+F,S-2*F,A-2*F)}e.setLineDash&&e.setLineDash([]),e.lineWidth=R,e.strokeStyle=O}}var z=2*t.pstyle("text-outline-width").pfValue;if(z>0&&(e.lineWidth=z),"wrap"===t.pstyle("text-wrap").value){var V=i.getPrefixedProperty(a,"labelWrapCachedLines",r),j=p/V.length;switch(b){case"top":u-=(V.length-1)*j;break;case"center":case"bottom":u-=(V.length-1)*j}for(var Y=0;Y<V.length;Y++)z>0&&e.strokeText(V[Y],l,u),e.fillText(V[Y],l,u),u+=j}else z>0&&e.strokeText(c,l,u),e.fillText(c,l,u);0!==x&&(e.rotate(-x),e.translate(-E,-T))}}},e.exports=a},function(e,t,r){"use strict";var n=r(0),i={};i.drawNode=function(e,t,r,i){var o=this,a=void 0,s=void 0,l=t._private,u=l.rscratch,c=t.position();if(n.number(c.x)&&n.number(c.y)&&t.visible()){var h=t.effectiveOpacity(),d=o.usePaths(),p=void 0,f=!1,g=t.padding();a=t.width()+2*g,s=t.height()+2*g,e.lineWidth=t.pstyle("border-width").pfValue;var v=void 0;r&&(v=r,e.translate(-v.x1,-v.y1));for(var y=t.pstyle("background-image"),m=y.value,b=void 0,x=[],w=[],E=m.length,T=0;T<E;T++)if(b=m[T],x[T]=null!=b&&"none"!==b){var _=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",T);w[T]=o.getCachedImage(b,_,function(){t.emitAndNotify("background")})}var D=t.pstyle("background-blacken").value,C=t.pstyle("border-width").pfValue,N=t.pstyle("background-color").value,L=t.pstyle("background-opacity").value*h,P=t.pstyle("border-color").value,S=t.pstyle("border-style").value,A=t.pstyle("border-opacity").value*h;if(e.lineJoin="miter",e.setLineDash)switch(S){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var I=function(){o.fillStyle(e,N[0],N[1],N[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:L)},M=function(){o.strokeStyle(e,P[0],P[1],P[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:A)},O=t.pstyle("shape").strValue,R=t.pstyle("shape-polygon-points").pfValue;if(d){var k=O+"$"+a+"$"+s+("polygon"===O?"$"+R.join("$"):"");e.translate(c.x,c.y),u.pathCacheKey===k?(p=u.pathCache,f=!0):(p=new Path2D,u.pathCacheKey=k,u.pathCache=p)}var B=function(){if(!f){var r=c;d&&(r={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(p||e,r.x,r.y,a,s)}d?e.fill(p):e.fill()},F=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=l.backgrounding,i=0,a=0;a<E;a++)x[a]&&w[a].complete&&!w[a].error&&(i++,o.drawInscribedImage(e,w[a],t,a,r));l.backgrounding=!(i===E),n!==l.backgrounding&&t.updateStyle(!1)},z=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;o.hasPie(t)&&(o.drawPie(e,t,n),r&&(d||o.nodeShapes[o.getNodeShape(t)].draw(e,c.x,c.y,a,s)))},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,r=(D>0?D:-D)*t,n=D>0?0:255;0!==D&&(o.fillStyle(e,n,n,n,r),d?e.fill(p):e.fill())},j=function(){if(C>0&&(d?e.stroke(p):e.stroke(),"double"===S)){e.lineWidth=C/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",d?e.stroke(p):e.stroke(),e.globalCompositeOperation=t}};if("yes"===t.pstyle("ghost").value){var Y=t.pstyle("ghost-offset-x").pfValue,X=t.pstyle("ghost-offset-y").pfValue,G=t.pstyle("ghost-opacity").value,q=G*h;e.translate(Y,X),I(G*L),B(),F(q),z(0!==D||0!==C),V(q),M(G*A),j(),e.translate(-Y,-X)}I(),B(),F(),z(0!==D||0!==C),V(),M(),j(),d&&e.translate(-c.x,-c.y),function(){o.drawElementText(e,t,i)}(),function(){var r=t.pstyle("overlay-padding").pfValue,n=t.pstyle("overlay-opacity").value,i=t.pstyle("overlay-color").value;n>0&&(o.fillStyle(e,i[0],i[1],i[2],n),o.nodeShapes.roundrectangle.draw(e,c.x,c.y,a+2*r,s+2*r),e.fill())}(),e.setLineDash&&e.setLineDash([]),r&&e.translate(v.x1,v.y1)}},i.hasPie=function(e){return e=e[0],e._private.hasPie},i.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),o=t.pstyle("pie-size"),a=n.x,s=n.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var p=t.pstyle("pie-"+d+"-background-size").value,f=t.pstyle("pie-"+d+"-background-color").value,g=t.pstyle("pie-"+d+"-background-opacity").value*r,v=p/100;v+h>1&&(v=1-h);var y=1.5*Math.PI+2*Math.PI*h,m=2*Math.PI*v,b=y+m;0===p||h>=1||h+v>1||(e.beginPath(),e.moveTo(a,s),e.arc(a,s,c,y,b),e.closePath(),this.fillStyle(e,f[0],f[1],f[2],g),e.fill(),h+=v)}},e.exports=i},function(e,t,r){"use strict";var n={},i=r(1);n.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},n.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if(t=r[i],t.context===e){n=!1;break}return n&&(t={context:e},r.push(t)),t},n.fillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},n.strokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},n.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],o=n[3],a=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=o+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)l=r.canvases[d],l.width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";for(var d=0;d<t.BUFFER_COUNT;d++)l=r.bufferCanvases[d],l.width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";t.textureMult=1,a<=1&&(l=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},n.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},n.render=function(e){function t(e,t,r,n,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",u.fillStyle(e,255,255,255,u.motionBlurTransparency),e.fillRect(t,r,n,i),e.globalCompositeOperation=o}function r(e,r){var i,a,c,h;u.clearingMotionBlur||e!==d.bufferContexts[u.MOTIONBLUR_BUFFER_NODE]&&e!==d.bufferContexts[u.MOTIONBLUR_BUFFER_DRAG]?(i=D,a=T,c=u.canvasWidth,h=u.canvasHeight):(i={x:_.x*v,y:_.y*v},a=E*v,c=u.canvasWidth*v,h=u.canvasHeight*v),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?t(e,0,0,c,h):n||void 0!==r&&!r||e.clearRect(0,0,c,h),o||(e.translate(i.x,i.y),e.scale(a,a)),l&&e.translate(l.x,l.y),s&&e.scale(s,s)}e=e||i.staticEmptyObject();var n=e.forcedContext,o=e.drawAllLayers,a=e.drawOnlyNodeLayer,s=e.forcedZoom,l=e.forcedPan,u=this,c=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,h=u.cy,d=u.data,p=d.canvasNeedsRedraw,f=u.textureOnViewport&&!n&&(u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming),g=void 0!==e.motionBlur?e.motionBlur:u.motionBlur,v=u.motionBlurPxRatio,y=h.hasCompoundNodes(),m=u.hoverData.draggingEles,b=!(!u.hoverData.selecting&&!u.touchData.selecting);g=g&&!n&&u.motionBlurEnabled&&!b;var x=g;n||(u.prevPxRatio!==c&&(u.invalidateContainerClientCoordsCache(),u.matchCanvasSize(u.container),u.redrawHint("eles",!0),u.redrawHint("drag",!0)),u.prevPxRatio=c),!n&&u.motionBlurTimeout&&clearTimeout(u.motionBlurTimeout),g&&(null==u.mbFrames&&(u.mbFrames=0),u.mbFrames++,u.mbFrames<3&&(x=!1),u.mbFrames>u.minMbLowQualFrames&&(u.motionBlurPxRatio=u.mbPxRBlurry)),u.clearingMotionBlur&&(u.motionBlurPxRatio=1),u.textureDrawLastFrame&&!f&&(p[u.NODE]=!0,p[u.SELECT_BOX]=!0);var w=h.style()._private.coreStyle,E=h.zoom(),T=void 0!==s?s:E,_=h.pan(),D={x:_.x,y:_.y},C={zoom:E,pan:{x:_.x,y:_.y}},N=u.prevViewport;void 0===N||C.zoom!==N.zoom||C.pan.x!==N.pan.x||C.pan.y!==N.pan.y||m&&!y||(u.motionBlurPxRatio=1),l&&(D=l),T*=c,D.x*=c,D.y*=c;var L=u.getCachedZSortedEles();if(f||(u.textureDrawLastFrame=!1),f){u.textureDrawLastFrame=!0;if(!u.textureCache){u.textureCache={},u.textureCache.bb=h.mutableElements().boundingBox(),u.textureCache.texture=u.data.bufferCanvases[u.TEXTURE_BUFFER];var P=u.data.bufferContexts[u.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,u.canvasWidth*u.textureMult,u.canvasHeight*u.textureMult),u.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:c*u.textureMult});var C=u.textureCache.viewport={zoom:h.zoom(),pan:h.pan(),width:u.canvasWidth,height:u.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}p[u.DRAG]=!1,p[u.NODE]=!1;var S=d.contexts[u.NODE],A=u.textureCache.texture,C=u.textureCache.viewport;u.textureCache.bb,S.setTransform(1,0,0,1,0,0),g?t(S,0,0,C.width,C.height):S.clearRect(0,0,C.width,C.height);var I=w["outside-texture-bg-color"].value;u.fillStyle(S,I[0],I[1],I[2],w["outside-texture-bg-opacity"].value),S.fillRect(0,0,C.width,C.height);var E=h.zoom();r(S,!1),S.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/c,C.height/C.zoom/c),S.drawImage(A,C.mpan.x,C.mpan.y,C.width/C.zoom/c,C.height/C.zoom/c)}else u.textureOnViewport&&!n&&(u.textureCache=null);var M=h.extent(),O=u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming||u.hoverData.draggingEles,R=u.hideEdgesOnViewport&&O,k=[];if(k[u.NODE]=!p[u.NODE]&&g&&!u.clearedForMotionBlur[u.NODE]||u.clearingMotionBlur,k[u.NODE]&&(u.clearedForMotionBlur[u.NODE]=!0),k[u.DRAG]=!p[u.DRAG]&&g&&!u.clearedForMotionBlur[u.DRAG]||u.clearingMotionBlur,k[u.DRAG]&&(u.clearedForMotionBlur[u.DRAG]=!0),p[u.NODE]||o||a||k[u.NODE]){var B=g&&!k[u.NODE]&&1!==v,S=n||(B?u.data.bufferContexts[u.MOTIONBLUR_BUFFER_NODE]:d.contexts[u.NODE]);r(S,g&&!B?"motionBlur":void 0),R?u.drawCachedNodes(S,L.nondrag,c,M):u.drawLayeredElements(S,L.nondrag,c,M),u.debug&&u.drawDebugPoints(S,L.nondrag),o||g||(p[u.NODE]=!1)}if(!a&&(p[u.DRAG]||o||k[u.DRAG])){var B=g&&!k[u.DRAG]&&1!==v,S=n||(B?u.data.bufferContexts[u.MOTIONBLUR_BUFFER_DRAG]:d.contexts[u.DRAG]);r(S,g&&!B?"motionBlur":void 0),R?u.drawCachedNodes(S,L.drag,c,M):u.drawCachedElements(S,L.drag,c,M),u.debug&&u.drawDebugPoints(S,L.drag),o||g||(p[u.DRAG]=!1)}if(u.showFps||!a&&p[u.SELECT_BOX]&&!o){var S=n||d.contexts[u.SELECT_BOX];if(r(S),1==u.selection[4]&&(u.hoverData.selecting||u.touchData.selecting)){var E=u.cy.zoom(),F=w["selection-box-border-width"].value/E;S.lineWidth=F,S.fillStyle="rgba("+w["selection-box-color"].value[0]+","+w["selection-box-color"].value[1]+","+w["selection-box-color"].value[2]+","+w["selection-box-opacity"].value+")",S.fillRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]),F>0&&(S.strokeStyle="rgba("+w["selection-box-border-color"].value[0]+","+w["selection-box-border-color"].value[1]+","+w["selection-box-border-color"].value[2]+","+w["selection-box-opacity"].value+")",S.strokeRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]))}if(d.bgActivePosistion&&!u.hoverData.selecting){var E=u.cy.zoom(),z=d.bgActivePosistion;S.fillStyle="rgba("+w["active-bg-color"].value[0]+","+w["active-bg-color"].value[1]+","+w["active-bg-color"].value[2]+","+w["active-bg-opacity"].value+")",S.beginPath(),S.arc(z.x,z.y,w["active-bg-size"].pfValue/E,0,2*Math.PI),S.fill()}var V=u.lastRedrawTime;if(u.showFps&&V){V=Math.round(V);var j=Math.round(1e3/V);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+V+" ms = "+j+" fps",0,20);S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(j/60,1),20)}o||(p[u.SELECT_BOX]=!1)}if(g&&1!==v){var Y=d.contexts[u.NODE],X=u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_NODE],G=d.contexts[u.DRAG],q=u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_DRAG],U=function(e,r,n){e.setTransform(1,0,0,1,0,0),n||!x?e.clearRect(0,0,u.canvasWidth,u.canvasHeight):t(e,0,0,u.canvasWidth,u.canvasHeight);var i=v;e.drawImage(r,0,0,u.canvasWidth*i,u.canvasHeight*i,0,0,u.canvasWidth,u.canvasHeight)};(p[u.NODE]||k[u.NODE])&&(U(Y,X,k[u.NODE]),p[u.NODE]=!1),(p[u.DRAG]||k[u.DRAG])&&(U(G,q,k[u.DRAG]),p[u.DRAG]=!1)}u.prevViewport=C,u.clearingMotionBlur&&(u.clearingMotionBlur=!1,u.motionBlurCleared=!0,u.motionBlur=!0),g&&(u.motionBlurTimeout=setTimeout(function(){u.motionBlurTimeout=null,u.clearedForMotionBlur[u.NODE]=!1,u.clearedForMotionBlur[u.DRAG]=!1,u.motionBlur=!1,u.clearingMotionBlur=!f,u.mbFrames=0,p[u.NODE]=!0,p[u.DRAG]=!0,u.redraw()},100)),n||h.emit("render")},e.exports=n},function(e,t,r){"use strict";var n=r(2),i={};i.drawPolygonPath=function(e,t,r,n,i,o){var a=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],r+s*o[1]);for(var l=1;l<o.length/2;l++)e.lineTo(t+a*o[2*l],r+s*o[2*l+1]);e.closePath()},i.drawRoundRectanglePath=function(e,t,r,i,o){var a=i/2,s=o/2,l=n.getRoundRectangleRadius(i,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+a,r-s,t+a,r,l),e.arcTo(t+a,r+s,t,r+s,l),e.arcTo(t-a,r+s,t-a,r,l),e.arcTo(t-a,r-s,t,r-s,l),e.lineTo(t,r-s),e.closePath()},i.drawBottomRoundRectanglePath=function(e,t,r,i,o){var a=i/2,s=o/2,l=n.getRoundRectangleRadius(i,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+a,r-s),e.lineTo(t+a,r),e.arcTo(t+a,r+s,t,r+s,l),e.arcTo(t-a,r+s,t-a,r,l),e.lineTo(t-a,r-s),e.lineTo(t,r-s),e.closePath()},i.drawCutRectanglePath=function(e,t,r,i,o){var a=i/2,s=o/2,l=n.getCutRectangleCornerLength();e.beginPath&&e.beginPath(),e.moveTo(t-a+l,r-s),e.lineTo(t+a-l,r-s),e.lineTo(t+a,r-s+l),e.lineTo(t+a,r+s-l),e.lineTo(t+a-l,r+s),e.lineTo(t-a+l,r+s),e.lineTo(t-a,r+s-l),e.lineTo(t-a,r-s+l),e.closePath()},i.drawBarrelPath=function(e,t,r,i,o){var a=i/2,s=o/2,l=t-a,u=t+a,c=r-s,h=r+s,d=n.getBarrelCurveConstants(i,o),p=d.widthOffset,f=d.heightOffset,g=d.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(l,c+f),e.lineTo(l,h-f),e.quadraticCurveTo(l+g,h,l+p,h),e.lineTo(u-p,h),e.quadraticCurveTo(u-g,h,u,h-f),e.lineTo(u,c+f),e.quadraticCurveTo(u-g,c,u-p,c),e.lineTo(l+p,c),e.quadraticCurveTo(l+g,c,l,c+f),e.closePath()};for(var o=Math.sin(0),a=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u)s[c]=Math.sin(c),l[c]=Math.cos(c);i.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var c,h,d=n/2,p=i/2,f=0*Math.PI;f<2*Math.PI;f+=u)c=t-d*s[f]*o+d*l[f]*a,h=r+p*l[f]*o+p*s[f]*a,0===f?e.moveTo(c,h):e.lineTo(c,h);e.closePath()},e.exports=i},function(e,t,r){"use strict";var n=r(2),i=r(1),o=r(8),a=r(16),s={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},l=function(e){var t=this;t.renderer=e,t.onDequeues=[],t.setupDequeueing()},u=l.prototype;u.reasons=s,u.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},u.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{};return r[e]=r[e]||[]},u.getElementQueue=function(){var e=this;return e.eleCacheQueue=e.eleCacheQueue||new o(function(e,t){return t.reqs-e.reqs})},u.getElementIdToQueue=function(){var e=this;return e.eleIdToCacheQueue=e.eleIdToCacheQueue||{}},u.getElement=function(e,t,r,i,o){var a=this,l=this.renderer,u=e._private.rscratch,c=l.cy.zoom();if(0===t.w||0===t.h||!e.visible())return null;if(null==i&&(i=Math.ceil(n.log2(c*r))),i<-4)i=-4;else if(c>=3.99||i>2)return null;var h=Math.pow(2,i),d=t.h*h,p=t.w*h,f=u.imgCaches=u.imgCaches||{},g=f[i];if(g)return g;var v;if(v=d<=25?25:d<=50?50:50*Math.ceil(d/50),d>1024||p>1024||e.isEdge()||e.isParent())return null;var y=a.getTextureQueue(v),m=y[y.length-2],b=function(){return a.recycleTexture(v,p)||a.addTexture(v,p)};m||(m=y[y.length-1]),m||(m=b()),m.width-m.usedWidth<p&&(m=b());for(var x,w=l.eleTextBiggerThanMin(e,h),E=function(e){return e&&e.scaledLabelShown===w},T=o&&o===s.dequeue,_=o&&o===s.highQuality,D=o&&o===s.downscale,C=i+1;C<=2;C++){var N=f[C];if(N){x=N;break}}var L=x&&x.level===i+1?x:null,P=function(){m.context.drawImage(L.texture.canvas,L.x,0,L.width,L.height,m.usedWidth,0,p,d)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,p,v),E(L))P();else if(E(x)){if(!_)return a.queueElement(e,t,x.level-1),x;for(var C=x.level;C>i;C--)L=a.getElement(e,t,r,C,s.downscale);P()}else{var S;if(!T&&!_&&!D)for(var C=i-1;C>=-4;C--){var N=f[C];if(N){S=N;break}}if(E(S))return a.queueElement(e,t,i),S;m.context.translate(m.usedWidth,0),m.context.scale(h,h),l.drawElement(m.context,e,t,w),m.context.scale(1/h,1/h),m.context.translate(-m.usedWidth,0)}return g=f[i]={ele:e,x:m.usedWidth,texture:m,level:i,scale:h,width:p,height:d,scaledLabelShown:w},m.usedWidth+=Math.ceil(p+8),m.eleCaches.push(g),a.checkTextureFullness(m),g},u.invalidateElement=function(e){var t=this,r=e._private.rscratch.imgCaches;if(r)for(var n=-4;n<=2;n++){var o=r[n];if(o){var a=o.texture;a.invalidatedWidth+=o.width,r[n]=null,i.removeFromArray(a.eleCaches,o),t.checkTextureUtility(a)}}},u.checkTextureUtility=function(e){e.invalidatedWidth>=.5*e.width&&this.retireTexture(e)},u.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?i.removeFromArray(r,e):e.fullnessChecks++},u.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r);i.removeFromArray(n,e),e.retired=!0;for(var o=e.eleCaches,a=0;a<o.length;a++){var s=o[a],l=s.ele,u=s.level,c=l._private.rscratch.imgCaches;c&&(c[u]=null)}i.clearArray(o),t.getRetiredTextureQueue(r).push(e)},u.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),i={};return n.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(1024,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=document.createElement("canvas"),i.canvas.width=i.width,i.canvas.height=i.height,i.context=i.canvas.getContext("2d"),i},u.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),o=r.getRetiredTextureQueue(e),a=0;a<o.length;a++){var s=o[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,i.clearArray(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),i.removeFromArray(o,s),n.push(s),s}},u.queueElement=function(e,t,r){var i=this,o=i.getElementQueue(),a=i.getElementIdToQueue(),s=e.id(),l=a[s];if(l)l.level=Math.max(l.level,r),l.reqs++,o.updateItem(l);else{var u={ele:e,bb:t,position:n.copyPosition(e.position()),level:r,reqs:1};e.isEdge()&&(u.positions={source:n.copyPosition(e.source().position()),target:n.copyPosition(e.target().position())}),o.push(u),a[s]=u}},u.dequeue=function(e){for(var t=this,r=t.getElementQueue(),i=t.getElementIdToQueue(),o=[],a=0;a<1&&r.size()>0;a++){var l=r.pop();i[l.ele.id()]=null,o.push(l);var u,c=l.ele;u=(!c.isEdge()||n.arePositionsSame(c.source().position(),l.positions.source)&&n.arePositionsSame(c.target().position(),l.positions.target))&&n.arePositionsSame(c.position(),l.position)?l.bb:c.boundingBox(),t.getElement(l.ele,u,e,l.level,s.dequeue)}return o},u.onDequeue=function(e){this.onDequeues.push(e)},u.offDequeue=function(e){i.removeFromArray(this.onDequeues,e)},u.setupDequeueing=a.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++){(0,e.onDequeues[r])(t)}},shouldRedraw:function(e,t,r,i){for(var o=0;o<t.length;o++){if(n.boundingBoxesIntersect(t[o].bb,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),e.exports=l},function(e,t,r){"use strict";function n(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return new Blob([n],{type:t})}function i(e){return e.substr(e.indexOf(",")+1)}function o(e,t,r){var o=t.toDataURL(r,e.quality);switch(e.output){case"blob":return n(i(o),r);case"base64":return i(o);case"base64uri":default:return o}}var a=r(0),s={};s.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},s.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),i=this.findContainerClientCoords(),o=e.full?Math.ceil(n.w):i[2],s=e.full?Math.ceil(n.h):i[3],l=a.number(e.maxWidth)||a.number(e.maxHeight),u=this.getPixelRatio(),c=1;if(void 0!==e.scale)o*=e.scale,s*=e.scale,c=e.scale;else if(l){var h=1/0,d=1/0;a.number(e.maxWidth)&&(h=c*e.maxWidth/o),a.number(e.maxHeight)&&(d=c*e.maxHeight/s),c=Math.min(h,d),o*=c,s*=c}l||(o*=u,s*=u,c*=u);var p=document.createElement("canvas");p.width=o,p.height=s,p.style.width=o+"px",p.style.height=s+"px";var f=p.getContext("2d");if(o>0&&s>0){f.clearRect(0,0,o,s),f.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(e.full)f.translate(-n.x1*c,-n.y1*c),f.scale(c,c),this.drawElements(f,g),f.scale(1/c,1/c),f.translate(n.x1*c,n.y1*c);else{var v=t.pan(),y={x:v.x*c,y:v.y*c};c*=t.zoom(),f.translate(y.x,y.y),f.scale(c,c),this.drawElements(f,g),f.scale(1/c,1/c),f.translate(-y.x,-y.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,o,s),f.fill())}return p},s.png=function(e){return o(e,this.bufferCanvasImage(e),"image/png")},s.jpg=function(e){return o(e,this.bufferCanvasImage(e),"image/jpeg")},e.exports=s},function(e,t,r){"use strict";function n(e){var t=this;t.data={canvases:new Array(u.CANVAS_LAYERS),contexts:new Array(u.CANVAS_LAYERS),canvasNeedsRedraw:new Array(u.CANVAS_LAYERS),bufferCanvases:new Array(u.BUFFER_COUNT),bufferContexts:new Array(u.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color: rgba(0,0,0,0);";t.data.canvasContainer=document.createElement("div");var n=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style",r),n.position="relative",n.zIndex="0",n.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),(i.getAttribute("style")||"").indexOf(r)<0&&i.setAttribute("style",(i.getAttribute("style")||"")+r);for(var l=0;l<u.CANVAS_LAYERS;l++){var c=t.data.canvases[l]=document.createElement("canvas");t.data.contexts[l]=c.getContext("2d"),c.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(o.ms()?" -ms-touch-action: none; touch-action: none; ":"")),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(u.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[u.NODE].setAttribute("data-id","layer"+u.NODE+"-node"),t.data.canvases[u.SELECT_BOX].setAttribute("data-id","layer"+u.SELECT_BOX+"-selectbox"),t.data.canvases[u.DRAG].setAttribute("data-id","layer"+u.DRAG+"-drag");for(var l=0;l<u.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=document.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0,t.data.eleTxrCache=new a(t),t.data.lyrTxrCache=new s(t,t.data.eleTxrCache),t.onUpdateEleCalcs(function(e,r){for(var n=0;n<r.length;n++){var i=r[n],o=i._private.rstyle,a=o.dirtyEvents;i.isNode()&&a&&1===a.length&&a.position||t.data.eleTxrCache.invalidateElement(i)}r.length>0&&t.data.lyrTxrCache.invalidateElements(r)})}var i=r(1),o=r(0),a=r(109),s=r(112),l=n,u=n.prototype;u.CANVAS_LAYERS=3,u.SELECT_BOX=0,u.DRAG=1,u.NODE=2,u.BUFFER_COUNT=3,u.TEXTURE_BUFFER=0,u.MOTIONBLUR_BUFFER_NODE=1,u.MOTIONBLUR_BUFFER_DRAG=2,u.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[u.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[u.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[u.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;u.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},u.usePaths=function(){return c&&this.pathsEnabled},[r(101),r(103),r(102),r(104),r(105),r(106),r(107),r(108),r(110),r(113)].forEach(function(e){i.extend(u,e)}),e.exports=l},function(e,t,r){"use strict";function n(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}var i=r(1),o=r(2),a=r(8),s=r(0),l=r(16),u=function(e,t){var r=this,n=r.renderer=e;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=i.performanceNow()-500,r.skipping=!1,n.beforeRender(function(e,t){r.skipping=t-r.lastInvalidationTime<=250}),r.layersQueue=new a(function(e,t){return t.reqs-e.reqs}),r.eleTxrCache=t,r.setupEleCacheInvalidation(),r.setupDequeueing()},c=u.prototype,h=0,d=Math.pow(2,53)-1;c.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),o=document.createElement("canvas");o.width=n,o.height=i;var a={id:h=++h%d,bb:e,level:t,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(r,r),s.translate(l,u),a},c.getLayers=function(e,t,r){var n=this,a=n.renderer,s=a.cy,l=s.zoom(),u=n.firstGet;if(n.firstGet=!1,null==r)if((r=Math.ceil(o.log2(l*t)))<-4)r=-4;else if(l>=3.99||r>2)return null;n.validateLayersElesOrdering(r,e);var c,h,d=n.layersByLevel,p=Math.pow(2,r),f=d[r]=d[r]||[],g=n.levelIsComplete(r,e);if(g)return f;!function(){var t=function(t){if(n.validateLayersElesOrdering(t,e),n.levelIsComplete(t,e))return h=d[t],!0},o=function(e){if(!h)for(var n=r+e;-4<=n&&n<=2&&!t(n);n+=e);};o(1),o(-1);for(var a=f.length-1;a>=0;a--){var s=f[a];s.invalid&&i.removeFromArray(f,s)}}();var v=function(){if(!c){c=o.makeBoundingBox();for(var t=0;t<e.length;t++)o.updateBoundingBox(c,e[t].boundingBox())}return c};if(n.skipping&&!u)return null;for(var y=null,m=e.length/1,b=!u,x=0;x<e.length;x++){var w=e[x],E=w._private.rscratch,T=E.imgLayerCaches=E.imgLayerCaches||{},_=T[r];if(_)y=_;else{if((!y||y.eles.length>=m||!o.boundingBoxInBoundingBox(y.bb,w.boundingBox()))&&!(y=function(e){e=e||{};var t=e.after;if(v(),c.w*p*(c.h*p)>16e6)return null;var i=n.makeLayer(c,r);if(null!=t){var o=f.indexOf(t)+1;f.splice(o,0,i)}else(void 0===e.insert||e.insert)&&f.unshift(i);return i}({insert:!0,after:y})))return null;h||b?n.queueLayer(y,w):n.drawEleInLayer(y,w,r,t),y.eles.push(w),T[r]=y}}return h||(b?null:f)},c.getEleLevelForLayerLevel=function(e){return e},c.drawEleInLayer=function(e,t,r,i){var o=this,a=this.renderer,s=e.context,l=t.boundingBox();if(0!==l.w&&0!==l.h&&t.visible()){var u=o.eleTxrCache,c=u.reasons.highQuality;r=o.getEleLevelForLayerLevel(r,i);var h=u.getElement(t,l,null,r,c);h?(n(s,!1),s.drawImage(h.texture.canvas,h.x,0,h.width,h.height,l.x1,l.y1,l.w,l.h),n(s,!0)):a.drawElement(s,t)}},c.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||0===n.length)return!1;for(var i=0,o=0;o<n.length;o++){var a=n[o];if(a.reqs>0)return!1;if(a.invalid)return!1;i+=a.eles.length}return i===t.length},c.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],o=-1,a=0;a<t.length;a++)if(i.eles[0]===t[a]){o=a;break}if(o<0)this.invalidateLayer(i);else for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==t[s+a]){this.invalidateLayer(i);break}}},c.updateElementsInLayers=function(e,t){for(var r=this,n=s.element(e[0]),i=0;i<e.length;i++)for(var o=n?null:e[i],a=n?e[i]:e[i].ele,l=a._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=-4;c<=2;c++){var h=u[c];h&&(o&&r.getEleLevelForLayerLevel(h.level)!==o.level||t(h,a,o))}},c.haveLayers=function(){for(var e=this,t=!1,r=-4;r<=2;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t},c.invalidateElements=function(e){var t=this;t.lastInvalidationTime=i.performanceNow(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e){t.invalidateLayer(e)})},c.invalidateLayer=function(e){if(this.lastInvalidationTime=i.performanceNow(),!e.invalid){var t=e.level,r=e.eles;i.removeFromArray(this.layersByLevel[t],e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var n=0;n<r.length;n++){var o=r[n]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},c.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e){var r=e.replacement;if(r||(r=e.replacement=t.makeLayer(e.bb,e.level),r.replaces=e,r.eles=e.eles),!r.reqs)for(var n=0;n<r.eles.length;n++)t.queueLayer(r,r.eles[n])})},c.setupEleCacheInvalidation=function(){var e=this,t=[],r=i.debounce(function(){e.refineElementTextures(t),t=[]},50);e.eleTxrCache.onDequeue(function(e){for(var n=0;n<e.length;n++)t.push(e[n]);r()})},c.queueLayer=function(e,t){var r=this,n=r.layersQueue,i=e.elesQueue,o=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;i.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},c.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<1&&0!==r.size();){var o=r.peek();if(o.replacement)r.pop();else if(o.replaces&&o!==o.replaces.replacement)r.pop();else if(o.invalid)r.pop();else{var a=o.elesQueue.shift();a&&(t.drawEleInLayer(o,a,o.level,e),i++),0===n.length&&n.push(!0),0===o.elesQueue.length&&(r.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}}return n},c.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,i=r.indexOf(n);if(!(i<0||n.invalid)){r[i]=e;for(var o=0;o<e.eles.length;o++){var a=e.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}},c.requestRedraw=i.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),c.setupDequeueing=l.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:i.noop,shouldRedraw:i.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),e.exports=u},function(e){"use strict";var t={};t.nodeShapeImpl=function(e,t,r,n,i,o,a){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,o);case"polygon":return this.drawPolygonPath(t,r,n,i,o,a);case"roundrectangle":return this.drawRoundRectanglePath(t,r,n,i,o);case"cutrectangle":return this.drawCutRectanglePath(t,r,n,i,o);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,o);case"barrel":return this.drawBarrelPath(t,r,n,i,o)}},e.exports=t},function(e,t,r){"use strict";e.exports=[{name:"null",impl:r(115)},{name:"base",impl:r(97)},{name:"canvas",impl:r(111)}]},function(e){"use strict";function t(e){this.options=e,this.notifications=0}var r=function(){};t.prototype={recalculateRenderedStyle:r,notify:function(){this.notifications++},init:r},e.exports=t},function(e,t,r){"use strict";var n=r(0),i=r(12),o=r(20),a=r(21),s=function(e){return void 0===e&&(e={}),n.plainObject(e)?new i(e):n.string(e)?o.apply(o,arguments):void 0};s.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(s),e.apply(null,t),this},s.version=r(22),s.stylesheet=s.Stylesheet=a,e.exports=s},function(e){"use strict";function t(){this._obj={}}var r=t.prototype;r.set=function(e,t){this._obj[e]=t},r.delete=function(e){this._obj[e]=null},r.has=function(e){return null!=this._obj[e]},r.get=function(e){return this._obj[e]},e.exports=t},function(e,t,r){"use strict";var n=function(){function e(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(17),o=i.stateSelectorRegex,a=r(121),s=r(1),l=r(11),u=function(e){return e.replace(new RegExp("\\\\("+a.metaChar+")","g"),function(e,t){return t})},c=function(e,t,r){t===e[e.length-1]&&(e[e.length-1]=r)},h=[{name:"group",query:!0,regex:"("+a.group+")",populate:function(e,t,r){var i=n(r,1),o=i[0];t.group="*"===o?o:o+"s"}},{name:"state",query:!0,regex:o,populate:function(e,t,r){t.colonSelectors.push(n(r,1)[0])}},{name:"id",query:!0,regex:"\\#("+a.id+")",populate:function(e,t,r){var i=n(r,1);t.ids.push(u(i[0]))}},{name:"className",query:!0,regex:"\\.("+a.className+")",populate:function(e,t,r){var i=n(r,1);t.classes.push(u(i[0]))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+a.variable+")\\s*\\]",populate:function(e,t,r){var i=n(r,1);t.data.push({field:u(i[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+a.variable+")\\s*("+a.comparatorOp+")\\s*("+a.value+")\\s*\\]",populate:function(e,t,r){var i=n(r,3),o=i[0],s=i[1],l=i[2];l=null!=new RegExp("^"+a.string+"$").exec(l)?l.substring(1,l.length-1):parseFloat(l),t.data.push({field:u(o),operator:s,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+a.boolOp+")\\s*("+a.variable+")\\s*\\]",populate:function(e,t,r){var i=n(r,2),o=i[0];t.data.push({field:u(i[1]),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+a.meta+")\\s*("+a.comparatorOp+")\\s*("+a.number+")\\s*\\]\\]",populate:function(e,t,r){var i=n(r,3),o=i[0],a=i[1],s=i[2];t.meta.push({field:u(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:a.separator,populate:function(e){var t=e[e.length++]=l();return e.currentSubject=null,t}},{name:"directedEdge",separator:!0,regex:a.directedEdge,populate:function(e,t){var r=l(),n=t,i=l();return r.group="edges",r.target=i,r.source=n,r.subject=e.currentSubject,c(e,t,r),i}},{name:"undirectedEdge",separator:!0,regex:a.undirectedEdge,populate:function(e,t){var r=l(),n=t,i=l();return r.group="edges",r.connectedNodes=[n,i],r.subject=e.currentSubject,c(e,t,r),i}},{name:"child",separator:!0,regex:a.child,populate:function(e,t){var r=l();return r.parent=t,r.subject=e.currentSubject,c(e,t,r),r}},{name:"descendant",separator:!0,regex:a.descendant,populate:function(e,t){var r=l();return r.ancestor=t,r.subject=e.currentSubject,c(e,t,r),r}},{name:"subject",modifier:!0,regex:a.subject,populate:function(e,t){if(null!=e.currentSubject&&t.subject!=t)return s.error("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t,t.subject=t,e[e.length-1].subject=t}}];h.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),e.exports=h},function(e,t,r){"use strict";var n=r(17),i=n.stateSelectorMatches,o=r(0),a=function(e,t){for(var r=!0,n=0;n<e[t.name].length;n++){var i=e[t.name][n],a=i.operator,s=i.value,l=i.field,u=void 0,c=t.fieldValue(l);if(null!=a&&null!=s){var h=o.string(c)||o.number(c)?""+c:"",d=""+s,p=!1;a.indexOf("@")>=0&&(h=h.toLowerCase(),d=d.toLowerCase(),a=a.replace("@",""),p=!0);var f=!1;a.indexOf("!")>=0&&(a=a.replace("!",""),f=!0),p&&(s=d.toLowerCase(),c=h.toLowerCase());var g=!1;switch(a){case"*=":u=h.indexOf(d)>=0;break;case"$=":u=h.indexOf(d,h.length-d.length)>=0;break;case"^=":u=0===h.indexOf(d);break;case"=":u=c===s;break;case">":g=!0,u=c>s;break;case">=":g=!0,u=c>=s;break;case"<":g=!0,u=c<s;break;case"<=":g=!0,u=c<=s;break;default:u=!1}!f||null==c&&g||(u=!u)}else if(null!=a)switch(a){case"?":u=!!c;break;case"!":u=!c;break;case"^":u=void 0===c}else u=void 0!==c;if(!u){r=!1;break}}return r},s=function(e,t,r){if(null!=e){var n=!1;if(!t)return!1;r=r();for(var i=0;i<r.length;i++)if(l(e,r[i])){n=!0;break}return n}return!0},l=function(e,t){if(e.groupOnly)return"*"===e.group||e.group===t.group();if(null!=e.group&&"*"!=e.group&&e.group!=t.group())return!1;var r=t.cy(),n=void 0,o=!0;for(n=0;n<e.colonSelectors.length;n++){if(!(o=i(e.colonSelectors[n],t)))break}if(!o)return!1;var l=!0;for(n=0;n<e.ids.length;n++){var u=e.ids[n],c=t.id();if(!(l=l&&u==c))break}if(!l)return!1;var h=!0;for(n=0;n<e.classes.length;n++){var d=e.classes[n];if(!(h=h&&t.hasClass(d)))break}if(!h)return!1;if(!a(e,{name:"data",fieldValue:function(e){return t.data(e)}}))return!1;if(!a(e,{name:"meta",fieldValue:function(e){return t[e]()}}))return!1;if(null!=e.collection){if(!e.collection.hasElementWithId(t.id()))return!1}if(null!=e.filter&&t.collection().some(e.filter))return!1;var p=r.hasCompoundNodes(),f=function(){return t.source()},g=function(){return t.target()};if(!s(e.parent,p,function(){return t.parent()}))return!1;if(!s(e.ancestor,p,function(){return t.parents()}))return!1;if(!s(e.child,p,function(){return t.children()}))return!1;if(!s(e.descendant,p,function(){return t.descendants()}))return!1;if(!s(e.source,!0,f))return!1;if(!s(e.target,!0,g))return!1;if(e.connectedNodes){var v=e.connectedNodes[0],y=e.connectedNodes[1];if(s(v,!0,f)&&s(y,!0,g));else if(!s(v,!0,g)||!s(y,!0,f))return!1}return!0},u=function(e){var t=this,r=e.cy();if(t.invalid())return r.collection();if(1===t.length&&1===t[0].length&&1===t[0].ids.length)return e.getElementById(t[0].ids[0]).collection();var n=function(e){for(var r=0;r<t.length;r++){if(l(t[r],e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)};e.exports={matches:function(e){var t=this;if(t.invalid())return!1;for(var r=0;r<t.length;r++){if(l(t[r],e))return!0}return!1},filter:u}},function(e,t,r){"use strict";var n=r(1),i=r(118),o=r(11),a=function(e){for(var t=void 0,r=void 0,n=void 0,o=0;o<i.length;o++){var a=i[o],s=a.name,l=e.match(a.regexObj);if(null!=l){r=l,t=a,n=s;e=e.substring(l[0].length);break}}return{expr:t,match:r,name:n,remaining:e}},s=function(e){var t=e.match(/^\s+/);if(t){e=e.substring(t[0].length)}return e};e.exports={parse:function(e){var t=this,r=t._private.selectorText=e,i=t[0]=o();for(t.length=1,r=s(r);;){var l=a(r);if(null==l.expr)return n.error("The selector `"+e+"`is invalid"),!1;var u=l.match.slice(1),c=l.expr.populate(t,i,u);if(!1===c)return!1;if(null!=c&&(i=c),r=l.remaining,r.match(/^\s*$/))break}for(var h=0;h<t.length;h++){var d=t[h];if(null!=d.subject){for(;d.subject!==d;)if(null!=d.parent){var p=d.parent,f=d;f.parent=null,p.child=f,d=p}else{if(null==d.ancestor)return d.source||d.target||d.connectedNodes?(n.error("The selector `"+t.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"),!1):(n.error("When adjusting references for the selector `"+t.text()+"`, neither parent nor ancestor was found"),!1);var g=d.ancestor,v=d;v.ancestor=null,g.descendant=v,d=g}t[h]=d.subject}}return!0}}},function(e,t,r){"use strict";var n=r(1),i={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:n.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};i.variable="(?:[\\w-]|(?:\\\\"+i.metaChar+"))+",i.value=i.string+"|"+i.number,i.className=i.variable,i.id=i.variable,function(){var e=void 0,t=void 0,r=void 0;for(e=i.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],i.comparatorOp+="|@"+t;for(e=i.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],t.indexOf("!")>=0||"="!==t&&(i.comparatorOp+="|\\!"+t)}(),e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(0),o=r(5),a={};a.apply=function(e){var t=this,r=t._private,n=r.cy,i=n.collection();r.newStyle&&(r.contextStyles={},r.propDiffs={},t.cleanElements(e,!0));for(var o=0;o<e.length;o++){var a=e[o],s=t.getContextMeta(a);if(!s.empty){i.merge(a);var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,a);r.newStyle||t.updateTransitions(a,u.diffProps),t.updateStyleHints(a)}}return r.newStyle=!1,i},a.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,o=n[i];if(o)return o;for(var a=[],s={},l=0;l<r.length;l++){var u=r[l],c="t"===e[l],h="t"===t[l],d=c!==h,p=u.mappedProperties.length>0;if(d||p){var f=void 0;d&&p?f=u.properties:d?f=u.properties:p&&(f=u.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],y=v.name,m=!1,b=l+1;b<r.length;b++){var x=r[b];if("t"===t[b]&&(m=null!=x.properties[v.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return n[i]=a,a},a.getContextMeta=function(e){var t=this,r="",n=void 0,i=e._private.styleCxtKey||"";t._private.newStyle&&(i="");for(var o=0;o<t.length;o++){var a=t[o];r+=a.selector&&a.selector.matches(e)?"t":"f"}return n=t.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:0===n.length}},a.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},o=0;o<r.length;o++){var a=r[o];if("t"===t[o])for(var s=0;s<a.properties.length;s++){var l=a.properties[s];i[l.name]=l}}return n[t]=i,i},a.applyContextStyle=function(e,t,r){for(var n=this,i=e.diffPropNames,o={},a=0;a<i.length;a++){var s=i[a],l=t[s],u=r.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){var c=o[s]={prev:u};n.applyParsedProperty(r,l),c.next=r.pstyle(s),c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:o}},a.updateStyleHints=function(e){var t=e._private,r=this;if(!e.removed()){var n=!1;if("nodes"===t.group)for(var i=1;i<=r.pieBackgroundN;i++){var o=e.pstyle("pie-"+i+"-background-size").value;if(o>0){n=!0;break}}t.hasPie=n;var a=e.pstyle("text-transform").strValue,s=e.pstyle("label").strValue,l=e.pstyle("source-label").strValue,u=e.pstyle("target-label").strValue,c=e.pstyle("font-style").strValue,h=e.pstyle("font-size").pfValue+"px",d=e.pstyle("font-family").strValue,p=e.pstyle("font-weight").strValue,f=e.pstyle("text-valign").strValue,g=e.pstyle("text-valign").strValue,v=e.pstyle("text-outline-width").pfValue,y=e.pstyle("text-wrap").strValue,m=e.pstyle("text-max-width").pfValue,b=c+"$"+h+"$"+d+"$"+p+"$"+a+"$"+f+"$"+g+"$"+v+"$"+y+"$"+m;t.labelStyleKey=b,t.sourceLabelKey=b+"$"+l,t.targetLabelKey=b+"$"+u,t.labelKey=b+"$"+s,t.fontKey=c+"$"+p+"$"+h+"$"+d,t.styleKey=Date.now()}},a.applyParsedProperty=function(e,t){var r=this,o=t,a=e._private.style,s=void 0,l=r.types,u=r.properties[o.name].type,c=o.bypass,h=a[o.name],d=h&&h.bypass,p=e._private,f=function(){r.checkZOrderTrigger(e,o.name,h?h.value:null,o.value)};if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(o=t=this.parse(t.name,"bezier",c)),o.delete)return a[o.name]=void 0,f(),!0;if(o.deleteBypassed)return h?!!h.bypass&&(h.bypassed=void 0,f(),!0):(f(),!0);if(o.deleteBypass)return h?!!h.bypass&&(a[o.name]=h.bypassed,f(),!0):(f(),!0);var g=function(){n.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case l.mapData:for(var v=o.field.split("."),y=p.data,m=0;m<v.length&&y;m++){y=y[v[m]]}var b=void 0;if(b=i.number(y)?(y-o.fieldMin)/(o.fieldMax-o.fieldMin):0,b<0?b=0:b>1&&(b=1),u.color){var x=o.valueMin[0],w=o.valueMax[0],E=o.valueMin[1],T=o.valueMax[1],_=o.valueMin[2],D=o.valueMax[2],C=null==o.valueMin[3]?1:o.valueMin[3],N=null==o.valueMax[3]?1:o.valueMax[3],L=[Math.round(x+(w-x)*b),Math.round(E+(T-E)*b),Math.round(_+(D-_)*b),Math.round(C+(N-C)*b)];s={bypass:o.bypass,name:o.name,value:L,strValue:"rgb("+L[0]+", "+L[1]+", "+L[2]+")"}}else{if(!u.number)return!1;s=this.parse(o.name,o.valueMin+(o.valueMax-o.valueMin)*b,o.bypass,"mapping")}s||(s=this.parse(o.name,h.strValue,o.bypass,"mapping")),s||g(),s.mapping=o,o=s;break;case l.data:var P=o.field.split("."),S=p.data;if(S)for(var A=0;A<P.length;A++){var I=P[A];S=S[I]}if(!(s=this.parse(o.name,S,o.bypass,"mapping"))){s=this.parse(o.name,h?h.strValue:"",o.bypass,"mapping")}s||g(),s.mapping=o,o=s;break;case l.fn:var M=o.value,O=M(e);s=this.parse(o.name,O,o.bypass,"mapping"),s.mapping=o,o=s;break;case void 0:break;default:return!1}return c?(o.bypassed=d?h.bypassed:h,a[o.name]=o):d?h.bypassed=o:a[o.name]=o,f(),!0},a.cleanElements=function(e,t){for(var r=this,n=r.properties,i=0;i<e.length;i++){var o=e[i];if(t)for(var a=o._private.style,s=0;s<n.length;s++){var l=n[s],u=a[l.name];u&&(u.bypass?u.bypassed=null:a[l.name]=null)}else o._private.style={}}},a.update=function(){this._private.cy.mutableElements().updateStyle()},a.updateMappers=function(e){for(var t=this,r=this._private.cy,n=r.collection(),i=0;i<e.length;i++){for(var o=e[i],a=o._private.style,s=!1,l=0;l<t.properties.length;l++){var u=t.properties[l],c=a[u.name];if(c&&c.mapping){this.applyParsedProperty(o,c.mapping),s=!0}}s&&(this.updateStyleHints(o),n.merge(o))}return n},a.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,l=e.pstyle("transition-delay").pfValue;if(a.length>0&&s>0){for(var u={},c=!1,h=0;h<a.length;h++){var d=a[h],p=e.pstyle(d),f=t[d];if(f){var g=f.prev,v=g,y=null!=f.next?f.next:p,m=!1,b=void 0;v&&(i.number(v.pfValue)&&i.number(y.pfValue)?(m=y.pfValue-v.pfValue,b=v.pfValue+1e-6*m):i.number(v.value)&&i.number(y.value)?(m=y.value-v.value,b=v.value+1e-6*m):i.array(v.value)&&i.array(y.value)&&(m=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],b=v.strValue),m&&(u[d]=y.strValue,this.applyBypass(e,d,b),c=!0))}}if(!c)return;n.transitioning=!0,new o(function(t){l>0?e.delayAnimation(l).play().promise().then(t):t()}).then(function(){return e.animation({style:u,duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)},a.checkZOrderTrigger=function(e,t,r,n){var i=this.properties[t];null==i.triggersZOrder||null!=r&&!i.triggersZOrder(r,n)||this._private.cy.notify({type:"zorder",eles:e})},e.exports=a},function(e,t,r){"use strict";var n=r(0),i=r(1),o={};o.applyBypass=function(e,t,r,o){var a=this,s=[];if("*"===t||"**"===t){if(void 0!==r)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=u.name,h=this.parse(c,r,!0);h&&s.push(h)}}else if(n.string(t)){var d=this.parse(t,r,!0);d&&s.push(d)}else{if(!n.plainObject(t))return!1;var p=t;o=r;for(var f=Object.keys(p),g=0;g<f.length;g++){var v=f[g],y=p[v];if(void 0===y&&(y=p[i.dash2camel(v)]),void 0!==y){var m=this.parse(v,y,!0);m&&s.push(m)}}}if(0===s.length)return!1;for(var b=!1,x=0;x<e.length;x++){for(var w=e[x],E={},T=void 0,_=0;_<s.length;_++){var D=s[_];if(o){T=E[D.name]={prev:w.pstyle(D.name)}}b=this.applyParsedProperty(w,D)||b,o&&(T.next=w.pstyle(D.name))}b&&this.updateStyleHints(w),o&&this.updateTransitions(w,E,!0)}return b},o.overrideBypass=function(e,t,r){t=i.camel2dash(t);for(var n=0;n<e.length;n++){var o=e[n],a=o._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple;if(a&&a.bypass){var c=null!=a.pfValue?a.pfValue:a.value;a.value=r,null!=a.pfValue&&(a.pfValue=r),a.strValue=l?"rgb("+r.join(",")+")":u?r.join(" "):""+r,this.checkZOrderTrigger(o,t,c,r)}else this.applyBypass(o,t,r)}},o.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},o.removeBypasses=function(e,t,r){for(var n=0;n<e.length;n++){for(var i=e[n],o={},a=0;a<t.length;a++){var s=t[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=o[l.name]={prev:u};this.applyParsedProperty(i,c),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,!0)}},e.exports=o},function(e,t,r){"use strict";var n=r(4),i={};i.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},i.containerCss=function(e){var t=this._private.cy,r=t.container();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)},e.exports=i},function(e,t,r){"use strict";var n=r(1),i=r(0),o={};o.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},o.getRawStyle=function(e,t){var r=this;if(e=e[0]){for(var i={},o=0;o<r.properties.length;o++){var a=r.properties[o],s=r.getStylePropertyValue(e,a.name,t);null!=s&&(i[a.name]=s,i[n.dash2camel(a.name)]=s)}return i}},o.getIndexedStyle=function(e,t,r,n){var i=e.pstyle(t)[r][n];return null!=i?i:e.cy().style().getDefaultProperty(t)[r][0]},o.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0]){var i=n.properties[t];i.alias&&(i=i.pointsTo);var o=i.type,a=e.pstyle(i.name),s=e.cy().zoom();if(a){var l=a.units?o.implicitUnits||"px":null;return l?[].concat(a.pfValue).map(function(e){return e*(r?s:1)+l}).join(" "):a.strValue}}},o.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var o=t[n],a=o.name,s=e.pstyle(a);void 0!==s&&(s=i.plainObject(s)?this.parse(a,s.strValue):this.parse(a,s)),s&&(r[a]=s)}return r},o.getPropsList=function(e){var t=this,r=[],i=e,o=t.properties;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s],u=i[l],c=o[l]||o[n.camel2dash(l)],h=this.parse(c.name,u);h&&r.push(h)}return r},e.exports=o},function(e){"use strict";var t={};t.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,o=n.style||n.css,a=Object.keys(o);t.selector(i);for(var s=0;s<a.length;s++){var l=a[s];t.css(l,o[l])}}return t},t.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},t.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:o})}return e},e.exports=t},function(e,t,r){"use strict";var n=r(1),i=r(0),o=r(2),a={};a.parse=function(e,t,r,o){var a=this;if(i.fn(t))return a.parseImplWarn(e,t,r,o);var s="mapping"===o||!0===o||!1===o||null==o?"dontcare":o,l=[e,t,r,s].join("$"),u=a.propCache=a.propCache||{},c=void 0;return(c=u[l])||(c=u[l]=a.parseImplWarn(e,t,r,o)),(r||"mapping"===o)&&(c=n.copy(c))&&(c.value=n.copy(c.value)),c},a.parseImplWarn=function(e,t,r,i){var o=this.parseImpl(e,t,r,i);return o||null==t||n.error("The style property `%s: %s` is invalid",e,t),o},a.parseImpl=function(e,t,r,a){var s=this;e=n.camel2dash(e);var l=s.properties[e],u=t,c=s.types;if(!l)return null;if(void 0===t||null===t)return null;l.alias&&(l=l.pointsTo,e=l.name);var h=i.string(t);h&&(t=t.trim());var d=l.type;if(!d)return null;if(r&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:r};var p=void 0,f=void 0;if(!h||a);else{if(p=new RegExp(c.data.regex).exec(t)){if(r)return!1;return{name:e,value:p,strValue:""+t,mapped:c.data,field:p[1],bypass:r}}if(f=new RegExp(c.mapData.regex).exec(t)){if(r)return!1;if(d.multiple)return!1;var g=c.mapData;if(!d.color&&!d.number)return!1;var v=this.parse(e,f[4]);if(!v||v.mapped)return!1;var y=this.parse(e,f[5]);if(!y||y.mapped)return!1;if(v.value===y.value)return!1;if(d.color){var m=v.value,b=y.value;if(!(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]&&(null!=m[3]&&1!==m[3]||null!=b[3]&&1!==b[3])))return!1}return{name:e,value:f,strValue:""+t,mapped:g,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:r}}}if(d.multiple&&"multiple"!==a){var x=void 0;if(x=h?t.split(/\s+/):i.array(t)?t:[t],d.evenMultiple&&x.length%2!=0)return null;for(var w=[],E=[],T=[],_=!1,D=0;D<x.length;D++){var C=s.parse(e,x[D],r,"multiple");_=_||i.string(C.value),w.push(C.value),T.push(null!=C.pfValue?C.pfValue:C.value),E.push(C.units)}return d.validate&&!d.validate(w,E)?null:d.singleEnum&&_?1===w.length&&i.string(w[0])?{name:e,value:w[0],strValue:w[0],bypass:r}:null:{name:e,value:w,pfValue:T,strValue:w.join(" "),bypass:r,units:E}}var N=function(){for(var n=0;n<d.enums.length;n++){if(d.enums[n]===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(d.number){var L=void 0,P="px";if(d.units&&(L=d.units),d.implicitUnits&&(P=d.implicitUnits),!d.unitless)if(h){var S="px|em"+(d.allowPercent?"|\\%":"");L&&(S=L);var A=t.match("^("+n.regex.number+")("+S+")?$");A&&(t=A[1],L=A[2]||P)}else L&&!d.implicitUnits||(L=P);if(t=parseFloat(t),isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums)return t=u,N();if(d.integer&&!i.integer(t))return null;if(void 0!==d.min&&(t<d.min||d.strictMin&&t===d.min)||void 0!==d.max&&(t>d.max||d.strictMax&&t===d.max))return null;var I={name:e,value:t,strValue:""+t+(L||""),units:L,bypass:r};return I.pfValue=d.unitless||"px"!==L&&"em"!==L?t:"px"!==L&&L?this.getEmSizeInPixels()*t:t,"ms"!==L&&"s"!==L||(I.pfValue="ms"===L?t:1e3*t),"deg"!==L&&"rad"!==L||(I.pfValue="rad"===L?t:o.deg2rad(t)),"%"===L&&(I.pfValue=t/100),I}if(d.propList){var M=[],O=""+t;if("none"===O);else{for(var R=O.split(","),k=0;k<R.length;k++){var B=R[k].trim();s.properties[B]&&M.push(B)}if(0===M.length)return null}return{name:e,value:M,strValue:0===M.length?"none":M.join(", "),bypass:r}}if(d.color){var F=n.color2tuple(t);return F?{name:e,value:F,pfValue:F,strValue:""+t,bypass:r}:null}if(d.regex||d.regexes){if(d.enums){var z=N();if(z)return z}for(var V=d.regexes?d.regexes:[d.regex],j=0;j<V.length;j++){var Y=new RegExp(V[j]),X=Y.exec(t);if(X)return{name:e,value:d.singleRegexMatchValue?X[1]:X,strValue:""+t,bypass:r}}return null}return d.string?{name:e,value:""+t,strValue:""+t,bypass:r}:d.enums?N():null},e.exports=a},function(e,t,r){"use strict";var n=r(1),i=r(0),o={};!function(){var e=n.regex.number,t=n.regex.rgbaNoBackRefs,r=n.regex.hslaNoBackRefs,a=n.regex.hex3,s=n.regex.hex6,l=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(n){var i=e+"|\\w+|"+t+"|"+r+"|"+a+"|"+s;return"^"+n+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},c=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];o.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return i.string(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var h={zeroNonZero:function(e,t){return 0===e&&0!==t||0!==e&&0===t},anyDiff:function(e,t){return e!==t}},d=h,p=o.types,f=o.properties=[{name:"label",type:p.text},{name:"text-rotation",type:p.textRotation},{name:"text-margin-x",type:p.bidirectionalSize},{name:"text-margin-y",type:p.bidirectionalSize},{name:"source-label",type:p.text},{name:"source-text-rotation",type:p.textRotation},{name:"source-text-margin-x",type:p.bidirectionalSize},{name:"source-text-margin-y",type:p.bidirectionalSize},{name:"source-text-offset",type:p.size},{name:"target-label",type:p.text},{name:"target-text-rotation",type:p.textRotation},{name:"target-text-margin-x",type:p.bidirectionalSize},{name:"target-text-margin-y",type:p.bidirectionalSize},{name:"target-text-offset",type:p.size},{name:"text-valign",type:p.valign},{name:"text-halign",type:p.halign},{name:"color",type:p.color},{name:"text-outline-color",type:p.color},{name:"text-outline-width",type:p.size},{name:"text-outline-opacity",type:p.zeroOneNumber},{name:"text-opacity",type:p.zeroOneNumber},{name:"text-background-color",type:p.color},{name:"text-background-opacity",type:p.zeroOneNumber},{name:"text-background-padding",type:p.size},{name:"text-border-opacity",type:p.zeroOneNumber},{name:"text-border-color",type:p.color},{name:"text-border-width",type:p.size},{name:"text-border-style",type:p.borderStyle},{name:"text-background-shape",type:p.textBackgroundShape},{name:"text-transform",type:p.textTransform},{name:"text-wrap",type:p.textWrap},{name:"text-max-width",type:p.size},{name:"text-events",type:p.bool},{name:"font-family",type:p.fontFamily},{name:"font-style",type:p.fontStyle},{name:"font-weight",type:p.fontWeight},{name:"font-size",type:p.size},{name:"min-zoomed-font-size",type:p.size},{name:"events",type:p.bool},{name:"display",type:p.display,triggersZOrder:d.anyDiff},{name:"visibility",type:p.visibility,triggersZOrder:d.anyDiff},{name:"opacity",type:p.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"z-compound-depth",type:p.zCompoundDepth,triggersZOrder:d.anyDiff},{name:"z-index-compare",type:p.zIndexCompare,triggersZOrder:d.anyDiff},{name:"z-index",type:p.nonNegativeInt,triggersZOrder:d.anyDiff},{name:"overlay-padding",type:p.size},{name:"overlay-color",type:p.color},{name:"overlay-opacity",type:p.zeroOneNumber},{name:"transition-property",type:p.propList},{name:"transition-duration",type:p.time},{name:"transition-delay",type:p.time},{name:"transition-timing-function",type:p.easing},{name:"height",type:p.nodeSize},{name:"width",type:p.nodeSize},{name:"shape",type:p.nodeShape},{name:"shape-polygon-points",type:p.polygonPointList},{name:"background-color",type:p.color},{name:"background-opacity",type:p.zeroOneNumber},{name:"background-blacken",type:p.nOneOneNumber},{name:"padding",type:p.sizeMaybePercent},{name:"padding-relative-to",type:p.paddingRelativeTo},{name:"border-color",type:p.color},{name:"border-opacity",type:p.zeroOneNumber},{name:"border-width",type:p.size},{name:"border-style",type:p.borderStyle},{name:"background-image",type:p.urls},{name:"background-image-crossorigin",type:p.bgCrossOrigin},{name:"background-image-opacity",type:p.zeroOneNumbers},{name:"background-position-x",type:p.bgPos},{name:"background-position-y",type:p.bgPos},{name:"background-width-relative-to",type:p.bgRelativeTo},{name:"background-height-relative-to",type:p.bgRelativeTo},{name:"background-repeat",type:p.bgRepeat},{name:"background-fit",type:p.bgFit},{name:"background-clip",type:p.bgClip},{name:"background-width",type:p.bgWH},{name:"background-height",type:p.bgWH},{name:"position",type:p.position},{name:"compound-sizing-wrt-labels",type:p.compoundIncludeLabels},{name:"min-width",type:p.size},{name:"min-width-bias-left",type:p.sizeMaybePercent},{name:"min-width-bias-right",type:p.sizeMaybePercent},{name:"min-height",type:p.size},{name:"min-height-bias-top",type:p.sizeMaybePercent},{name:"min-height-bias-bottom",type:p.sizeMaybePercent},{name:"line-style",type:p.lineStyle},{name:"line-color",type:p.color},{name:"curve-style",type:p.curveStyle},{name:"haystack-radius",type:p.zeroOneNumber},{name:"source-endpoint",type:p.edgeEndpoint},{name:"target-endpoint",type:p.edgeEndpoint},{name:"control-point-step-size",type:p.size},{name:"control-point-distances",type:p.bidirectionalSizes},{name:"control-point-weights",type:p.numbers},{name:"segment-distances",type:p.bidirectionalSizes},{name:"segment-weights",type:p.numbers},{name:"edge-distances",type:p.edgeDistances},{name:"arrow-scale",type:p.positiveNumber},{name:"loop-direction",type:p.angle},{name:"loop-sweep",type:p.angle},{name:"source-distance-from-node",type:p.size},{name:"target-distance-from-node",type:p.size},{name:"ghost",type:p.bool},{name:"ghost-offset-x",type:p.bidirectionalSize},{name:"ghost-offset-y",type:p.bidirectionalSize},{name:"ghost-opacity",type:p.zeroOneNumber},{name:"selection-box-color",type:p.color},{name:"selection-box-opacity",type:p.zeroOneNumber},{name:"selection-box-border-color",type:p.color},{name:"selection-box-border-width",type:p.size},{name:"active-bg-color",type:p.color},{name:"active-bg-opacity",type:p.zeroOneNumber},{name:"active-bg-size",type:p.size},{name:"outside-texture-bg-color",type:p.color},{name:"outside-texture-bg-opacity",type:p.zeroOneNumber}],g=o.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];o.pieBackgroundN=16,f.push({name:"pie-size",type:p.sizeMaybePercent});for(var v=1;v<=o.pieBackgroundN;v++)f.push({name:"pie-"+v+"-background-color",type:p.color}),f.push({name:"pie-"+v+"-background-size",type:p.percent}),f.push({name:"pie-"+v+"-background-opacity",type:p.zeroOneNumber});var y=o.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:p.arrowShape},{name:"arrow-color",type:p.color},{name:"arrow-fill",type:p.arrowFill}].forEach(function(e){y.forEach(function(t){f.push({name:t+"-"+e.name,type:e.type})})},{}),o.propertyNames=f.map(function(e){return e.name});for(var m=0;m<f.length;m++){var b=f[m];f[b.name]=b}for(var x=0;x<g.length;x++){var w=g[x],E=f[w.pointsTo],T={name:w.name,alias:!0,pointsTo:E};f.push(T),f[w.name]=T}}(),o.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},o.getDefaultProperties=n.memoize(function(){for(var e=n.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var r=1;r<=o.pieBackgroundN;r++){e[t.name.replace("{{i}}",r)]=t.value}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return o.arrowPrefixes.forEach(function(r){e[r+"-"+t.name]=t.value}),e},{})),t={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var a=i.name;t[a]=this.parse(a,e[a])}}return t}),o.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.exports=o},function(e,t,r){"use strict";var n=r(1),i=r(6),o={};o.appendFromString=function(e){function t(){s=s.length>l.length?s.substr(l.length):""}function r(){u=u.length>c.length?u.substr(c.length):""}var o=this,a=this,s=""+e,l=void 0,u=void 0,c=void 0;for(s=s.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){if(s.match(/^\s*$/))break;var h=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!h){n.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}l=h[0];var d=h[1];if("core"!==d){if(new i(d)._private.invalid){n.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+d),t();continue}}var p=h[2],f=!1;u=p;for(var g=[];;){if(u.match(/^\s*$/))break;var v=u.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!v){n.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}c=v[0];var y=v[1],m=v[2];if(o.properties[y]){a.parse(y,m)?(g.push({name:y,val:m}),r()):(n.error("Skipping property: Invalid property definition in: "+c),r())}else n.error("Skipping property: Invalid property name in: "+c),r()}if(f){t();break}a.selector(d);for(var b=0;b<g.length;b++){var x=g[b];a.css(x.name,x.val)}t()}return a},o.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},e.exports=o},function(e,t,r){"use strict";var n=r(0);e.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t=4===e.length,r=void 0,n=void 0,i=void 0;return t?(r=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)):(r=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16)),[r,n,i]}},hsl2tuple:function(e){function t(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var r=void 0,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if(n=parseInt(c[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(c[2]))<0||i>100)return;if(i/=100,(o=parseFloat(c[3]))<0||o>100)return;if(o/=100,void 0!==(a=c[4])&&((a=parseFloat(a))<0||a>1))return;if(0===i)s=l=u=Math.round(255*o);else{var h=o<.5?o*(1+i):o+i-o*i,d=2*o-h;s=Math.round(255*t(d,h,n+1/3)),l=Math.round(255*t(d,h,n)),u=Math.round(255*t(d,h,n-1/3))}r=[s,l,u,a]}return r},rgb2tuple:function(e){var t=void 0,r=new RegExp("^"+this.regex.rgba+"$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var o=r[i];if("%"===o[o.length-1]&&(n[i]=!0),o=parseFloat(o),n[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var a=n[1]||n[2]||n[3],s=n[1]&&n[2]&&n[3];if(a&&!s)return;var l=r[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(n.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(e,t,r){"use strict";var n=r(0);e.exports={mapEmpty:function(e){return null==e||0===Object.keys(e).length},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var a=r[o];n.plainObject(a)&&this.error("Tried to set map with object key"),o<r.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},getMap:function(e){for(var t=e.map,r=e.keys,i=r.length,o=0;o<i;o++){var a=r[o];if(n.plainObject(a)&&this.error("Tried to get map with object key"),null==(t=t[a]))return t}return t},deleteMap:function(e){for(var t=e.map,r=e.keys,i=r.length,o=e.keepChildren,a=0;a<i;a++){var s=r[a];n.plainObject(s)&&this.error("Tried to delete map with object key");if(a===e.keys.length-1)if(o)for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];o[c]||(t[c]=void 0)}else t[s]=void 0;else t=t[s]}}}},function(e){"use strict";var t="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))";e.exports={regex:{number:t,rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(e){"use strict";function t(e,t){return e<t?-1:e>t?1:0}function r(e,r){return-1*t(e,r)}e.exports={sort:{ascending:t,descending:r}}},function(e,t,r){"use strict";var n=r(19),i=r(0);e.exports={camel2dash:n(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:n(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:n(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},function(e,t,r){"use strict";var n=r(4),i=n?n.performance:null,o={},a=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(n){if(n.requestAnimationFrame)return function(e){n.requestAnimationFrame(e)};if(n.mozRequestAnimationFrame)return function(e){n.mozRequestAnimationFrame(e)};if(n.webkitRequestAnimationFrame)return function(e){n.webkitRequestAnimationFrame(e)};if(n.msRequestAnimationFrame)return function(e){n.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(a())},1e3/60)}}();o.requestAnimationFrame=function(e){s(e)},o.performanceNow=a,o.debounce=r(141),o.now=function(){return Date.now()},e.exports=o},function(e){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){f&&d&&(f=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!f){var e=n(o);f=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,f=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,h=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var d,p=[],f=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new s(e,t)),1!==p.length||f||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,r){(function(e,t){!function(e,r){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];return u[l]={callback:e,args:t},s(l),l++}function i(e){delete u[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&a(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;s=function(t){var r=h.createElement("script");r.onreadystatechange=function(){a(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function(){s=function(e){setTimeout(a,0,e)}}(),d.setImmediate=n,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,r(139),r(136))},function(e,t,r){function n(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(137),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(t){t.exports=e},function(e){e.exports=t}])})}});
//# sourceMappingURL=route-keyphrase.chunk.98d8f.js.map