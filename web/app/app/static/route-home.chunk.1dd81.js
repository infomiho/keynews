webpackJsonp([0],{"4KN3":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("eW0v"),s=(r(a),n("5D9O")),l=r(s),u=function(e,t){var n=e.component,r=void 0===n?"span":n,s=e.innerRef,l=e.children,u=i(e,["component","innerRef","children"]),c=t.popper,d=function(e){c.setArrowNode(e),"function"==typeof s&&s(e)},h=c.getArrowStyle();if("function"==typeof l){return l({arrowProps:{ref:d,style:h},restProps:u})}var p=o({},u,{style:o({},h,u.style)});return"string"==typeof r?p.ref=d:p.innerRef=d,(0,a.createElement)(r,p,l)};u.contextTypes={popper:l.default.object.isRequired},u.propTypes={component:l.default.oneOfType([l.default.node,l.default.func]),innerRef:l.default.func,children:l.default.oneOfType([l.default.node,l.default.func])},t.default=u},"4PZ+":function(e,t,n){(function(t){function n(e,t,n){function i(t){var n=g,r=v;return g=v=void 0,D=t,m=e.apply(r,n)}function o(e){return D=e,b=setTimeout(c,t),T?i(e):m}function l(e){var n=e-_,r=e-D,i=t-n;return C?w(i,y-r):i}function u(e){var n=e-_,r=e-D;return void 0===_||n>=t||n<0||C&&r>=y}function c(){var e=E();if(u(e))return d(e);b=setTimeout(c,l(e))}function d(e){return b=void 0,S&&g?i(e):(g=v=void 0,m)}function h(){void 0!==b&&clearTimeout(b),D=0,g=_=v=b=void 0}function p(){return void 0===b?m:d(E())}function f(){var e=E(),n=u(e);if(g=arguments,v=this,_=e,n){if(void 0===b)return o(_);if(C)return b=setTimeout(c,t),i(_)}return void 0===b&&(b=setTimeout(c,t)),m}var g,v,y,m,b,_,D=0,T=!1,C=!1,S=!0;if("function"!=typeof e)throw new TypeError(s);return t=a(t)||0,r(n)&&(T=!!n.leading,C="maxWait"in n,y=C?x(a(n.maxWait)||0,t):y,S="trailing"in n?!!n.trailing:S),f.cancel=h,f.flush=p,f}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||i(e)&&b.call(e)==u}function a(e){if("number"==typeof e)return e;if(o(e))return l;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=h.test(e);return n||p.test(e)?f(e.slice(2),n?2:8):d.test(e)?l:+e}var s="Expected a function",l=NaN,u="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,f=parseInt,g="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,y=g||v||Function("return this")(),m=Object.prototype,b=m.toString,x=Math.max,w=Math.min,E=function(){return y.Date.now()};e.exports=n}).call(t,n("h6ac"))},"6W3y":function(e,t){var n,r,i;(function(){var o,a,s,l,u,c,d,h,p,f,g,v,y,m,b;s=Math.floor,f=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},p=function(e,t,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)o=s((n+r)/2),i(t,e[o])<0?r=o:n=o+1;return[].splice.apply(e,[n,n-n].concat(t)),t},c=function(e,t,n){return null==n&&(n=a),e.push(t),m(e,0,e.length-1,n)},u=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},h=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,b(e,0,n),r},d=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(r=[e[0],t],t=r[0],e[0]=r[1],b(e,0,n)),t},l=function(e,t){var n,r,i,o,l,u;for(null==t&&(t=a),o=function(){u=[];for(var t=0,n=s(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse(),l=[],r=0,i=o.length;r<i;r++)n=o[r],l.push(b(e,n,t));return l},y=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return m(e,0,r,n),b(e,r,n)},g=function(e,t,n){var r,i,o,s,u;if(null==n&&(n=a),i=e.slice(0,t),!i.length)return i;for(l(i,n),u=e.slice(t),o=0,s=u.length;o<s;o++)r=u[o],d(i,r,n);return i.sort(n).reverse()},v=function(e,t,n){var r,i,o,s,c,d,h,g,v;if(null==n&&(n=a),10*t<=e.length){if(o=e.slice(0,t).sort(n),!o.length)return o;for(i=o[o.length-1],h=e.slice(t),s=0,d=h.length;s<d;s++)r=h[s],n(r,i)<0&&(p(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(l(e,n),v=[],c=0,g=f(t,e.length);0<=g?c<g:c>g;0<=g?++c:--c)v.push(u(e,n));return v},m=function(e,t,n,r){var i,o,s;for(null==r&&(r=a),i=e[n];n>t&&(s=n-1>>1,o=e[s],r(i,o)<0);)e[n]=o,n=s;return e[n]=i},b=function(e,t,n){var r,i,o,s,l;for(null==n&&(n=a),i=e.length,l=t,o=e[t],r=2*t+1;r<i;)s=r+1,s<i&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],t=r,r=2*t+1;return e[t]=o,m(e,l,t,n)},o=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=c,e.pop=u,e.replace=h,e.pushpop=d,e.heapify=l,e.updateItem=y,e.nlargest=g,e.nsmallest=v,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return u(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return y(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return t=new e,t.nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),function(o,a){r=[],n=a,void 0!==(i="function"==typeof n?n.apply(t,r):n)&&(e.exports=i)}(0,function(){return o})}).call(this)},"8r+V":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("eW0v"),s=(r(a),n("5D9O")),l=r(s),u=function(e,t){var n=e.component,r=void 0===n?"div":n,s=e.innerRef,l=e.children,u=i(e,["component","innerRef","children"]),c=t.popperManager,d=function(e){c.setTargetNode(e),"function"==typeof s&&s(e)};if("function"==typeof l){return l({targetProps:{ref:d},restProps:u})}var h=o({},u);return"string"==typeof r?h.ref=d:h.innerRef=d,(0,a.createElement)(r,h,l)};u.contextTypes={popperManager:l.default.object.isRequired},u.propTypes={component:l.default.oneOfType([l.default.node,l.default.func]),innerRef:l.default.func,children:l.default.oneOfType([l.default.node,l.default.func])},t.default=u},"9qb7":function(e,t){var n,r;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=i:(n=[],void 0!==(r=function(){return i}.apply(t,n))&&(e.exports=r))}()},EuaG:function(e){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}([function(e){"use strict";function t(){}t.PROOF_QUALITY=0,t.DEFAULT_QUALITY=1,t.DRAFT_QUALITY=2,t.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,t.DEFAULT_INCREMENTAL=!1,t.DEFAULT_ANIMATION_ON_LAYOUT=!0,t.DEFAULT_ANIMATION_DURING_LAYOUT=!1,t.DEFAULT_ANIMATION_PERIOD=50,t.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,t.DEFAULT_GRAPH_MARGIN=15,t.NODE_DIMENSIONS_INCLUDE_LABELS=!1,t.SIMPLE_NODE_SIZE=40,t.SIMPLE_NODE_HALF_SIZE=t.SIMPLE_NODE_SIZE/2,t.EMPTY_COMPOUND_NODE_SIZE=40,t.MIN_EDGE_LENGTH=1,t.WORLD_BOUNDARY=1e6,t.INITIAL_WORLD_BOUNDARY=t.WORLD_BOUNDARY/1e3,t.WORLD_CENTER_X=1200,t.WORLD_CENTER_Y=900,e.exports=t},function(e,t,n){"use strict";function r(){}var i=n(0);for(var o in i)r[o]=i[o];r.MAX_ITERATIONS=2500,r.DEFAULT_EDGE_LENGTH=50,r.DEFAULT_SPRING_STRENGTH=.45,r.DEFAULT_REPULSION_STRENGTH=4500,r.DEFAULT_GRAVITY_STRENGTH=.4,r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,r.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,r.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,r.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,r.DEFAULT_COOLING_FACTOR_INCREMENTAL=.5,r.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,r.MAX_NODE_DISPLACEMENT=3*r.MAX_NODE_DISPLACEMENT_INCREMENTAL,r.MIN_REPULSION_DIST=r.DEFAULT_EDGE_LENGTH/10,r.CONVERGENCE_CHECK_PERIOD=100,r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,r.MIN_EDGE_LENGTH=1,r.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=r},function(e){"use strict";function t(){}t.MAX_VALUE=2147483647,t.MIN_VALUE=-2147483648,e.exports=t},function(e,t,n){"use strict";function r(e,t,n){i.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}var i=n(10),o=n(7),a=n(8);r.prototype=Object.create(i.prototype);for(var s in i)r[s]=i[s];r.prototype.getSource=function(){return this.source},r.prototype.getTarget=function(){return this.target},r.prototype.isInterGraph=function(){return this.isInterGraph},r.prototype.getLength=function(){return this.length},r.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},r.prototype.getBendpoints=function(){return this.bendpoints},r.prototype.getLca=function(){return this.lca},r.prototype.getSourceInLca=function(){return this.sourceInLca},r.prototype.getTargetInLca=function(){return this.targetInLca},r.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},r.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},r.prototype.updateLength=function(){var e=new Array(4);(this.isOverlapingSourceAndTarget=o.getIntersection(this.target.getRect(),this.source.getRect(),e))||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},r.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){i.call(this,n),this.estimatedSize=o.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof s?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}var i=n(10),o=n(2),a=n(0),s=n(9),l=n(11),u=n(3),c=n(6),d=n(14),h=n(13),p=n(31);r.prototype=Object.create(i.prototype);for(var f in i)r[f]=i[f];r.prototype.getNodes=function(){return this.nodes},r.prototype.getEdges=function(){return this.edges},r.prototype.getGraphManager=function(){return this.graphManager},r.prototype.getParent=function(){return this.parent},r.prototype.getLeft=function(){return this.left},r.prototype.getRight=function(){return this.right},r.prototype.getTop=function(){return this.top},r.prototype.getBottom=function(){return this.bottom},r.prototype.isConnected=function(){return this.isConnected},r.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(i.source=t,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),n!=t&&n.edges.push(i),i)},r.prototype.remove=function(e){var t=e;if(e instanceof l){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n,r=t.edges.slice(),i=r.length,o=0;o<i;o++)n=r[o],n.isInterGraph?this.graphManager.remove(n):n.source.owner.remove(n);var a=this.nodes.indexOf(t);if(-1==a)throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(e instanceof u){var n=e;if(null==n)throw"Edge is null!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(null==n.source.owner||null==n.target.owner||n.source.owner!=this||n.target.owner!=this)throw"Source and/or target owner is invalid!";var s=n.source.edges.indexOf(n),c=n.target.edges.indexOf(n);if(!(s>-1&&c>-1))throw"Source and/or target doesn't know this edge!";n.source.edges.splice(s,1),n.target!=n.source&&n.target.edges.splice(c,1);var a=n.source.owner.getEdges().indexOf(n);if(-1==a)throw"Not in owner's edge list!";n.source.owner.getEdges().splice(a,1)}},r.prototype.updateLeftTop=function(){for(var e,t,n,r=o.MAX_VALUE,i=o.MAX_VALUE,a=this.getNodes(),s=a.length,l=0;l<s;l++){var u=a[l];e=u.getTop(),t=u.getLeft(),r>e&&(r=e),i>t&&(i=t)}return r==o.MAX_VALUE?null:(n=void 0!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=i-n,this.top=r-n,new h(this.left,this.top))},r.prototype.updateBounds=function(e){for(var t,n,r,i,a,s=o.MAX_VALUE,l=-o.MAX_VALUE,u=o.MAX_VALUE,c=-o.MAX_VALUE,h=this.nodes,p=h.length,f=0;f<p;f++){var g=h[f];e&&null!=g.child&&g.updateBounds(),t=g.getLeft(),n=g.getRight(),r=g.getTop(),i=g.getBottom(),s>t&&(s=t),l<n&&(l=n),u>r&&(u=r),c<i&&(c=i)}var v=new d(s,u,l-s,c-u);s==o.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=void 0!=h[0].getParent().paddingLeft?h[0].getParent().paddingLeft:this.margin,this.left=v.x-a,this.right=v.x+v.width+a,this.top=v.y-a,this.bottom=v.y+v.height+a},r.calculateBounds=function(e){for(var t,n,r,i,a=o.MAX_VALUE,s=-o.MAX_VALUE,l=o.MAX_VALUE,u=-o.MAX_VALUE,c=e.length,h=0;h<c;h++){var p=e[h];t=p.getLeft(),n=p.getRight(),r=p.getTop(),i=p.getBottom(),a>t&&(a=t),s<n&&(s=n),l>r&&(l=r),u<i&&(u=i)}return new d(a,l,s-a,u-l)},r.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++){e+=t[r].calcEstimatedSize()}return this.estimatedSize=0==e?a.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length)},r.prototype.updateConnected=function(){var e=this;if(0==this.nodes.length)return void(this.isConnected=!0);var t,n,r=new p,i=new c,o=this.nodes[0],a=o.withChildren();for(a.forEach(function(e){r.push(e)});0!==r.length;){o=r.shift(),i.add(o),t=o.getEdges();for(var s=t.length,l=0;l<s;l++){if(null!=(n=t[l].getOtherEndInGraph(o,this))&&!i.contains(n)){n.withChildren().forEach(function(e){r.push(e)})}}}if(this.isConnected=!1,i.size()>=this.nodes.length){var u=0,s=i.size();Object.keys(i.set).forEach(function(t){i.set[t].owner==e&&u++}),u==this.nodes.length&&(this.isConnected=!0)}},e.exports=r},function(e){"use strict";function t(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.setX=function(e){this.x=e},t.prototype.setY=function(e){this.y=e},t.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},t.prototype.getCopy=function(){return new t(this.x,this.y)},t.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=t},function(e,t,n){"use strict";function r(){this.set={}}var i=n(16);r.prototype.add=function(e){var t=i.createID(e);this.contains(t)||(this.set[t]=e)},r.prototype.remove=function(e){delete this.set[i.createID(e)]},r.prototype.clear=function(){this.set={}},r.prototype.contains=function(e){return this.set[i.createID(e)]==e},r.prototype.isEmpty=function(){return 0===this.size()},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},r.prototype.size=function(){return Object.keys(this.set).length},r.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){this.add(e[n])}},e.exports=r},function(e){"use strict";function t(){}t.calcSeparationAmount=function(e,n,r,i){if(!e.intersects(n))throw"assert failed";var o=new Array(2);t.decideDirectionsForOverlappingNodes(e,n,o),r[0]=Math.min(e.getRight(),n.getRight())-Math.max(e.x,n.x),r[1]=Math.min(e.getBottom(),n.getBottom())-Math.max(e.y,n.y),e.getX()<=n.getX()&&e.getRight()>=n.getRight()?r[0]+=Math.min(n.getX()-e.getX(),e.getRight()-n.getRight()):n.getX()<=e.getX()&&n.getRight()>=e.getRight()&&(r[0]+=Math.min(e.getX()-n.getX(),n.getRight()-e.getRight())),e.getY()<=n.getY()&&e.getBottom()>=n.getBottom()?r[1]+=Math.min(n.getY()-e.getY(),e.getBottom()-n.getBottom()):n.getY()<=e.getY()&&n.getBottom()>=e.getBottom()&&(r[1]+=Math.min(e.getY()-n.getY(),n.getBottom()-e.getBottom()));var a=Math.abs((n.getCenterY()-e.getCenterY())/(n.getCenterX()-e.getCenterX()));n.getCenterY()==e.getCenterY()&&n.getCenterX()==e.getCenterX()&&(a=1);var s=a*r[0],l=r[1]/a;r[0]<l?l=r[0]:s=r[1],r[0]=-1*o[0]*(l/2+i),r[1]=-1*o[1]*(s/2+i)},t.decideDirectionsForOverlappingNodes=function(e,t,n){n[0]=e.getCenterX()<t.getCenterX()?-1:1,n[1]=e.getCenterY()<t.getCenterY()?-1:1},t.getIntersection2=function(e,n,r){var i=e.getCenterX(),o=e.getCenterY(),a=n.getCenterX(),s=n.getCenterY();if(e.intersects(n))return r[0]=i,r[1]=o,r[2]=a,r[3]=s,!0;var l=e.getX(),u=e.getY(),c=e.getRight(),d=e.getX(),h=e.getBottom(),p=e.getRight(),f=e.getWidthHalf(),g=e.getHeightHalf(),v=n.getX(),y=n.getY(),m=n.getRight(),b=n.getX(),x=n.getBottom(),w=n.getRight(),E=n.getWidthHalf(),_=n.getHeightHalf(),D=!1,T=!1;if(i==a){if(o>s)return r[0]=i,r[1]=u,r[2]=a,r[3]=x,!1;if(o<s)return r[0]=i,r[1]=h,r[2]=a,r[3]=y,!1}else if(o==s){if(i>a)return r[0]=l,r[1]=o,r[2]=m,r[3]=s,!1;if(i<a)return r[0]=c,r[1]=o,r[2]=v,r[3]=s,!1}else{var C,S,N,O,P,M,k=e.height/e.width,L=n.height/n.width,A=(s-o)/(a-i);if(-k==A?i>a?(r[0]=d,r[1]=h,D=!0):(r[0]=c,r[1]=u,D=!0):k==A&&(i>a?(r[0]=l,r[1]=u,D=!0):(r[0]=p,r[1]=h,D=!0)),-L==A?a>i?(r[2]=b,r[3]=x,T=!0):(r[2]=m,r[3]=y,T=!0):L==A&&(a>i?(r[2]=v,r[3]=y,T=!0):(r[2]=w,r[3]=x,T=!0)),D&&T)return!1;if(i>a?o>s?(C=t.getCardinalDirection(k,A,4),S=t.getCardinalDirection(L,A,2)):(C=t.getCardinalDirection(-k,A,3),S=t.getCardinalDirection(-L,A,1)):o>s?(C=t.getCardinalDirection(-k,A,1),S=t.getCardinalDirection(-L,A,3)):(C=t.getCardinalDirection(k,A,2),S=t.getCardinalDirection(L,A,4)),!D)switch(C){case 1:O=u,N=i+-g/A,r[0]=N,r[1]=O;break;case 2:N=p,O=o+f*A,r[0]=N,r[1]=O;break;case 3:O=h,N=i+g/A,r[0]=N,r[1]=O;break;case 4:N=d,O=o+-f*A,r[0]=N,r[1]=O}if(!T)switch(S){case 1:M=y,P=a+-_/A,r[2]=P,r[3]=M;break;case 2:P=w,M=s+E*A,r[2]=P,r[3]=M;break;case 3:M=x,P=a+_/A,r[2]=P,r[3]=M;break;case 4:P=b,M=s+-E*A,r[2]=P,r[3]=M}}return!1},t.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},t.getIntersection=function(e,n,r,i){if(null==i)return t.getIntersection2(e,n,r);var o,a,s,l,u,c,d,h,p,f=e.x,g=e.y,v=n.x,y=n.y,m=r.x,b=r.y,x=i.x,w=i.y;return s=y-g,u=f-v,d=v*g-f*y,l=w-b,c=m-x,h=x*b-m*w,0==(p=s*c-l*u)?null:(o=(u*h-c*d)/p,a=(l*d-s*h)/p,new Point(o,a))},t.HALF_PI=.5*Math.PI,t.ONE_AND_HALF_PI=1.5*Math.PI,t.TWO_PI=2*Math.PI,t.THREE_PI=3*Math.PI,e.exports=t},function(e){"use strict";function t(){}t.sign=function(e){return e>0?1:e<0?-1:0},t.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},t.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=t},function(e,t,n){"use strict";function r(e){i=n(4),this.layout=e,this.graphs=[],this.edges=[]}var i,o=n(3);r.prototype.addRoot=function(){return this.setRootGraph(this.add(this.layout.newGraph(),this.layout.newNode(null))),this.rootGraph},r.prototype.add=function(e,t,n,r,i){if(null==n&&null==r&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=n,r=t,n=e;var o=r.getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},r.prototype.remove=function(e){if(e instanceof i){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";var n=[];n=n.concat(t.getEdges());for(var r,a=n.length,s=0;s<a;s++)r=n[s],t.remove(r);var l=[];l=l.concat(t.getNodes());var u;a=l.length;for(var s=0;s<a;s++)u=l[s],t.remove(u);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof o){if(null==(r=e))throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(-1==r.source.edges.indexOf(r)||-1==r.target.edges.indexOf(r))throw"Source and/or target doesn't know this edge!";var c=r.source.edges.indexOf(r);if(r.source.edges.splice(c,1),c=r.target.edges.indexOf(r),r.target.edges.splice(c,1),null==r.source.owner||null==r.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==r.source.owner.getGraphManager().edges.indexOf(r))throw"Not in owner graph manager's edge list!";var c=r.source.owner.getGraphManager().edges.indexOf(r);r.source.owner.getGraphManager().edges.splice(c,1)}},r.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},r.prototype.getGraphs=function(){return this.graphs},r.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},r.prototype.resetAllNodes=function(){this.allNodes=null},r.prototype.resetAllEdges=function(){this.allEdges=null},r.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},r.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=0;n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},r.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},r.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},r.prototype.getRoot=function(){return this.rootGraph},r.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},r.prototype.getLayout=function(){return this.layout},r.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();;){if(null==(n=r.getParent()))break;if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();;){if(null==(n=r.getParent()))break;if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},r.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(e=o[s],t=e.source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,i=n.getOwner();null==e.lca;){if(i==r){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},r.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();;){if(null==n)break;for(var r=t.getOwner();;){if(null==r)break;if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},r.prototype.calcInclusionTreeDepths=function(e,t){null==e&&null==t&&(e=this.rootGraph,t=1);for(var n,r=e.getNodes(),i=r.length,o=0;o<i;o++)n=r[o],n.inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},r.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,n=0;n<t;n++)if(e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=r},function(e){"use strict";function t(e){this.vGraphObject=e}e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r){null==n&&null==r&&(r=t),i.call(this,r),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=o.MIN_VALUE,this.inclusionTreeDepth=o.MAX_VALUE,this.vGraphObject=r,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new a(t.x,t.y,n.width,n.height):new a}var i=n(10),o=n(2),a=n(14),s=n(0),l=n(26),u=n(5),c=n(6);r.prototype=Object.create(i.prototype);for(var d in i)r[d]=i[d];r.prototype.getEdges=function(){return this.edges},r.prototype.getChild=function(){return this.child},r.prototype.getOwner=function(){return this.owner},r.prototype.getWidth=function(){return this.rect.width},r.prototype.setWidth=function(e){this.rect.width=e},r.prototype.getHeight=function(){return this.rect.height},r.prototype.setHeight=function(e){this.rect.height=e},r.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},r.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},r.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},r.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},r.prototype.getRect=function(){return this.rect},r.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},r.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},r.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},r.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},r.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},r.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}}),t},r.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach(function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)}),t},r.prototype.getNeighborsList=function(){var e=new c,t=this;return t.edges.forEach(function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}}),e},r.prototype.withChildren=function(){var e,t,n=new Set;if(n.add(this),null!=this.child)for(var r=this.child.getNodes(),i=0;i<r.length;i++)e=r[i],t=e.withChildren(),t.forEach(function(e){n.add(e)});return n},r.prototype.getNoOfChildren=function(){var e,t=0;if(null==this.child)t=1;else for(var n=this.child.getNodes(),r=0;r<n.length;r++)e=n[r],t+=e.getNoOfChildren();return 0==t&&(t=1),t},r.prototype.getEstimatedSize=function(){if(this.estimatedSize==o.MIN_VALUE)throw"assert failed";return this.estimatedSize},r.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},r.prototype.scatter=function(){var e,t,n=-s.INITIAL_WORLD_BOUNDARY,r=s.INITIAL_WORLD_BOUNDARY;e=s.WORLD_CENTER_X+l.nextDouble()*(r-n)+n;var i=-s.INITIAL_WORLD_BOUNDARY,o=s.INITIAL_WORLD_BOUNDARY;t=s.WORLD_CENTER_Y+l.nextDouble()*(o-i)+i,this.rect.x=e,this.rect.y=t},r.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),s.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth>t&&(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)),this.labelHeight>n&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-n)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-n),this.setHeight(this.labelHeight))}}},r.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==o.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},r.prototype.transform=function(e){var t=this.rect.x;t>s.WORLD_BOUNDARY?t=s.WORLD_BOUNDARY:t<-s.WORLD_BOUNDARY&&(t=-s.WORLD_BOUNDARY);var n=this.rect.y;n>s.WORLD_BOUNDARY?n=s.WORLD_BOUNDARY:n<-s.WORLD_BOUNDARY&&(n=-s.WORLD_BOUNDARY);var r=new u(t,n),i=e.inverseTransformPoint(r);this.setLocation(i.x,i.y)},r.prototype.getLeft=function(){return this.rect.x},r.prototype.getRight=function(){return this.rect.x+this.rect.width},r.prototype.getTop=function(){return this.rect.y},r.prototype.getBottom=function(){return this.rect.y+this.rect.height},r.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=r},function(e,t,n){"use strict";function r(e){h.call(this),this.layoutQuality=i.DEFAULT_QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new o,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}var i=n(0),o=n(25),a=n(9),s=n(11),l=n(3),u=n(4),c=n(5),d=n(15),h=n(30),p=n(6);r.RANDOM_SEED=1,r.prototype=Object.create(h.prototype),r.prototype.getGraphManager=function(){return this.graphManager},r.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},r.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},r.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},r.prototype.newGraphManager=function(){var e=new a(this);return this.graphManager=e,e},r.prototype.newGraph=function(e){return new u(null,this.graphManager,e)},r.prototype.newNode=function(e){return new s(this.graphManager,e)},r.prototype.newEdge=function(e){return new l(null,null,e)},r.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},r.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var e;return e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},r.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},r.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];for(var n=this.graphManager.getRoot().getNodes(),t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},r.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof s){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);if(null!=t.vGraphObject){var i=t.vGraphObject;i.update(t)}}else if(e instanceof l){var o=e;if(null!=o.vGraphObject){var a=o.vGraphObject;a.update(o)}}else if(e instanceof u){var c=e;if(null!=c.vGraphObject){var d=c.vGraphObject;d.update(c)}}},r.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.DEFAULT_QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},r.prototype.transform=function(e){if(void 0==e)this.transform(new c(0,0));else{var t=new d,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r,i=this.getAllNodes(),o=0;o<i.length;o++)r=i[o],r.transform(t)}}},r.prototype.positionNodesRandomly=function(e){if(void 0==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),i=0;i<r.length;i++)t=r[i],n=t.getChild(),null==n?t.scatter():0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},r.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),r=!0,i=0;i<n.length;i++)null!=n[i].getChild()&&(r=!1);if(!r)return e;var a=new p,s=[],l=new o,u=[];for(u=u.concat(n);u.length>0&&t;){for(s.push(u[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),a.add(c);for(var d=c.getEdges(),i=0;i<d.length;i++){var h=d[i].getOtherEnd(c);if(l.get(c)!=h){if(a.contains(h)){t=!1;break}s.push(h),l.put(h,c)}}}if(t){var f=[];a.addAllTo(f),e.push(f);for(var i=0;i<f.length;i++){var g=f[i],v=u.indexOf(g);v>-1&&u.splice(v,1)}a=new p,l=new o}else e=[]}return e},r.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var a=this.newEdge(null);this.graphManager.add(a,n,o),t.add(o),n=o}var a=this.newEdge(null);return this.graphManager.add(a,n,e.target),this.edgeToDummyNodes.put(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},r.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=this.edgeToDummyNodes.keySet().concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var r=this.edgeToDummyNodes.get(n),i=0;i<r.length;i++){var o=r[i],a=new c(o.getCenterX(),o.getCenterY()),s=n.bendpoints.get(i);s.x=a.x,s.y=a.y,o.getOwner().remove(o)}this.graphManager.add(n,n.source,n.target)}}},r.transform=function(e,t,n,r){if(void 0!=n&&void 0!=r){var i=t;if(e<=50){i-=(t-t/n)/50*(50-e)}else{i+=(t*r-t)/50*(e-50)}return i}var o,a;return e<=50?(o=9*t/500,a=t/10):(o=9*t/50,a=-8*t),o*e+a},r.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new o,i=!1,a=null;1!=t.length&&2!=t.length||(i=!0,a=t[0]);for(var s=0;s<t.length;s++){var l=t[s],u=l.getNeighborsList().size();r.put(l,l.getNeighborsList().size()),1==u&&n.push(l)}var c=[];for(c=c.concat(n);!i;){var d=[];d=d.concat(c),c=[];for(var s=0;s<t.length;s++){var l=t[s],h=t.indexOf(l);h>=0&&t.splice(h,1);var p=l.getNeighborsList();Object.keys(p.set).forEach(function(e){var t=p.set[e];if(n.indexOf(t)<0){var i=r.get(t),o=i-1;1==o&&c.push(t),r.put(t,o)}})}n=n.concat(c),1!=t.length&&2!=t.length||(i=!0,a=t[0])}return a},r.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=r},function(e){"use strict";function t(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getLocation=function(){return new t(this.x,this.y)},t.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},t.prototype.move=function(e,t){this.x=e,this.y=t},t.prototype.translate=function(e,t){this.x+=e,this.y+=t},t.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},t.prototype.toString=function(){return(new t).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=t},function(e){"use strict";function t(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}t.prototype.getX=function(){return this.x},t.prototype.setX=function(e){this.x=e},t.prototype.getY=function(){return this.y},t.prototype.setY=function(e){this.y=e},t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){this.width=e},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){this.height=e},t.prototype.getRight=function(){return this.x+this.width},t.prototype.getBottom=function(){return this.y+this.height},t.prototype.intersects=function(e){return!(this.getRight()<e.x)&&(!(this.getBottom()<e.y)&&(!(e.getRight()<this.x)&&!(e.getBottom()<this.y)))},t.prototype.getCenterX=function(){return this.x+this.width/2},t.prototype.getMinX=function(){return this.getX()},t.prototype.getMaxX=function(){return this.getX()+this.width},t.prototype.getCenterY=function(){return this.y+this.height/2},t.prototype.getMinY=function(){return this.getY()},t.prototype.getMaxY=function(){return this.getY()+this.height},t.prototype.getWidthHalf=function(){return this.width/2},t.prototype.getHeightHalf=function(){return this.height/2},e.exports=t},function(e,t,n){"use strict";function r(){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}var i=n(5);r.prototype.getWorldOrgX=function(){return this.lworldOrgX},r.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},r.prototype.getWorldOrgY=function(){return this.lworldOrgY},r.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},r.prototype.getWorldExtX=function(){return this.lworldExtX},r.prototype.setWorldExtX=function(e){this.lworldExtX=e},r.prototype.getWorldExtY=function(){return this.lworldExtY},r.prototype.setWorldExtY=function(e){this.lworldExtY=e},r.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},r.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},r.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},r.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},r.prototype.getDeviceExtX=function(){return this.ldeviceExtX},r.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},r.prototype.getDeviceExtY=function(){return this.ldeviceExtY},r.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},r.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},r.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},r.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},r.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},r.prototype.inverseTransformPoint=function(e){return new i(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=r},function(e){"use strict";function t(){}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.lastID=0,t.createID=function(e){return t.isPrimitive(e)?e:null!=e.uniqueID?e.uniqueID:(e.uniqueID=t.getString(),t.lastID++,e.uniqueID)},t.getString=function(e){return null==e&&(e=t.lastID),"Object#"+e},t.isPrimitive=function(e){var t=void 0===e?"undefined":n(e);return null==e||"object"!=t&&"function"!=t},e.exports=t},function(e,t,n){"use strict";function r(){}var i=n(1);for(var o in i)r[o]=i[o];r.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,r.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,r.DEFAULT_COMPONENT_SEPERATION=60,r.TILE=!0,r.TILING_PADDING_VERTICAL=10,r.TILING_PADDING_HORIZONTAL=10,e.exports=r},function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=n(23);r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];e.exports=r},function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n)}var i=n(4);r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];e.exports=r},function(e,t,n){"use strict";function r(e){i.call(this,e)}var i=n(9);r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r)}var i=n(24),o=n(8);r.prototype=Object.create(i.prototype);for(var a in i)r[a]=i[a];r.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*o.sign(this.displacementY)),null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},r.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)n=r[i],null==n.getChild()?(n.moveBy(e,t),n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},r.prototype.setPred1=function(e){this.pred1=e},r.prototype.getPred1=function(){return pred1},r.prototype.getPred2=function(){return pred2},r.prototype.setNext=function(e){this.next=e},r.prototype.getNext=function(){return next},r.prototype.setProcessed=function(e){this.processed=e},r.prototype.isProcessed=function(){return processed},e.exports=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){o.call(this),this.useSmartIdealEdgeLengthCalculation=a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=a.DEFAULT_EDGE_LENGTH,this.springConstant=a.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=a.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=a.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=a.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=a.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*a.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=a.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=a.MAX_ITERATIONS}var o=n(12),a=n(1),s=n(0),l=n(7),u=n(8),c=n(2);i.prototype=Object.create(o.prototype);for(var d in o)i[d]=o[d];i.prototype.initParameters=function(){o.prototype.initParameters.call(this,arguments),this.layoutQuality==s.DRAFT_QUALITY?(this.displacementThresholdPerNode+=.3,this.maxIterations*=.8):this.layoutQuality==s.PROOF_QUALITY&&(this.displacementThresholdPerNode-=.3,this.maxIterations*=1.2),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[],this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1},i.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,i,o,l=this.getGraphManager().getAllEdges(),u=0;u<l.length;u++)e=l[u],e.idealLength=this.idealEdgeLength,e.isInterGraph&&(n=e.getSource(),r=e.getTarget(),i=e.getSourceInLca().getEstimatedSize(),o=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=i+o-2*s.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=a.DEFAULT_EDGE_LENGTH*a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+r.getInclusionTreeDepth()-2*t))},i.prototype.initSpringEmbedder=function(){this.incremental?this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT_INCREMENTAL:(this.coolingFactor=1,this.initialCoolingFactor=1,this.maxNodeDisplacement=a.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},i.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},i.prototype.calcRepulsionForces=function(){var e,t,n,r,i,o=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD!=1||this.isTreeGrowing||this.isGrowthFinished||this.updateGrid(),i=new Set,e=0;e<o.length;e++)n=o[e],this.calculateRepulsionForceOfANode(n,i),i.add(n);else for(e=0;e<o.length;e++)for(n=o[e],t=e+1;t<o.length;t++)r=o[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},i.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},i.prototype.moveNodes=function(){for(var e,t=this.getAllNodes(),n=0;n<t.length;n++)e=t[n],e.move()},i.prototype.calcSpringForce=function(e,t){var n,r,i,o,a=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;n=e.getLength(),r=this.springConstant*(n-t),i=r*(e.lengthX/n),o=r*(e.lengthY/n),a.springForceX+=i,a.springForceY+=o,s.springForceX-=i,s.springForceY-=o},i.prototype.calcRepulsionForce=function(e,t){var n,r,i,o,s,c,d,h=e.getRect(),p=t.getRect(),f=new Array(2),g=new Array(4);if(h.intersects(p)){l.calcSeparationAmount(h,p,f,a.DEFAULT_EDGE_LENGTH/2),c=2*f[0],d=2*f[1];var v=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=v*c,e.repulsionForceY-=v*d,t.repulsionForceX+=v*c,t.repulsionForceY+=v*d}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=p.getCenterX()-h.getCenterX(),r=p.getCenterY()-h.getCenterY()):(l.getIntersection(h,p,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<a.MIN_REPULSION_DIST&&(n=u.sign(n)*a.MIN_REPULSION_DIST),Math.abs(r)<a.MIN_REPULSION_DIST&&(r=u.sign(r)*a.MIN_REPULSION_DIST),i=n*n+r*r,o=Math.sqrt(i),s=this.repulsionConstant*e.noOfChildren*t.noOfChildren/i,c=s*n/o,d=s*r/o,e.repulsionForceX-=c,e.repulsionForceY-=d,t.repulsionForceX+=c,t.repulsionForceY+=d},i.prototype.calcGravitationalForce=function(e){var t,n,r,i,o,a,s,l;t=e.getOwner(),n=(t.getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-n,o=e.getCenterY()-r,a=Math.abs(i)+e.getWidth()/2,s=Math.abs(o)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(l=t.getEstimatedSize()*this.gravityRangeFactor,(a>l||s>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*o)):(l=t.getEstimatedSize()*this.compoundGravityRangeFactor,(a>l||s>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant))},i.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},i.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},i.prototype.calcGrid=function(e){var t=0,n=0;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);for(var i=0;i<t;i++)for(var o=0;o<n;o++)r[i][o]=new Array;return r},i.prototype.addNodeToGrid=function(e,t,n){var r=0,i=0,o=0,a=0;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var s=r;s<=i;s++)for(var l=o;l<=a;l++)this.grid[s][l].push(e),e.setGridCoordinates(r,i,o,a)},i.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},i.prototype.calculateRepulsionForceOfANode=function(e,t){if(this.totalIterations%a.GRID_CALCULATION_CHECK_PERIOD==1&&!this.isTreeGrowing&&!this.isGrowthFinished||this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished){var n=new Set;e.surrounding=new Array;for(var i,o=this.grid,s=e.startX-1;s<e.finishX+2;s++)for(var l=e.startY-1;l<e.finishY+2;l++)if(!(s<0||l<0||s>=o.length||l>=o[0].length))for(var u=0;u<o[s][l].length;u++)if(i=o[s][l][u],e.getOwner()==i.getOwner()&&e!=i&&!t.has(i)&&!n.has(i)){var c=Math.abs(e.getCenterX()-i.getCenterX())-(e.getWidth()/2+i.getWidth()/2),d=Math.abs(e.getCenterY()-i.getCenterY())-(e.getHeight()/2+i.getHeight()/2);c<=this.repulsionRange&&d<=this.repulsionRange&&n.add(i)}e.surrounding=[].concat(r(n))}for(s=0;s<e.surrounding.length;s++)this.calcRepulsionForce(e,e.surrounding[s])},i.prototype.calcRepulsionRange=function(){return 0},i.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),i=[];n=!1;for(var o=0;o<r.length;o++)e=r[o],1!=e.getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(i.push([e,e.getEdges()[0],e.getOwner()]),n=!0);if(1==n){for(var a=[],s=0;s<i.length;s++)1==i[s][0].getEdges().length&&(a.push(i[s]),i[s][0].getOwner().remove(i[s][0]));t.push(a),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},i.prototype.growTree=function(e){for(var t,n=e.length,r=e[n-1],i=0;i<r.length;i++)t=r[i],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},i.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0];n=r==e[1].source?e[1].target:e[1].source;var i=n.startX,o=n.finishX,s=n.startY,l=n.finishY,u=[0,0,0,0];if(s>0)for(var d=i;d<=o;d++)u[0]+=this.grid[d][s-1].length+this.grid[d][s].length-1;if(o<this.grid.length-1)for(var d=s;d<=l;d++)u[1]+=this.grid[o+1][d].length+this.grid[o][d].length-1;if(l<this.grid[0].length-1)for(var d=i;d<=o;d++)u[2]+=this.grid[d][l+1].length+this.grid[d][l].length-1;if(i>0)for(var d=s;d<=l;d++)u[3]+=this.grid[i-1][d].length+this.grid[i][d].length-1;for(var h,p,f=c.MAX_VALUE,g=0;g<u.length;g++)u[g]<f?(f=u[g],h=1,p=g):u[g]==f&&h++;if(3==h&&0==f)0==u[0]&&0==u[1]&&0==u[2]?t=1:0==u[0]&&0==u[1]&&0==u[3]?t=0:0==u[0]&&0==u[2]&&0==u[3]?t=3:0==u[1]&&0==u[2]&&0==u[3]&&(t=2);else if(2==h&&0==f){var v=Math.floor(2*Math.random());t=0==u[0]&&0==u[1]?0==v?0:1:0==u[0]&&0==u[2]?0==v?0:2:0==u[0]&&0==u[3]?0==v?0:3:0==u[1]&&0==u[2]?0==v?1:2:0==u[1]&&0==u[3]?0==v?1:3:0==v?2:3}else if(4==h&&0==f){var v=Math.floor(4*Math.random());t=v}else t=p;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-a.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+a.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+a.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-a.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())},e.exports=i},function(e,t,n){"use strict";function r(e,t,n){i.call(this,e,t,n),this.idealLength=o.DEFAULT_EDGE_LENGTH}var i=n(3),o=n(1);r.prototype=Object.create(i.prototype);for(var a in i)r[a]=i[a];e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,e,t,n,r),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}var i=n(11);r.prototype=Object.create(i.prototype);for(var o in i)r[o]=i[o];r.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=r},function(e,t,n){"use strict";function r(){this.map={},this.keys=[]}var i=n(16);r.prototype.put=function(e,t){var n=i.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},r.prototype.contains=function(e){i.createID(e);return null!=this.map[e]},r.prototype.get=function(e){return this.map[i.createID(e)]},r.prototype.keySet=function(){return this.keys},e.exports=r},function(e){"use strict";function t(){}t.seed=1,t.x=0,t.nextDouble=function(){return(t.x=1e4*Math.sin(t.seed++))-Math.floor(t.x)},e.exports=t},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n}function i(e){this.options=r(h,e),p(this.options)}var o=n(29),a=(n(25),n(6),n(7),n(8),n(2),n(13),n(5)),s=(n(26),n(14),n(15),n(16),n(10),n(4),n(3),n(9),n(11),n(12),n(0)),l=(n(22),n(1)),u=(n(23),n(24),n(17)),c=(n(18),n(19),n(20),n(28)),d=n(21),h={ready:function(){},stop:function(){},nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5},p=function(e){null!=e.nodeRepulsion&&(u.DEFAULT_REPULSION_STRENGTH=l.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(u.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(u.DEFAULT_SPRING_STRENGTH=l.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(u.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(u.MAX_ITERATIONS=l.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!e.randomize,u.ANIMATE=l.ANIMATE=s.ANIMATE=e.animate,u.TILE=e.tile,u.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal};i.prototype.run=function(){var e,t,n=this.options,r=(this.idToLNode={},this.layout=new c),i=this;i.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var o=r.newGraphManager();this.gm=o;var a=this.options.eles.nodes(),s=this.options.eles.edges();this.root=o.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(a),r);for(var l=0;l<s.length;l++){var u=s[l],d=this.idToLNode[u.data("source")],h=this.idToLNode[u.data("target")];if(0==d.getEdgesBetween(h).length){o.add(r.newEdge(),d,h).id=u.id()}}var p=function(e,t){"number"==typeof e&&(e=t);var n=e.data("id"),r=i.idToLNode[n];return{x:r.getRect().getCenterX(),y:r.getRect().getCenterY()}},f=function o(){for(var a,s=function(){n.fit&&n.cy.fit(n.eles.nodes(),n.padding),e||(e=!0,i.cy.one("layoutready",n.ready),i.cy.trigger({type:"layoutready",layout:i}))},l=i.options.refresh,u=0;u<l&&!a;u++)a=i.stopped||i.layout.tick();if(a)return r.checkLayoutSuccess()&&!r.isSubLayout&&r.doPostLayout(),r.tilingPostLayout&&r.tilingPostLayout(),r.isLayoutFinished=!0,i.options.eles.nodes().positions(p),s(),i.cy.one("layoutstop",i.options.stop),i.cy.trigger({type:"layoutstop",layout:i}),t&&cancelAnimationFrame(t),void(e=!1);var c=i.layout.getPositionsData();n.eles.nodes().positions(function(e,t){"number"==typeof e&&(e=t);for(var n=e.id(),r=c[n],i=e;null==r&&(r=c[i.data("parent")]||c["DummyCompound_"+i.data("parent")],c[n]=r,void 0!=(i=i.parent()[0])););return null!=r?{x:r.x,y:r.y}:{x:e.x,y:e.y}}),s(),t=requestAnimationFrame(o)};return r.addListener("layoutstarted",function(){"during"===i.options.animate&&(t=requestAnimationFrame(f))}),r.runLayout(),"during"!==this.options.animate&&(i.options.eles.nodes().not(":parent").layoutPositions(i,i.options,p),e=!1),this},i.prototype.getTopMostNodes=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;return e.filter(function(e,n){"number"==typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0})},i.prototype.processChildrenList=function(e,t,n){for(var r=t.length,i=0;i<r;i++){var s,l=t[i],u=l.children(),c=l.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(s=e.add(null!=l.outerWidth()&&null!=l.outerHeight()?new d(n.graphManager,new a(l.position("x")-c.w/2,l.position("y")-c.h/2),new o(parseFloat(c.w),parseFloat(c.h))):new d(this.graphManager)),s.id=l.data("id"),s.paddingLeft=parseInt(l.css("padding")),s.paddingTop=parseInt(l.css("padding")),s.paddingRight=parseInt(l.css("padding")),s.paddingBottom=parseInt(l.css("padding")),this.options.nodeDimensionsIncludeLabels&&l.isParent()){var h=l.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=l.boundingBox({includeLabels:!0,includeNodes:!1}).h,f=l.css("text-halign");s.labelWidth=h,s.labelHeight=p,s.labelPos=f}if(this.idToLNode[l.data("id")]=s,isNaN(s.rect.x)&&(s.rect.x=0),isNaN(s.rect.y)&&(s.rect.y=0),null!=u&&u.length>0){var g;g=n.getGraphManager().add(n.newGraph(),s),this.processChildrenList(g,u,n)}}},i.prototype.stop=function(){return this.stopped=!0,this},e.exports=function(){return i}},function(e,t,n){"use strict";function r(){i.call(this),this.toBeTiled={}}var i=n(22),o=n(20),a=n(19),s=n(21),l=n(18),u=n(17),c=n(1),d=n(0),h=n(13),p=n(5),f=n(12),g=n(2),v=n(7),y=n(4),m=n(15);r.prototype=Object.create(i.prototype);for(var b in i)r[b]=i[b];r.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},r.prototype.newGraph=function(e){return new a(null,this.graphManager,e)},r.prototype.newNode=function(e){return new s(this.graphManager,e)},r.prototype.newEdge=function(e){return new l(null,null,e)},r.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH<10?10:u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=c.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR)},r.prototype.layout=function(){return d.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},r.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),!this.incremental){var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes());this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity.filter(function(e){return t.has(e)})),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},r.prototype.tick=function(){if(++this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingFactor=this.initialCoolingFactor*((this.maxIterations-this.totalIterations)/this.maxIterations),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter(function(t){return e.has(t)});this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},r.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,i=e[n].id;t[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},r.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},r.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),i=r.length;for(t=0;t<i;t++)e=r[t],e.updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},r.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)e=t[n],e.noOfChildren=e.getNoOfChildren()},r.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new HashSet;for(t=0;t<e.length;t++){var r=e[t];if(!n.contains(r)){var i=r.getSource(),o=r.getTarget();if(i==o)r.getBendpoints().push(new p),r.getBendpoints().push(new p),this.createDummyNodesForBendpoints(r),n.add(r);else{var a=[];if(a=a.concat(i.getEdgeListToNode(o)),a=a.concat(o.getEdgeListToNode(i)),!n.contains(a[0])){if(a.length>1){var s;for(s=0;s<a.length;s++){var l=a[s];l.getBendpoints().push(new p),this.createDummyNodesForBendpoints(l)}}n.addAll(list)}}}if(n.size()==e.length)break}},r.prototype.positionNodesRadially=function(e){for(var t=new h(0,0),n=Math.ceil(Math.sqrt(e.length)),i=0,o=0,a=0,s=new p(0,0),l=0;l<e.length;l++){l%n==0&&(a=0,o=i,0!=l&&(o+=u.DEFAULT_COMPONENT_SEPERATION),i=0);var c=e[l],g=f.findCenterOfTree(c);t.x=a,t.y=o,s=r.radialLayout(c,g,t),s.y>i&&(i=Math.floor(s.y)),a=Math.floor(s.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new p(d.WORLD_CENTER_X-s.x/2,d.WORLD_CENTER_Y-s.y/2))},r.radialLayout=function(e,t,n){r.branchRadialLayout(t,null,0,359,0,Math.max(this.maxDiagonalInTree(e),u.DEFAULT_RADIAL_SEPARATION));var i=y.calculateBounds(e),o=new m;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(n.x),o.setWorldOrgY(n.y);for(var a=0;a<e.length;a++){e[a].transform(o)}return o.inverseTransformPoint(new p(i.getMaxX(),i.getMaxY()))},r.branchRadialLayout=function(e,t,n,i,o,a){var s=(i-n+1)/2;s<0&&(s+=180);var l=(s+n)%360,u=l*v.TWO_PI/360;Math.cos(u);e.setCenter(o*Math.cos(u),o*Math.sin(u));var c=[];c=c.concat(e.getEdges());var d=c.length;null!=t&&d--;for(var h,p=0,f=c.length,g=e.getEdgesBetween(t);g.length>1;){var y=g[0];g.splice(0,1);var m=c.indexOf(y);m>=0&&c.splice(m,1),f--,d--}h=null!=t?(c.indexOf(g[0])+1)%f:0;for(var b=Math.abs(i-n)/d,x=h;p!=d;x=++x%f){var w=c[x].getOtherEnd(e);if(w!=t){var E=(n+p*b)%360;r.branchRadialLayout(w,e,E,(E+b)%360,o+a,a),p++}}},r.maxDiagonalInTree=function(e){for(var t=g.MIN_VALUE,n=0;n<e.length;n++){var r=e[n],i=r.getDiagonal();i>t&&(t=i)}return t},r.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},r.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),i=0;i<r.length;i++){var o=r[i],a=o.getParent();0!==this.getNodeDegreeWithChildren(o)||void 0!=a.id&&this.getToBeTiled(a)||n.push(o)}for(var i=0;i<n.length;i++){var o=n[i],l=o.getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(o)}Object.keys(t).forEach(function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var i=t[n][0].getParent(),o=new s(e.graphManager);o.id=r,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,e.idToDummyNode[r]=o;var a=e.getGraphManager().add(e.newGraph(),o),l=i.getChild();l.add(o);for(var u=0;u<t[n].length;u++){var c=t[n][u];l.remove(c),a.add(c)}}})},r.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},r.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(n){var r=e.idToDummyNode[n];t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height})},r.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e];this.adjustLocations(this.tiledMemberPack[t.id],t.rect.x,t.rect.y,t.paddingLeft,t.paddingTop)}},r.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach(function(n){var r=e.idToDummyNode[n];e.adjustLocations(t[n],r.rect.x,r.rect.y,r.paddingLeft,r.paddingTop)})},r.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),i=0;i<r.length;i++){var o=r[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[t]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[t]=!0,!0},r.prototype.getNodeDegree=function(e){for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var i=t[r];i.getSource().id!==i.getTarget().id&&(n+=1)}return n},r.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){t+=this.getNodeDegreeWithChildren(n[r])}return t},r.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},r.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},r.prototype.adjustLocations=function(e,t,n,r,i){t+=r,n+=i;for(var o=t,a=0;a<e.rows.length;a++){var s=e.rows[a];t=o;for(var l=0,u=0;u<s.length;u++){var c=s[u];c.rect.x=t,c.rect.y=n,t+=c.rect.width+e.horizontalPadding,c.rect.height>l&&(l=c.rect.height)}n+=l+e.verticalPadding}},r.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach(function(r){var i=t[r];n.tiledMemberPack[r]=n.tileNodes(e[r],i.paddingLeft+i.paddingRight),i.rect.width=n.tiledMemberPack[r].width+20,i.rect.height=n.tiledMemberPack[r].height+20})},r.prototype.tileNodes=function(e,t){var n=u.TILING_PADDING_VERTICAL,r=u.TILING_PADDING_HORIZONTAL,i={rows:[],rowWidth:[],rowHeight:[],width:20,height:20,verticalPadding:n,horizontalPadding:r};e.sort(function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0});for(var o=0;o<e.length;o++){var a=e[o];0==i.rows.length?this.insertNodeToRow(i,a,0,t):this.canAddHorizontal(i,a.rect.width,a.rect.height)?this.insertNodeToRow(i,a,this.getShortestRowIndex(i),t):this.insertNodeToRow(i,a,i.rows.length,t),this.shiftToLastRow(i)}return i},r.prototype.insertNodeToRow=function(e,t,n,r){var i=r;if(n==e.rows.length){e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0)}var o=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(o+=e.horizontalPadding),e.rowWidth[n]=o,e.width<o&&(e.width=o);var a=t.rect.height;n>0&&(a+=e.verticalPadding);var s=0;a>e.rowHeight[n]&&(s=e.rowHeight[n],e.rowHeight[n]=a,s=e.rowHeight[n]-s),e.height+=s,e.rows[n].push(t)},r.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},r.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},r.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var i=e.rowWidth[r];if(i+e.horizontalPadding+t<=e.width)return!0;var o=0;e.rowHeight[r]<n&&r>0&&(o=n+e.verticalPadding-e.rowHeight[r]);var a;a=e.width-i>=t+e.horizontalPadding?(e.height+o)/(i+t+e.horizontalPadding):(e.height+o)/e.width,o=n+e.verticalPadding;var s;return s=e.width<t?(e.height+o)/t:(e.height+o)/e.width,s<1&&(s=1/s),a<1&&(a=1/a),a<s},r.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],i=r[r.length-1],o=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>o&&t!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[t]=e.rowWidth[t]-o,e.rowWidth[n]=e.rowWidth[n]+o,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var a=Number.MIN_VALUE,s=0;s<r.length;s++)r[s].height>a&&(a=r[s].height);t>0&&(a+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=a,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);e.height+=e.rowHeight[t]+e.rowHeight[n]-l,this.shiftToLastRow(e)}},r.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},r.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},e.exports=r},function(e){"use strict";function t(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}t.prototype.getWidth=function(){return this.width},t.prototype.setWidth=function(e){this.width=e},t.prototype.getHeight=function(){return this.height},t.prototype.setHeight=function(e){this.height=e},e.exports=t},function(e){"use strict";function t(){this.listeners=[]}var n=t.prototype;n.addListener=function(e,t){this.listeners.push({event:e,callback:t})},n.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},n.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=t},function(e){"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),n=function(e){return{value:e,next:null,prev:null}},r=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},i=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e};e.exports=function(){function e(e){var t=this;this.length=0,this.head=null,this.tail=null,null!=e&&e.forEach(function(e){return t.push(e)})}return t(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return r(t.prev,n(e),t,this)}},{key:"insertAfter",value:function(e,t){return r(t,n(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return r(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return r(t,e,t.next,this)}},{key:"push",value:function(e){return r(this.tail,n(e),null,this)}},{key:"unshift",value:function(e){return r(null,n(e),this.head,this)}},{key:"remove",value:function(e){return i(e,this)}},{key:"pop",value:function(){return i(this.tail,this).value}},{key:"popNode",value:function(){return i(this.tail,this)}},{key:"shift",value:function(){return i(this.head,this).value}},{key:"shiftNode",value:function(){return i(this.head,this)}}]),e}()},function(e,t,n){"use strict";var r=n(27),i=function(e){e("layout","cose-bilkent",r(e))};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i}])})},LbY6:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n("KM04"),u=n("/QC5"),c=n("tAja"),d=n.n(c),h=(n("q8tP"),n("EuaG"));d.a.use(n.n(h).a);var p={name:"cose-bilkent",nodeDimensionsIncludeLabels:!0,numIter:5e3},f=function(e){function t(){for(var t,n,i,o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=n=r(this,e.call.apply(e,[this].concat(a))),n.cyelement=null,n.cy=null,i=t,r(n,i)}return i(t,e),t.prototype.componentDidMount=function(){this.cy=d()({container:this.cyelement,style:[{selector:"node",style:{"background-color":"data(color)",label:"data(title)","font-size":"12px","text-halign":"center","text-outline-color":"data(color)","text-outline-width":"2px",color:"#333","overlay-padding":"6px","z-index":10}},{selector:"edge",style:{width:3,"line-color":"data(color)","target-arrow-color":"data(color)","target-arrow-shape":"triangle"}},{selector:"node.highlight",style:{"border-color":"#FFF","border-width":"2px"}},{selector:"node.semitransp",style:{opacity:"0.35"}},{selector:"edge.highlight",style:{"mid-target-arrow-color":"#FFF"}},{selector:"edge.semitransp",style:{opacity:"0.2"}}],layout:p,wheelSensitivity:.1,elements:this.props.elements})},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillReceiveProps=function(e){this.cy.json(e),this.cy.layout(p)},t.prototype.componentWillUnmount=function(){this.cy.destroy()},t.prototype.getCy=function(){return this.cy},t.prototype.render=function(){var e=this;return Object(l.h)("div",{ref:function(t){return e.cyelement=t}})},t}(l.Component);n.d(t,"a",function(){return g});var g=function(e){function t(){var n,r,i;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,e.call.apply(e,[this].concat(l))),r.graph=null,i=n,a(r,i)}return s(t,e),t.prototype.componentDidMount=function(){var e=this.graph.getCy();e.$("node").on("click",function(e){Object(u.route)("/keyphrase/"+e.target.id())}),e.$("edge").on("click",function(e){var t=e.target;Object(u.route)("/connected-keyphrases/"+t.source().id()+"/"+t.target().id())}),e.on("mouseover","node",function(t){var n=t.target;e.elements().difference(n.outgoers()).difference(n.incomers()).not(n).addClass("semitransp"),n.addClass("highlight").outgoers().incomers().addClass("highlight")}),e.on("mouseout","node",function(t){var n=t.target;e.elements().removeClass("semitransp"),n.removeClass("highlight").outgoers().incomers().removeClass("highlight")})},t.prototype.render=function(){var e=this,t=this.props.elements;return Object(l.h)("div",{className:"Graph"},Object(l.h)(f,{ref:function(t){return e.graph=t},elements:t}))},t}(l.Component)},Lcy3:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("eW0v"),u=(r(l),n("5D9O")),c=r(u),d=function(e){function t(){for(var e,n,r,i,a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},i=n,o(r,i)}return a(t,e),s(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,r=i(e,["tag","children"]);return!1!==t?(0,l.createElement)(t,r,n):n}}]),t}(l.Component);d.childContextTypes={popperManager:c.default.object.isRequired},d.propTypes={tag:c.default.oneOfType([c.default.string,c.default.bool])},d.defaultProps={tag:"div"},t.default=d},QNth:function(e,t,n){e.exports=n("6W3y")},VN42:function(){},ZAL5:function(e){e.exports={home:"home__MseGd",MainTitle:"MainTitle__3O295",Dates:"Dates__38RSg",MainTitle__Title:"MainTitle__Title__VNwqb"}},jf7X:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function i(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}function a(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(o(e,t,n))return!0;e=e.parentNode}return e}function s(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}function l(e,t){var n,o;return o=n=function(n){function o(e){var t;return t=n.call(this,e)||this,t.__outsideClickHandler=function(e){if("function"==typeof t.__clickOutsideHandlerProp)return void t.__clickOutsideHandlerProp(e);var n=t.getInstance();if("function"==typeof n.props.handleClickOutside)return void n.props.handleClickOutside(e);if("function"==typeof n.handleClickOutside)return void n.handleClickOutside(e);throw new Error("WrappedComponent lacks a handleClickOutside(event) function for processing outside click events.")},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!Fe[t._uid]){void 0===we&&(we=Ae()),Fe[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),Re[t._uid]=function(e){if(!t.props.disableOnClickOutside&&null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),!t.props.excludeScrollbar||!s(e))){a(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e)}},e.forEach(function(e){var n=null;-1!==Be.indexOf(e)&&we&&(n={passive:!t.props.preventDefault}),document.addEventListener(e,Re[t._uid],n)})}},t.disableOnClickOutside=function(){delete Fe[t._uid];var e=Re[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach(function(t){return document.removeEventListener(t,e)}),delete Re[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=Ie(),t}r(o,n);var l=o.prototype;return l.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},l.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&"function"!=typeof(this.__clickOutsideHandlerProp=t.handleClickOutside(e)))throw new Error("WrappedComponent lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(Me.findDOMNode)(this.getInstance()),this.enableOnClickOutside()}},l.componentDidUpdate=function(){this.componentNode=Object(Me.findDOMNode)(this.getInstance())},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var t=this.props,n=i(t,["excludeScrollbar"]);return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(Me.createElement)(e,n)},o}(Me.Component),n.displayName="OnClickOutside("+(e.displayName||e.name||"Component")+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:ze,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},o}function u(e,t,n,r){for(var i=[],o=0;o<2*t+1;o++){var a=e+t-o,s=!0;n&&(s=n.year()<=a),r&&s&&(s=r.year()>=a),s&&i.push(a)}return i}function c(e,t,n){return e.set(t,n)}function d(e,t,n){return e.add(t,n)}function h(e,t,n){return e.subtract(t,n)}function p(e,t){return e.get(t)}function f(e,t){return e.startOf(t)}function g(e,t,n){return e.isSame(t,n)}function v(e){return Ye()(e)}function y(e){return Ye()().utc().utcOffset(e)}function m(e){return null==e?v():y(e)}function b(e){return e.clone()}function x(e,t){var n=t.dateFormat,r=t.locale,i=Ye()(e,n,r||Ye.a.locale(),!0);return i.isValid()?i:null}function w(e){return Ye.a.isMoment(e)}function E(e){return Ye.a.isDate(e)}function _(e,t){return e.format(t)}function D(e,t){var n=t.dateFormat,r=t.locale;return e&&e.clone().locale(r||Ye.a.locale()).format(Array.isArray(n)?n[0]:n)||""}function T(e,t){return e.set({hour:t.hour,minute:t.minute,second:t.second}),e}function C(e,t){return c(e,"month",t)}function S(e,t){return c(e,"year",t)}function N(e){return p(e,"second")}function O(e){return p(e,"minute")}function P(e){return p(e,"hour")}function M(e){return p(e,"day")}function k(e){return p(e,"week")}function L(e){return p(e,"month")}function A(e){return p(e,"year")}function I(e){return p(e,"date")}function R(e){return $e[e.isoWeekday()]}function F(e){return f(e,"day")}function B(e){return f(e,"week")}function z(e){return f(e,"month")}function j(e){return f(e,"date")}function V(e,t){return d(e,t,"minutes")}function Y(e,t){return d(e,t,"days")}function q(e,t){return d(e,t,"weeks")}function X(e,t){return d(e,t,"months")}function G(e,t){return d(e,t,"years")}function W(e,t){return h(e,t,"days")}function U(e,t){return h(e,t,"weeks")}function H(e,t){return h(e,t,"months")}function $(e,t){return h(e,t,"years")}function Z(e,t){return e.isBefore(t)}function Q(e,t){return e.isAfter(t)}function K(e,t){return g(e,t,"month")}function J(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}function ee(e,t,n){var r=t.clone().startOf("day").subtract(1,"seconds"),i=n.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(r,i)}function te(e,t){return e.clone().locale(t||Ye.a.locale())}function ne(e){return e.localeData()}function re(e){return Ye.a.localeData(e)}function ie(e,t){return e.weekdaysMin(t)}function oe(e,t){return e.weekdaysShort(t)}function ae(e,t,n){return e.months(t,n)}function se(e,t){return e.monthsShort(t)}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,r=t.maxDate,i=t.excludeDates,o=t.includeDates,a=t.filterDate;return n&&e.isBefore(n,"day")||r&&e.isAfter(r,"day")||i&&i.some(function(t){return J(e,t)})||o&&!o.some(function(t){return J(e,t)})||a&&!a(e.clone())||!1}function ue(e,t){for(var n=t.length,r=0;r<n;r++)if(t[r].get("hours")===e.get("hours")&&t[r].get("minutes")===e.get("minutes"))return!0;return!1}function ce(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Ye()().hours(0).minutes(0).seconds(0),o=i.clone().hours(e.get("hours")).minutes(e.get("minutes")),a=i.clone().hours(n.get("hours")).minutes(n.get("minutes")),s=i.clone().hours(r.get("hours")).minutes(r.get("minutes"));return!(o.isSameOrAfter(a)&&o.isSameOrBefore(s))}function de(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.minDate,i=n.includeDates,o=e.clone().subtract(1,t);return r&&o.isBefore(r,t)||i&&i.every(function(e){return o.isBefore(e,t)})||!1}function he(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.maxDate,i=n.includeDates,o=e.clone().add(1,t);return r&&o.isAfter(r,t)||i&&i.every(function(e){return o.isAfter(e,t)})||!1}function pe(e){var t=e.minDate,n=e.includeDates;return n&&t?Ye.a.min(n.filter(function(e){return t.isSameOrBefore(e,"day")})):n?Ye.a.min(n):t}function fe(e){var t=e.maxDate,n=e.includeDates;return n&&t?Ye.a.max(n.filter(function(e){return t.isSameOrAfter(e,"day")})):n?Ye.a.max(n):t}function ge(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=e.length;r<i;r++){var o=e[r];if(w(o)){var a=o.format("MM.DD.YYYY"),s=n.get(a)||[];s.includes(t)||(s.push(t),n.set(a,s))}else if("object"===(void 0===o?"undefined":Xe(o))){var l=Object.keys(o),u=l[0],c=o[l[0]];if("string"==typeof u&&c.constructor===Array)for(var d=0,h=c.length;d<h;d++){var p=c[d].format("MM.DD.YYYY"),f=n.get(p)||[];f.includes(u)||(f.push(u),n.set(p,f))}}}return n}function ve(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var we,Ee,_e,De=n("KM04"),Te=n("E/bI"),Ce=n("QlVn"),Se=n("ZAL5"),Ne=n.n(Se),Oe=n("LbY6"),Pe=n("jglF"),Me=(n("oU3o"),n("eW0v")),ke=(n("5D9O"),n("9qb7")),Le=n.n(ke),Ae=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}},Ie=function(e){return void 0===e&&(e=0),function(){return++e}}(),Re={},Fe={},Be=["touchstart","touchmove"],ze="ignore-react-onclickoutside",je=l,Ve=n("a2/B"),Ye=n.n(Ve),qe=n("xczG"),Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),We=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ue=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},He=function(e){function t(t){var n=Ue(this,e.call(this,t));n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return Me.default.createElement("div",{className:e===t?"react-datepicker__year-option --selected_year":"react-datepicker__year-option",key:t,ref:t,onClick:n.onChange.bind(n,t)},e===t?Me.default.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)}),r=n.props.minDate?n.props.minDate.year():null,i=n.props.maxDate?n.props.maxDate.year():null;return i&&n.state.yearsList.find(function(e){return e===i})||t.unshift(Me.default.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:n.incrementYears},Me.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&n.state.yearsList.find(function(e){return e===r})||t.push(Me.default.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:n.decrementYears},Me.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,i=t.scrollableYearDropdown;return n.state={yearsList:u(n.props.year,r||(i?10:5),n.props.minDate,n.props.maxDate)},n}return We(t,e),t.prototype.render=function(){var e=Le()({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Me.default.createElement("div",{className:e},this.renderOptions())},t}(Me.default.Component),$e={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",7:"sun"},Ze=je(He),Qe=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var e=n.props.minDate?A(n.props.minDate):1900,t=n.props.maxDate?A(n.props.maxDate):2100,r=[],i=e;i<=t;i++)r.push(Me.default.createElement("option",{key:i,value:i},i));return r},n.onSelectChange=function(e){n.onChange(e.target.value)},n.renderSelectMode=function(){return Me.default.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(e){return Me.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return n.toggleDropdown(e)}},Me.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Me.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return Me.default.createElement(Ze,{key:"dropdown",ref:"options",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})},n.renderScrollMode=function(){var e=n.state.dropdownVisible,t=[n.renderReadView(!e)];return e&&t.unshift(n.renderDropdown()),t},n.onChange=function(e){n.toggleDropdown(),e!==n.props.year&&n.props.onChange(e)},n.toggleDropdown=function(e){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,e)})},n.handleYearChange=function(e,t){n.onSelect(e,t),n.setOpen()},n.onSelect=function(e,t){n.props.onSelect&&n.props.onSelect(e,t)},n.setOpen=function(){n.props.setOpen&&n.props.setOpen(!0)},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return Me.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)},t}(Me.default.Component),Ke=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.renderOptions=function(){return n.props.monthNames.map(function(e,t){return Me.default.createElement("div",{className:n.props.month===t?"react-datepicker__month-option --selected_month":"react-datepicker__month-option",key:e,ref:e,onClick:n.onChange.bind(n,t)},n.props.month===t?Me.default.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)})},n.onChange=function(e){return n.props.onChange(e)},n.handleClickOutside=function(){return n.props.onCancel()},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){return Me.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())},t}(Me.default.Component),Je=je(Ke),et=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.state={dropdownVisible:!1},n.renderSelectOptions=function(e){return e.map(function(e,t){return Me.default.createElement("option",{key:t,value:t},e)})},n.renderSelectMode=function(e){return Me.default.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(e){return n.onChange(e.target.value)}},n.renderSelectOptions(e))},n.renderReadView=function(e,t){return Me.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},Me.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Me.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[n.props.month]))},n.renderDropdown=function(e){return Me.default.createElement(Je,{key:"dropdown",ref:"options",month:n.props.month,monthNames:e,onChange:n.onChange,onCancel:n.toggleDropdown})},n.renderScrollMode=function(e){var t=n.state.dropdownVisible,r=[n.renderReadView(!t,e)];return t&&r.unshift(n.renderDropdown(e)),r},n.onChange=function(e){n.toggleDropdown(),e!==n.props.month&&n.props.onChange(e)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){var e=this,t=re(this.props.locale),n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return se(t,v({M:e}))}:function(n){return ae(t,v({M:n}),e.props.dateFormat)}),r=void 0;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n)}return Me.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},r)},t}(Me.default.Component),tt=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.handleClick=function(e){!n.isDisabled()&&n.props.onClick&&n.props.onClick(e)},n.handleMouseEnter=function(e){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(e)},n.isSameDay=function(e){return J(n.props.day,e)},n.isKeyboardSelected=function(){return!n.props.inline&&!n.isSameDay(n.props.selected)&&n.isSameDay(n.props.preSelection)},n.isDisabled=function(){return le(n.props.day,n.props)},n.getHighLightedClass=function(){var e=n.props,t=e.day,r=e.highlightDates;return!!r&&r.get(t.format("MM.DD.YYYY"))},n.isInRange=function(){var e=n.props,t=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&ee(t,r,i)},n.isInSelectingRange=function(){var e=n.props,t=e.day,r=e.selectsStart,i=e.selectsEnd,o=e.selectingDate,a=e.startDate,s=e.endDate;return!(!r&&!i||!o||n.isDisabled())&&(r&&s&&o.isSameOrBefore(s)?ee(t,o,s):!!(i&&a&&o.isSameOrAfter(a))&&ee(t,a,o))},n.isSelectingRangeStart=function(){if(!n.isInSelectingRange())return!1;var e=n.props,t=e.day,r=e.selectingDate,i=e.startDate;return e.selectsStart?J(t,r):J(t,i)},n.isSelectingRangeEnd=function(){if(!n.isInSelectingRange())return!1;var e=n.props,t=e.day,r=e.selectingDate,i=e.endDate;return e.selectsEnd?J(t,r):J(t,i)},n.isRangeStart=function(){var e=n.props,t=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&J(r,t)},n.isRangeEnd=function(){var e=n.props,t=e.day,r=e.startDate,i=e.endDate;return!(!r||!i)&&J(i,t)},n.isWeekend=function(){var e=M(n.props.day);return 0===e||6===e},n.isOutsideMonth=function(){return void 0!==n.props.month&&n.props.month!==L(n.props.day)},n.getClassNames=function(e){var t=n.props.dayClassName?n.props.dayClassName(e):void 0;return Le()("react-datepicker__day",t,"react-datepicker__day--"+R(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--selected":n.isSameDay(n.props.selected),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isSameDay(m(n.props.utcOffset)),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isOutsideMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"))},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){return Me.default.createElement("div",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+I(this.props.day),role:"option"},I(this.props.day))},t}(Me.default.Component),nt=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.handleClick=function(e){n.props.onClick&&n.props.onClick(e)},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){var e={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!this.props.onClick};return Me.default.createElement("div",{className:Le()(e),"aria-label":"week-"+this.props.weekNumber,onClick:this.handleClick},this.props.weekNumber)},t}(Me.default.Component),rt=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleWeekClick=function(e,t,r){"function"==typeof n.props.onWeekSelect&&n.props.onWeekSelect(e,t,r)},n.formatWeekNumber=function(e){return n.props.formatWeekNumber?n.props.formatWeekNumber(e):k(e)},n.renderDays=function(){var e=B(b(n.props.day)),t=[],r=n.formatWeekNumber(e);if(n.props.showWeekNumber){var i=n.props.onWeekSelect?n.handleWeekClick.bind(n,e,r):void 0;t.push(Me.default.createElement(nt,{key:"W",weekNumber:r,onClick:i}))}return t.concat([0,1,2,3,4,5,6].map(function(t){var r=Y(b(e),t);return Me.default.createElement(tt,{key:t,day:r,month:n.props.month,onClick:n.handleDayClick.bind(n,r),onMouseEnter:n.handleDayMouseEnter.bind(n,r),minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,inline:n.props.inline,highlightDates:n.props.highlightDates,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,utcOffset:n.props.utcOffset})}))},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){return Me.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())},t}(Me.default.Component),it=6,ot=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.handleDayClick=function(e,t){n.props.onDayClick&&n.props.onDayClick(e,t)},n.handleDayMouseEnter=function(e){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(e)},n.handleMouseLeave=function(){n.props.onMouseLeave&&n.props.onMouseLeave()},n.isWeekInMonth=function(e){var t=n.props.day,r=Y(b(e),6);return K(e,t)||K(r,t)},n.renderWeeks=function(){for(var e=[],t=n.props.fixedHeight,r=B(z(b(n.props.day))),i=0,o=!1;;){if(e.push(Me.default.createElement(rt,{key:i,day:r,month:L(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,inline:n.props.inline,highlightDates:n.props.highlightDates,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,showWeekNumber:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,utcOffset:n.props.utcOffset})),o)break;i++,r=q(b(r),1);var a=t&&i>=it,s=!t&&!n.isWeekInMonth(r);if(a||s){if(!n.props.peekNextMonth)break;o=!0}}return e},n.getClassNames=function(){var e=n.props,t=e.selectingDate,r=e.selectsStart,i=e.selectsEnd;return Le()("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(r||i)})},r=t,Ue(n,r)}return We(t,e),t.prototype.render=function(){return Me.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())},t}(Me.default.Component),at=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=Ue(this,e.call.apply(e,[this].concat(o))),n.handleClick=function(e){(n.props.minTime||n.props.maxTime)&&ce(e,n.props)||n.props.excludeTimes&&ue(e,n.props.excludeTimes)||n.props.onChange(e)},n.liClasses=function(e,t,r){var i=["react-datepicker__time-list-item"];return t===P(e)&&r===O(e)&&i.push("react-datepicker__time-list-item--selected"),((n.props.minTime||n.props.maxTime)&&ce(e,n.props)||n.props.excludeTimes&&ue(e,n.props.excludeTimes))&&i.push("react-datepicker__time-list-item--disabled"),i.join(" ")},n.renderTimes=function(){for(var e=[],t=n.props.format?n.props.format:"hh:mm A",r=n.props.intervals,i=n.props.selected?n.props.selected:v(),o=P(i),a=O(i),s=F(v()),l=1440/r,u=0;u<l;u++)e.push(V(b(s),u*r));return e.map(function(e,r){return Me.default.createElement("li",{key:r,onClick:n.handleClick.bind(n,e),className:n.liClasses(e,o,a)},_(e,t))})},r=t,Ue(n,r)}return We(t,e),t.prototype.componentDidMount=function(){this.list.scrollTop=60/this.props.intervals*P(this.props.selected?this.props.selected:v())*30},t.prototype.render=function(){var e=this,t=null;return this.props.monthRef&&(t=this.props.monthRef.clientHeight-39),Me.default.createElement("div",{className:"react-datepicker__time-container "+(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},Me.default.createElement("div",{className:"react-datepicker__header react-datepicker__header--time"},Me.default.createElement("div",{className:"react-datepicker-time__header"},"Time")),Me.default.createElement("div",{className:"react-datepicker__time"},Me.default.createElement("div",{className:"react-datepicker__time-box"},Me.default.createElement("ul",{className:"react-datepicker__time-list",ref:function(t){e.list=t},style:t?{height:t}:{}},this.renderTimes.bind(this)()))))},Ge(t,null,[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null}}}]),t}(Me.default.Component),st=["react-datepicker__year-select","react-datepicker__month-select"],lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return st.some(function(e){return t.indexOf(e)>=0})},ut=function(e){function t(t){var n=Ue(this,e.call(this,t));return n.handleClickOutside=function(e){n.props.onClickOutside(e)},n.handleDropdownFocus=function(e){lt(e.target)&&n.props.onDropdownFocus()},n.getDateInView=function(){var e=n.props,t=e.preSelection,r=e.selected,i=e.openToDate,o=e.utcOffset,a=pe(n.props),s=fe(n.props),l=m(o),u=i||r||t;return u||(a&&Z(l,a)?a:s&&Q(l,s)?s:l)},n.localizeDate=function(e){return te(e,n.props.locale)},n.increaseMonth=function(){n.setState({date:X(b(n.state.date),1)},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState({date:H(b(n.state.date),1)},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(e,t){return n.props.onSelect(e,t)},n.handleDayMouseEnter=function(e){return n.setState({selectingDate:e})},n.handleMonthMouseLeave=function(){return n.setState({selectingDate:null})},n.handleYearChange=function(e){n.props.onYearChange&&n.props.onYearChange(e)},n.handleMonthChange=function(e){n.props.onMonthChange&&n.props.onMonthChange(e),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(e),n.props.setOpen&&n.props.setOpen(!0))},n.changeYear=function(e){n.setState({date:S(b(n.state.date),e)},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(e){n.setState({date:C(b(n.state.date),e)},function(){return n.handleMonthChange(n.state.date)})},n.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=B(b(e)),r=[];return n.props.showWeekNumbers&&r.push(Me.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),r.concat([0,1,2,3,4,5,6].map(function(e){var r=Y(b(t),e),i=ne(r),o=n.props.useWeekdaysShort?oe(i,r):ie(i,r);return Me.default.createElement("div",{key:e,className:"react-datepicker__day-name"},o)}))},n.renderPreviousMonthButton=function(){if(n.props.forceShowMonthNavigation||!de(n.state.date,"month",n.props))return Me.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:n.decreaseMonth})},n.renderNextMonthButton=function(){if(n.props.forceShowMonthNavigation||!he(n.state.date,"month",n.props)){var e=["react-datepicker__navigation","react-datepicker__navigation--next"];return n.props.showTimeSelect&&e.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&e.push("react-datepicker__navigation--next--with-today-button"),Me.default.createElement("a",{className:e.join(" "),onClick:n.increaseMonth})}},n.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=["react-datepicker__current-month"];return n.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),Me.default.createElement("div",{className:t.join(" ")},_(e,n.props.dateFormat))},n.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showYearDropdown&&!e)return Me.default.createElement(Qe,{adjustDateOnChange:n.props.adjustDateOnChange,date:n.state.date,onSelect:n.props.onSelect,setOpen:n.props.setOpen,dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:A(n.state.date),scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})},n.renderMonthDropdown=function(){if(n.props.showMonthDropdown)return Me.default.createElement(et,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonth,month:L(n.state.date),useShortMonthInDropdown:n.props.useShortMonthInDropdown})},n.renderTodayButton=function(){if(n.props.todayButton)return Me.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return n.props.onSelect(j(m(n.props.utcOffset)),e)}},n.props.todayButton)},n.renderMonths=function(){for(var e=[],t=0;t<n.props.monthsShown;++t){var r=X(b(n.state.date),t);e.push(Me.default.createElement("div",{key:"month-"+t,ref:function(e){n.monthContainer=e},className:"react-datepicker__month-container"},Me.default.createElement("div",{className:"react-datepicker__header"},n.renderCurrentMonth(r),Me.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+n.props.dropdownMode,onFocus:n.handleDropdownFocus},n.renderMonthDropdown(0!==t),n.renderYearDropdown(0!==t)),Me.default.createElement("div",{className:"react-datepicker__day-names"},n.header(r))),Me.default.createElement(ot,{day:r,dayClassName:n.props.dayClassName,onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,highlightDates:n.props.highlightDates,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,inline:n.props.inline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,utcOffset:n.props.utcOffset})))}return e},n.renderTimeSection=function(){if(n.props.showTimeSelect)return Me.default.createElement(at,{selected:n.props.selected,onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,todayButton:n.props.todayButton,showMonthDropdown:n.props.showMonthDropdown,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,monthRef:n.state.monthContainer})},n.state={date:n.localizeDate(n.getDateInView()),selectingDate:null,monthContainer:n.monthContainer},n}return We(t,e),Ge(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1}}}]),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){e.setState({monthContainer:e.monthContainer})}())},t.prototype.componentWillReceiveProps=function(e){e.preSelection&&!J(e.preSelection,this.props.preSelection)?this.setState({date:this.localizeDate(e.preSelection)}):e.openToDate&&!J(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeDate(e.openToDate)})},t.prototype.render=function(){return Me.default.createElement("div",{className:Le()("react-datepicker",this.props.className)},Me.default.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton(),this.renderTimeSection(),this.props.children)},t}(Me.default.Component),ct=function(e){function t(){return Ue(this,e.apply(this,arguments))}return We(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.hidePopper,r=e.popperComponent,i=e.popperModifiers,o=e.popperPlacement,a=e.targetComponent,s=void 0;if(!n){var l=Le()("react-datepicker-popper",t);s=Me.default.createElement(qe.Popper,{className:l,modifiers:i,placement:o},r)}return this.props.popperContainer&&(s=Me.default.createElement(this.props.popperContainer,{},s)),Me.default.createElement(qe.Manager,null,Me.default.createElement(qe.Target,{className:"react-datepicker-wrapper"},a),s)},Ge(t,null,[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperPlacement:"bottom-start"}}}]),t}(Me.default.Component),dt="react-datepicker-ignore-onclickoutside",ht=je(ut),pt=function(e){function t(t){var n=Ue(this,e.call(this,t));return n.getPreSelection=function(){return n.props.openToDate?v(n.props.openToDate):n.props.selectsEnd&&n.props.startDate?v(n.props.startDate):n.props.selectsStart&&n.props.endDate?v(n.props.endDate):m(n.props.utcOffset)},n.calcInitialState=function(){var e=n.getPreSelection(),t=pe(n.props),r=fe(n.props),i=t&&Z(e,t)?t:r&&Q(e,r)?r:e;return{open:n.props.startOpen||!1,preventFocus:!1,preSelection:n.props.selected?v(n.props.selected):i,highlightDates:ge(n.props.highlightDates)}},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){n.input.focus&&n.input.focus()},n.setOpen=function(e){n.setState({open:e,preSelection:e&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection})},n.handleFocus=function(e){n.state.preventFocus||(n.props.onFocus(e),n.props.preventOpenOnFocus||n.setOpen(!0))},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(e){n.state.open?n.deferFocusInput():n.props.onBlur(e)},n.handleCalendarClickOutside=function(e){n.props.inline||n.setOpen(!1),n.props.onClickOutside(e),n.props.withPortal&&e.preventDefault()},n.handleChange=function(e){if(!n.props.onChangeRaw||(n.props.onChangeRaw(e),!e.isDefaultPrevented())){n.setState({inputValue:e.target.value});var t=x(e.target.value,n.props);!t&&e.target.value||n.setSelected(t,e,!0)}},n.handleSelect=function(e,t){n.setState({preventFocus:!0},function(){return n.preventFocusTimeout=setTimeout(function(){return n.setState({preventFocus:!1})},50)}),n.setSelected(e,t),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(e):n.props.inline||n.setOpen(!1)},n.setSelected=function(e,t,r){var i=e;null!==i&&le(i,n.props)||(J(n.props.selected,i)&&!n.props.allowSameDay||(null!==i&&(n.props.selected&&(i=T(v(i),{hour:P(n.props.selected),minute:O(n.props.selected),second:N(n.props.selected)})),n.setState({preSelection:i})),n.props.onChange(i,t)),n.props.onSelect(i,t),r||n.setState({inputValue:null}))},n.setPreSelection=function(e){(!(void 0!==n.props.minDate&&void 0!==n.props.maxDate)||!e||ee(e,n.props.minDate,n.props.maxDate))&&n.setState({preSelection:e})},n.handleTimeChange=function(e){var t=n.props.selected?n.props.selected:n.getPreSelection(),r=T(b(t),{hour:P(e),minute:O(e)});n.setState({preSelection:r}),n.props.onChange(r),n.setOpen(!1)},n.onInputClick=function(){n.props.disabled||n.setOpen(!0)},n.onInputKeyDown=function(e){n.props.onKeyDown(e);var t=e.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus)return void("Enter"!==t&&"Escape"!==t&&"Tab"!==t&&n.onInputClick());var r=v(n.state.preSelection);if("Enter"===t)e.preventDefault(),w(n.state.preSelection)||E(n.state.preSelection)?(n.handleSelect(r,e),!n.props.shouldCloseOnSelect&&n.setPreSelection(r)):n.setOpen(!1);else if("Escape"===t)e.preventDefault(),n.setOpen(!1);else if("Tab"===t)n.setOpen(!1);else if(!n.props.disabledKeyboardNavigation){var i=void 0;switch(t){case"ArrowLeft":e.preventDefault(),i=W(r,1);break;case"ArrowRight":e.preventDefault(),i=Y(r,1);break;case"ArrowUp":e.preventDefault(),i=U(r,1);break;case"ArrowDown":e.preventDefault(),i=q(r,1);break;case"PageUp":e.preventDefault(),i=H(r,1);break;case"PageDown":e.preventDefault(),i=X(r,1);break;case"Home":e.preventDefault(),i=$(r,1);break;case"End":e.preventDefault(),i=G(r,1)}n.props.adjustDateOnChange&&n.setSelected(i),n.setPreSelection(i)}},n.onClearClick=function(e){e.preventDefault(),n.props.onChange(null,e),n.setState({inputValue:null})},n.renderCalendar=function(){return n.props.inline||n.state.open&&!n.props.disabled?Me.default.createElement(ht,{ref:function(e){n.calendar=e},locale:n.props.locale,adjustDateOnChange:n.props.adjustDateOnChange,setOpen:n.setOpen,dateFormat:n.props.dateFormatCalendar,useWeekdaysShort:n.props.useWeekdaysShort,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,onWeekSelect:n.props.onWeekSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,formatWeekNumber:n.props.formatWeekNumber,highlightDates:n.state.highlightDates,includeDates:n.props.includeDates,inline:n.props.inline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,useShortMonthInDropdown:n.props.useShortMonthInDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,forceShowMonthNavigation:n.props.forceShowMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,todayButton:n.props.todayButton,weekLabel:n.props.weekLabel,utcOffset:n.props.utcOffset,outsideClickIgnoreClass:dt,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,onYearChange:n.props.onYearChange,dayClassName:n.props.dayClassName,showTimeSelect:n.props.showTimeSelect,onTimeChange:n.handleTimeChange,timeFormat:n.props.timeFormat,timeIntervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,className:n.props.calendarClassName,yearDropdownItemNumber:n.props.yearDropdownItemNumber},n.props.children):null},n.renderDateInput=function(){var e,t,r=Le()(n.props.className,(e={},e[dt]=n.state.open,e)),i=n.props.customInput||Me.default.createElement("input",{type:"text"}),o=n.props.customInputRef||"ref",a="string"==typeof n.props.value?n.props.value:"string"==typeof n.state.inputValue?n.state.inputValue:D(n.props.selected,n.props);return Me.default.cloneElement(i,(t={},t[o]=function(e){n.input=e},t.value=a,t.onBlur=n.handleBlur,t.onChange=n.handleChange,t.onClick=n.onInputClick,t.onFocus=n.handleFocus,t.onKeyDown=n.onInputKeyDown,t.id=n.props.id,t.name=n.props.name,t.autoFocus=n.props.autoFocus,t.placeholder=n.props.placeholderText,t.disabled=n.props.disabled,t.autoComplete=n.props.autoComplete,t.className=r,t.title=n.props.title,t.readOnly=n.props.readOnly,t.required=n.props.required,t.tabIndex=n.props.tabIndex,t))},n.renderClearButton=function(){return n.props.isClearable&&null!=n.props.selected?Me.default.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:n.onClearClick}):null},n.state=n.calcInitialState(),n}return We(t,e),Ge(t,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"L",dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},preventOpenOnFocus:!1,onYearChange:function(){},monthsShown:1,withPortal:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,timeIntervals:30}}}]),t.prototype.componentWillReceiveProps=function(e){var t=this.props.selected&&L(this.props.selected),n=e.selected&&L(e.selected);this.props.inline&&t!==n&&this.setPreSelection(e.selected),this.props.highlightDates!==e.highlightDates&&this.setState({highlightDates:ge(e.highlightDates)})},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout()},t.prototype.render=function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?Me.default.createElement("div",null,this.props.inline?null:Me.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?Me.default.createElement("div",{className:"react-datepicker__portal"},e):null):Me.default.createElement(ct,{className:this.props.popperClassName,hidePopper:!this.state.open||this.props.disabled,popperModifiers:this.props.popperModifiers,targetComponent:Me.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperContainer:this.props.popperContainer,popperComponent:e,popperPlacement:this.props.popperPlacement})},t}(Me.default.Component),ft=pt,gt=(n("VN42"),function(e){return{dateFrom:e.dateFrom,dateTo:e.dateTo}}),vt=(Ee=Object(Te.b)(gt,{setDates:Ce.a}))(_e=function(e){function t(){for(var t,n,r,i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=ve(this,e.call.apply(e,[this].concat(o))),n.handleChangeStart=function(e){n.props.setDates({dateFrom:e,dateTo:n.props.dateTo})},n.handleChangeEnd=function(e){n.props.setDates({dateFrom:n.props.dateFrom,dateTo:e})},r=t,ve(n,r)}return ye(t,e),t.prototype.render=function(){var e=this.props,t=e.dateFrom,n=e.dateTo;return Object(De.h)("div",{class:"Dates"},Object(De.h)("div",{class:"field is-horizontal"},Object(De.h)("div",{class:"field-body"},Object(De.h)("div",{class:"field"},Object(De.h)(ft,{placeholderText:"Date from",selected:t,selectsStart:!0,startDate:t,endDate:n,onChange:this.handleChangeStart,className:"input is-medium"})),Object(De.h)("div",{class:"field"},Object(De.h)(ft,{placeholderText:"Date to",selected:n,selectsEnd:!0,startDate:t,endDate:n,onChange:this.handleChangeEnd,className:"input is-medium"})))))},t}(De.Component))||_e,yt=n("/C1n");n.d(t,"default",function(){return Et});var mt,bt,xt=function(e){return{dateFrom:e.dateFrom,dateTo:e.dateTo}},wt=Object(De.h)(vt,null),Et=(mt=Object(Te.b)(xt,{setLoading:Ce.b}))(bt=function(e){function t(n){me(this,t);var r=be(this,e.call(this,n));return r.setDates=function(e){r.setState({dateFrom:e.dateFrom,dateTo:e.dateTo})},r.load=function(e){var t=e.dateFrom,n=e.dateTo;r.props.setLoading(!0),yt.a.getTrending({dateFrom:t,dateTo:n}).then(function(e){r.setState({keywords:e.data}),r.props.setLoading(!1)}).catch(function(e){r.props.setLoading(!1),console.error(e)})},r.state={keywords:[]},r}return xe(t,e),t.prototype.componentWillReceiveProps=function(e){e.dateFrom===this.props.dateFrom&&e.dateTo===this.props.dateTo||this.load(e)},t.prototype.componentDidMount=function(){this.load(this.props)},t.prototype.render=function(){var e=this.state.keywords;return Object(De.h)("div",{class:Ne.a.home},Object(De.h)("h1",{class:"title is-2 "+Ne.a.MainTitle},Object(De.h)("div",{class:Ne.a.MainTitle__Title},"Trending key phrases"),Object(De.h)("div",{class:Ne.a.Dates},wt)),e.length>0&&Object(De.h)(Oe.a,{elements:Object(Pe.b)(e)}))},t}(De.Component))||bt},"lo/u":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function n(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function r(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},ue))}}function i(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function a(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function s(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e);return/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)?e:s(a(e))}function l(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===o(t,"position")?l(t):t:e?e.ownerDocument.documentElement:document.documentElement}function u(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||l(e.firstElementChild)===e)}function c(e){return null!==e.parentNode?c(e.parentNode):e}function d(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return u(a)?a:l(a);var s=c(e);return s.host?d(s.host,t):d(e,c(t).host)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[n]}return e[n]}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(t,"top"),i=h(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}function f(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+r+"Width"],10)}function g(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],fe()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function v(){var e=document.body,t=document.documentElement,n=fe()&&getComputedStyle(t);return{height:g("Height",e,t,n),width:g("Width",e,t,n)}}function y(e){return ye({},e,{right:e.left+e.width,bottom:e.top+e.height})}function m(e){var t={};if(fe())try{t=e.getBoundingClientRect();var n=h(e,"top"),r=h(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?v():{},s=a.width||e.clientWidth||i.right-i.left,l=a.height||e.clientHeight||i.bottom-i.top,u=e.offsetWidth-s,c=e.offsetHeight-l;if(u||c){var d=o(e);u-=f(d,"x"),c-=f(d,"y"),i.width-=u,i.height-=c}return y(i)}function b(e,t){var n=fe(),r="HTML"===t.nodeName,i=m(e),a=m(t),l=s(e),u=o(t),c=parseFloat(u.borderTopWidth,10),d=parseFloat(u.borderLeftWidth,10),h=y({top:i.top-a.top-c,left:i.left-a.left-d,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!n&&r){var f=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);h.top-=c-f,h.bottom-=c-f,h.left-=d-g,h.right-=d-g,h.marginTop=f,h.marginLeft=g}return(n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(h=p(h,t)),h}function x(e){var t=e.ownerDocument.documentElement,n=b(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0);return y({top:h(t)-n.top+n.marginTop,left:h(t,"left")-n.left+n.marginLeft,width:r,height:i})}function w(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===o(e,"position")||w(a(e)))}function E(e,t,n,r){var i={top:0,left:0},o=d(e,t);if("viewport"===r)i=x(o);else{var l=void 0;"scrollParent"===r?(l=s(a(t)),"BODY"===l.nodeName&&(l=e.ownerDocument.documentElement)):l="window"===r?e.ownerDocument.documentElement:r;var u=b(l,o);if("HTML"!==l.nodeName||w(o))i=u;else{var c=v(),h=c.height,p=c.width;i.top+=u.top-u.marginTop,i.bottom=h+u.top,i.left+=u.left-u.marginLeft,i.right=p+u.left}}return i.left+=n,i.top+=n,i.right-=n,i.bottom-=n,i}function _(e){return e.width*e.height}function D(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=E(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map(function(e){return ye({key:e},s[e],{area:_(s[e])})}).sort(function(e,t){return t.area-e.area}),u=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,d=e.split("-")[1];return c+(d?"-"+d:"")}function T(e,t,n){return b(n,d(t,n))}function C(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom);return{width:e.offsetWidth+(parseFloat(t.marginLeft)+parseFloat(t.marginRight)),height:e.offsetHeight+n}}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function N(e,t,n){n=n.split("-")[0];var r=C(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return i[a]=t[a]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[u]:t[S(s)],i}function O(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function P(e,t,n){return Array.prototype.findIndex?e.findIndex(function(e){return e[t]===n}):e.indexOf(O(e,function(e){return e[t]===n}))}function M(e,t,n){return(void 0===n?e:e.slice(0,P(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=y(t.offsets.popper),t.offsets.reference=y(t.offsets.reference),t=n(t,e))}),t}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=T(this.state,this.popper,this.reference),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=N(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=M(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function L(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function A(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var i=t[r],o=i?""+i+n:e;if(void 0!==document.body.style[o])return o}return null}function I(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[A("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function R(e){var t=e.ownerDocument;return t?t.defaultView:window}function F(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||F(s(o.parentNode),t,n,r),r.push(o)}function B(e,t,n,r){n.updateBound=r,R(e).addEventListener("resize",n.updateBound,{passive:!0});var i=s(e);return F(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function j(e,t){return R(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function V(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=j(this.reference,this.state))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(t[n])&&(r="px"),e.style[n]=t[n]+r})}function X(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function G(e){return q(e.instance.popper,e.styles),X(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e}function W(e,t,n,r,i){return t.setAttribute("x-placement",D(n.placement,T(i,t,e),t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding)),q(t,{position:"absolute"}),n}function U(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=O(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=l(e.instance.popper),u=m(s),c={position:i.position},d={left:Math.floor(i.left),top:Math.floor(i.top),bottom:Math.floor(i.bottom),right:Math.floor(i.right)},h="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=A("transform"),g=void 0,v=void 0;if(v="bottom"===h?-u.height+d.bottom:d.top,g="right"===p?-u.width+d.right:d.left,a&&f)c[f]="translate3d("+g+"px, "+v+"px, 0)",c[h]=0,c[p]=0,c.willChange="transform";else{var y="bottom"===h?-1:1,b="right"===p?-1:1;c[h]=v*y,c[p]=g*b,c.willChange=h+", "+p}return e.attributes=ye({},{"x-placement":e.placement},e.attributes),e.styles=ye({},c,e.styles),e.arrowStyles=ye({},e.offsets.arrow,e.arrowStyles),e}function H(e,t,n){var r=O(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function $(e,t){var n;if(!H(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,l=a.reference,u=-1!==["left","right"].indexOf(i),c=u?"height":"width",d=u?"Top":"Left",h=d.toLowerCase(),p=u?"left":"top",f=u?"bottom":"right",g=C(r)[c];l[f]-g<s[h]&&(e.offsets.popper[h]-=s[h]-(l[f]-g)),l[h]+g>s[f]&&(e.offsets.popper[h]+=l[h]+g-s[f]),e.offsets.popper=y(e.offsets.popper);var v=l[h]+l[c]/2-g/2,m=o(e.instance.popper),b=parseFloat(m["margin"+d],10),x=parseFloat(m["border"+d+"Width"],10),w=v-e.offsets.popper[h]-b-x;return w=Math.max(Math.min(s[c]-g,w),0),e.arrowElement=r,e.offsets.arrow=(n={},ve(n,h,Math.round(w)),ve(n,p,""),n),e}function Z(e){return"end"===e?"start":"start"===e?"end":e}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=be.indexOf(e),r=be.slice(n+1).concat(be.slice(0,n));return t?r.reverse():r}function K(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],i=S(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case xe.FLIP:a=[r,i];break;case xe.CLOCKWISE:a=Q(r);break;case xe.COUNTERCLOCKWISE:a=Q(r,!0);break;default:a=t.behavior}return a.forEach(function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],i=S(r);var u=e.offsets.popper,c=e.offsets.reference,d=Math.floor,h="left"===r&&d(u.right)>d(c.left)||"right"===r&&d(u.left)<d(c.right)||"top"===r&&d(u.bottom)>d(c.top)||"bottom"===r&&d(u.top)<d(c.bottom),p=d(u.left)<d(n.left),f=d(u.right)>d(n.right),g=d(u.top)<d(n.top),v=d(u.bottom)>d(n.bottom),y="left"===r&&p||"right"===r&&f||"top"===r&&g||"bottom"===r&&v,m=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(m&&"start"===o&&p||m&&"end"===o&&f||!m&&"start"===o&&g||!m&&"end"===o&&v);(h||y||b)&&(e.flipped=!0,(h||y)&&(r=a[l+1]),b&&(o=Z(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=ye({},e.offsets.popper,N(e.instance.popper,e.offsets.reference,e.placement)),e=M(e.instance.modifiers,e,"flip"))}),e}function J(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[u]),n[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}function ee(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return y(s)[t]/100*o}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}function te(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=a.indexOf(O(a,function(e){return-1!==e.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return u=u.map(function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return ee(e,i,t,n)})}),u.forEach(function(e,t){e.forEach(function(n,r){Y(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}function ne(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],l=void 0;return l=Y(+n)?[+n,0]:te(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e}function re(e,t){var n=t.boundariesElement||l(e.instance.popper);e.instance.reference===n&&(n=l(n));var r=E(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,o=e.offsets.popper,a={primary:function(e){var n=o[e];return o[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(o[e],r[e])),ve({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=o[n];return o[e]>r[e]&&!t.escapeWithReference&&(i=Math.min(o[n],r[e]-("right"===e?o.width:o.height))),ve({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=ye({},o,a[t](e))}),e.offsets.popper=o,e}function ie(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:ve({},l,o[l]),end:ve({},l,o[l]+o[u]-a[u])};e.offsets.popper=ye({},a,c[r])}return e}function oe(e){if(!H(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=O(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function ae(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=S(t),e.offsets.popper=y(i),e}for(var se="undefined"!=typeof window&&"undefined"!=typeof document,le=["Edge","Trident","Firefox"],ue=0,ce=0;ce<le.length;ce+=1)if(se&&navigator.userAgent.indexOf(le[ce])>=0){ue=1;break}var de=se&&window.Promise,he=de?n:r,pe=void 0,fe=function(){return void 0===pe&&(pe=-1!==navigator.appVersion.indexOf("MSIE 10")),pe},ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ve=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],be=me.slice(3),xe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},we={shift:{order:100,enabled:!0,fn:ie},offset:{order:200,enabled:!0,fn:ne,offset:0},preventOverflow:{order:300,enabled:!0,fn:re,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:J},arrow:{order:500,enabled:!0,fn:$,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:K,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:ae},hide:{order:800,enabled:!0,fn:oe},computeStyle:{order:850,enabled:!0,fn:U,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:G,onLoad:W,gpuAcceleration:void 0}},Ee={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:we},_e=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=he(this.update.bind(this)),this.options=ye({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(ye({},e.Defaults.modifiers,o.modifiers)).forEach(function(t){r.options.modifiers[t]=ye({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return ye({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return ge(e,[{key:"update",value:function(){return k.call(this)}},{key:"destroy",value:function(){return I.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return V.call(this)}}]),e}();_e.Utils=("undefined"!=typeof window?window:e).PopperUtils,_e.placements=me,_e.Defaults=Ee,t.default=_e}.call(t,n("h6ac"))},oU3o:function(e){e.exports={Dates:"Dates__1b2sI"}},piIJ:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("eW0v"),d=(r(c),n("5D9O")),h=r(d),p=n("lo/u"),f=r(p),g=function(e){function t(){for(var e,n,r,i,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){return r.context.popperManager.getTargetNode()},r._getOffsets=function(e){return Object.keys(e.offsets).map(function(t){return e.offsets[t]})},r._isDataDirty=function(e){return!r.state.data||JSON.stringify(r._getOffsets(r.state.data))!==JSON.stringify(r._getOffsets(e))},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return r._isDataDirty(e)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;if(!e)return{position:"absolute",pointerEvents:"none",opacity:0};var t=e.offsets.popper;return l({position:t.position},e.styles)},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getPopperHide=function(){return r.state.data&&r.state.data.hide?"":void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow;return{top:e.top,left:e.left}}return{}},i=n,a(r,i)}return s(t,e),u(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled||(this._destroyPopper(),this._createPopper()),e.children!==this.props.children&&this._popper.scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_createPopper",value:function(){var e=this.props,t=e.placement,n=e.eventsEnabled,r=l({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(r.arrow={element:this._arrowNode}),this._popper=new f.default(this._getTargetNode(),this._node,{placement:t,eventsEnabled:n,modifiers:r}),this._popper.scheduleUpdate()}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,r=t.innerRef,a=t.children,s=o(t,["component","innerRef","placement","eventsEnabled","modifiers","children"]),u=function(t){e._node=t,t?e._createPopper():e._destroyPopper(),"function"==typeof r&&r(t)},d=this._getPopperStyle(),h=this._getPopperPlacement(),p=this._getPopperHide();if("function"==typeof a){var f;return a({popperProps:(f={ref:u,style:d},i(f,"data-placement",h),i(f,"data-x-out-of-boundaries",p),f),restProps:s,scheduleUpdate:function(){e._popper&&e._popper.scheduleUpdate()}})}var g=l({},s,{style:l({},s.style,d),"data-placement":h,"data-x-out-of-boundaries":p});return"string"==typeof n?g.ref=u:g.innerRef=u,(0,c.createElement)(n,g,a)}}]),t}(c.Component);g.contextTypes={popperManager:h.default.object.isRequired},g.childContextTypes={popper:h.default.object.isRequired},g.propTypes={component:h.default.oneOfType([h.default.node,h.default.func]),innerRef:h.default.func,placement:h.default.oneOf(f.default.placements),eventsEnabled:h.default.bool,modifiers:h.default.object,children:h.default.oneOfType([h.default.node,h.default.func])},g.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},t.default=g},q8tP:function(module,exports,__webpack_require__){(function(global){var require,require;!function(e){module.exports=e()}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return require(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(_dereq_,module,exports){(function(global,__dirname){!function(e){if("object"==typeof exports&&void 0!==module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this,t.weaver=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){"use strict";var n=e("./is"),r=e("./util"),i=e("./promise"),o=e("./event"),a={event:{regex:/(\w+)(\.\w+)?/,optionalTypeRegex:/(\w+)?(\.\w+)?/,falseCallback:function(){return!1}},on:function(e){return e=r.extend({},{unbindSelfOnTrigger:!1,unbindAllBindersOnTrigger:!1},e),function(t,r,i){var o=this,s=void 0!==o.length,l=s?o:[o],u=n.string(t),c=e;if((n.fn(r)||!1===r)&&(i=r,r=void 0),!n.fn(i)&&!1!==i&&u)return o;if(u){var d={};d[t]=i,t=d}for(var h in t)if(i=t[h],!1===i&&(i=a.event.falseCallback),n.fn(i)){h=h.split(/\s+/);for(var p=0;p<h.length;p++){var f=h[p];if(!n.emptyString(f)){var g=f.match(a.event.regex);if(g)for(var v=g[1],y=g[2]?g[2]:void 0,m={callback:i,data:r,type:v,namespace:y,unbindSelfOnTrigger:c.unbindSelfOnTrigger,unbindAllBindersOnTrigger:c.unbindAllBindersOnTrigger,binders:l},b=0;b<l.length;b++){var x=l[b]._private;x.listeners=x.listeners||[],x.listeners.push(m)}}}}return o}},eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.removeListener=t.unlisten=t.unbind=t.off,t.emit=t.trigger,t.pon=t.promiseOn=function(){var e=this,t=Array.prototype.slice.call(arguments,0);return new i(function(n){var r=function(t){e.off.apply(e,o),n(t)},i=t.concat([r]),o=i.concat([]);e.on.apply(e,i)})}},off:function(e){return e=r.extend({},{},e),function(e,t){var r=this,i=void 0!==r.length,o=i?r:[r],s=n.string(e);if(0===arguments.length){for(var l=0;l<o.length;l++)o[l]._private.listeners=[];return r}if(s){var u={};u[e]=t,e=u}for(var c in e){t=e[c],!1===t&&(t=a.event.falseCallback),c=c.split(/\s+/);for(var d=0;d<c.length;d++){var h=c[d];if(!n.emptyString(h)){var p=h.match(a.event.optionalTypeRegex);if(p)for(var f=p[1]?p[1]:void 0,g=p[2]?p[2]:void 0,l=0;l<o.length;l++)for(var v=o[l]._private.listeners=o[l]._private.listeners||[],y=0;y<v.length;y++){var m=v[y],b=!g||g===m.namespace,x=!f||m.type===f,w=!t||t===m.callback,E=b&&x&&w;E&&(v.splice(y,1),y--)}}}}return r}},trigger:function(e){return e=r.extend({},{},e),function(e,t,r){var i=this,s=void 0!==i.length,l=s?i:[i],u=n.string(e),c=n.plainObject(e),d=n.event(e);if(u){var h=e.split(/\s+/);e=[];for(var p=0;p<h.length;p++){var f=h[p];if(!n.emptyString(f)){var g=f.match(a.event.regex);e.push({type:g[1],namespace:g[2]?g[2]:void 0})}}}else if(c){var v=e;e=[v]}t?n.array(t)||(t=[t]):t=[];for(var p=0;p<e.length;p++)for(var y=e[p],m=0;m<l.length;m++){var f,b=l[m],x=b._private.listeners=b._private.listeners||[];f=d?y:new o(y,{namespace:y.namespace}),r&&(x=[{namespace:f.namespace,type:f.type,callback:r}]);for(var w=0;w<x.length;w++){var E=x[w],_=!E.namespace||E.namespace===f.namespace,D=E.type===f.type,T=_&&D&&!0;if(T){var C=[f];if(C=C.concat(t),f.data=E.data?E.data:void 0,(E.unbindSelfOnTrigger||E.unbindAllBindersOnTrigger)&&(x.splice(w,1),w--),E.unbindAllBindersOnTrigger)for(var S=E.binders,N=0;N<S.length;N++){var O=S[N];if(O&&O!==b)for(var P=O._private.listeners,M=0;M<P.length;M++){var k=P[M];k===E&&(P.splice(M,1),M--)}}var L=b,A=E.callback.apply(L,C);(!1===A||f.isPropagationStopped())&&!1===A&&(f.stopPropagation(),f.preventDefault())}}}return i}}};t.exports=a},{"./event":2,"./is":5,"./promise":6,"./util":8}],2:[function(e,t){"use strict";function n(){return!1}function r(){return!0}var i=function e(t,i){if(!(this instanceof e))return new e(t,i);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?r:n):this.type=t,i&&(this.type=void 0!==i.type?i.type:this.type,this.namespace=i.namespace,this.layout=i.layout,this.data=i.data,this.message=i.message),this.timeStamp=t&&t.timeStamp||+new Date};i.prototype={instanceString:function(){return"event"},preventDefault:function(){this.isDefaultPrevented=r;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=r;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n},t.exports=i},{}],3:[function(e,t){"use strict";var n=e("./is"),r=e("./util"),i=e("./thread"),o=e("./promise"),a=e("./define"),s=function t(r){if(!(this instanceof t))return new t(r);this._private={pass:[]};if(n.number(r),"undefined"!=typeof navigator&&null!=navigator.hardwareConcurrency)r=navigator.hardwareConcurrency;else try{r=e("os").cpus().length}catch(e){r=4}for(var o=0;o<r;o++)this[o]=new i;this.length=r},l=s.prototype;r.extend(l,{instanceString:function(){return"fabric"},require:function(e,t){for(var n=0;n<this.length;n++){this[n].require(e,t)}return this},random:function(){return this[Math.round((this.length-1)*Math.random())]},run:function(e){var t=this._private.pass.shift();return this.random().pass(t).run(e)},message:function(e){return this.random().message(e)},broadcast:function(e){for(var t=0;t<this.length;t++){this[t].message(e)}return this},stop:function(){for(var e=0;e<this.length;e++){this[e].stop()}return this},pass:function(e){var t=this._private.pass;if(!n.array(e))throw"Only arrays may be used with fabric.pass()";return t.push(e),this},spreadSize:function(){var e=Math.ceil(this._private.pass[0].length/this.length);return e=Math.max(1,e)},spread:function(e){for(var t=this,n=t._private,r=t.spreadSize(),i=n.pass.shift().concat([]),a=[],s=0;s<this.length;s++){a.push(this[s].pass(i.splice(0,r)).run(e));if(0===i.length)break}return o.all(a).then(function(e){for(var t=[],n=0,r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++){var a=i[o];t[n++]=a}return t})},map:function(e){var t=this;return t.require(e,"_$_$_fabmap"),t.spread(function(e){var t=[],n=resolve;resolve=function(e){t.push(e)};for(var r=0;r<e.length;r++){var i=t.length,o=_$_$_fabmap(e[r]);i===t.length&&t.push(o)}return resolve=n,t})},filter:function(e){var t=this._private,n=t.pass[0];return this.map(e).then(function(e){for(var t=[],r=0;r<n.length;r++){var i=n[r];e[r]&&t.push(i)}return t})},sort:function(e){var t=this,n=this._private.pass[0].length,r=this.spreadSize();return e=e||function(e,t){return e<t?-1:e>t?1:0},t.require(e,"_$_$_cmp"),t.spread(function(e){var t=e.sort(_$_$_cmp);resolve(t)}).then(function(t){for(var i=r;i<n;i*=2)for(var o=0;o<n;o+=2*i)!function(r,i,o){i=Math.min(i,n),o=Math.min(o,n);for(var a=r,s=i,l=[],u=a;u<o;u++){var c=t[r],d=t[i];r<s&&(i>=o||e(c,d)<=0)?(l.push(c),r++):(l.push(d),i++)}for(var u=0;u<l.length;u++){t[a+u]=l[u]}}(o,o+i,o+2*i);return t})}});var u=function(e){return e=e||{},function(t,n){var r=this._private.pass.shift();return this.random().pass(r)[e.threadFn](t,n)}};r.extend(l,{randomMap:u({threadFn:"map"}),reduce:u({threadFn:"reduce"}),reduceRight:u({threadFn:"reduceRight"})});var c=l;c.promise=c.run,c.terminate=c.halt=c.stop,c.include=c.require,r.extend(l,{on:a.on(),one:a.on({unbindSelfOnTrigger:!0}),off:a.off(),trigger:a.trigger()}),a.eventAliasesOn(l),t.exports=s},{"./define":1,"./is":5,"./promise":6,"./thread":7,"./util":8,os:void 0}],4:[function(e,t){"use strict";var n=e("./thread"),r=e("./fabric"),i=function(){};i.version="1.2.0",i.thread=i.Thread=i.worker=i.Worker=n,i.fabric=i.Fabric=r,t.exports=i},{"./fabric":3,"./thread":7}],5:[function(e,t){"use strict";var n=typeof{},r=function(e){return e&&e.instanceString&&i.fn(e.instanceString)?e.instanceString():null},i={defined:function(e){return null!=e},string:function(e){return null!=e&&"string"==typeof e},fn:function(e){return null!=e&&"function"==typeof e},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&typeof e===n&&!i.array(e)&&e.constructor===Object},object:function(e){return null!=e&&typeof e===n},number:function(e){return null!=e&&"number"==typeof e&&!isNaN(e)},integer:function(e){return i.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&typeof e==typeof!0},event:function(e){return"event"===r(e)},thread:function(e){return"thread"===r(e)},fabric:function(e){return"fabric"===r(e)},emptyString:function(e){return!e||!(!i.string(e)||""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!i.string(e)||""===e||e.match(/^\s+$/))}};t.exports=i},{}],6:[function(e,t){"use strict";var n=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};n.prototype={fulfill:function(e){return r(this,1,"fulfillValue",e)},reject:function(e){return r(this,2,"rejectReason",e)},then:function(e,t){var r=this,o=new n;return r.onFulfilled.push(a(e,o,"fulfill")),r.onRejected.push(a(t,o,"reject")),i(r),o.proxy}};var r=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,i(e)),e},i=function(e){1===e.state?o(e,"onFulfilled",e.fulfillValue):2===e.state&&o(e,"onRejected",e.rejectReason)},o=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},a=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}s(t,i)}}},s=function e(t,n){if(t===n||t.proxy===n)return void t.reject(new TypeError("cannot resolve promise with itself"));var r;if("object"==typeof n&&null!==n||"function"==typeof n)try{r=n.then}catch(e){return void t.reject(e)}if("function"!=typeof r)t.fulfill(n);else{var i=!1;try{r.call(n,function(r){i||(i=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))},function(e){i||(i=!0,t.reject(e))})}catch(e){i||t.reject(e)}}},l=void 0===l?n:l;l.all=l.all||function(e){return new l(function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,++i===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t];null!=r.then?r.then(function(e){o(t,e)},function(e){n(e)}):o(t,r)}(a)})},t.exports=l},{}],7:[function(_dereq_,module,exports){"use strict";var window=_dereq_("./window"),util=_dereq_("./util"),Promise=_dereq_("./promise"),Event=_dereq_("./event"),define=_dereq_("./define"),is=_dereq_("./is"),Thread=function e(t){if(!(this instanceof e))return new e(t);var n=this._private={requires:[],files:[],queue:null,pass:[],disabled:!1};is.plainObject(t)&&null!=t.disabled&&(n.disabled=!!t.disabled)},thdfn=Thread.prototype,stringifyFieldVal=function(e){return is.fn(e)?e.toString():"JSON.parse('"+JSON.stringify(e)+"')"},fnAsRequire=function e(t){var n,r;is.object(t)&&t.fn?(n=fnAs(t.fn,t.name),r=t.name,t=t.fn):is.fn(t)?(n=t.toString(),r=t.name):is.string(t)?n=t:is.object(t)&&(n=t.proto?"":t.name+" = {};",r=t.name,t=t.obj),n+="\n";var i=function(t,r){if(t.prototype){var i=!1;for(var o in t.prototype){i=!0;break}i&&(n+=e({name:r,obj:t,proto:!0},t))}};if(t.prototype&&null!=r)for(var o in t.prototype){var a="",s=t.prototype[o],l=stringifyFieldVal(s),u=r+".prototype."+o;a+=u+" = "+l+";\n",a&&(n+=a),i(s,u)}if(!is.string(t))for(var o in t){var c="";if(t.hasOwnProperty(o)){var s=t[o],l=stringifyFieldVal(s),u=r+'["'+o+'"]';c+=u+" = "+l+";\n"}c&&(n+=c),i(s,u)}return n},isPathStr=function(e){return is.string(e)&&e.match(/\.js$/)};util.extend(thdfn,{instanceString:function(){return"thread"},require:function(e,t){var n=this._private.requires;if(isPathStr(e))return this._private.files.push(e),this;if(t)e=is.fn(e)?{name:t,fn:e}:{name:t,obj:e};else if(is.fn(e)){if(!e.name)throw'The function name could not be automatically determined.  Use thread.require( someFunction, "someFunction" )';e={name:e.name,fn:e}}return n.push(e),this},pass:function(e){return this._private.pass.push(e),this},run:function run(fn,pass){var self=this,_p=this._private;if(pass=pass||_p.pass.shift(),_p.stopped)throw"Attempted to run a stopped thread!  Start a new thread or do not stop the existing thread and reuse it.";if(_p.running)return _p.queue=_p.queue.then(function(){return self.run(fn,pass)});var useWW=null!=window&&!_p.disabled,useNode=!window&&void 0!==module&&!_p.disabled;self.trigger("run");var runP=new Promise(function(resolve,reject){_p.running=!0;var threadTechAlreadyExists=_p.ran,fnImplStr=is.string(fn)?fn:fn.toString(),fnStr="\n"+_p.requires.map(function(e){return fnAsRequire(e)}).concat(_p.files.map(function(e){if(useWW){return'importScripts("'+function(e){return e.match(/^\.\//)||e.match(/^\.\./)?window.location.origin+window.location.pathname+e:e.match(/^\//)?window.location.origin+"/"+e:e}(e)+'");'}if(useNode)return'eval( require("fs").readFileSync("'+e+'", { encoding: "utf8" }) );';throw"External file `"+e+"` can not be required without any threading technology."})).concat(["( function(){","var ret = ("+fnImplStr+")("+JSON.stringify(pass)+");","if( ret !== undefined ){ resolve(ret); }","} )()\n"]).join("\n");if(_p.requires=[],_p.files=[],useWW){var fnBlob,fnUrl;if(!threadTechAlreadyExists){var fnPre=fnStr+"";fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };","function message(m){ postMessage(m); };","function listen(fn){",'  self.addEventListener("message", function(m){ ','    if( typeof m === "object" && (m.data.$$eval || m.data === "$$start") ){',"    } else { ","      fn( m.data );","    }","  });","};",'self.addEventListener("message", function(m){  if( m.data.$$eval ){ eval( m.data.$$eval ); }  });',"function resolve(v){ postMessage({ $$resolve: v }); };","function reject(v){ postMessage({ $$reject: v }); };"].join("\n"),fnStr+=fnPre,fnBlob=new Blob([fnStr],{type:"application/javascript"}),fnUrl=window.URL.createObjectURL(fnBlob)}var ww=_p.webworker=_p.webworker||new Worker(fnUrl);threadTechAlreadyExists&&ww.postMessage({$$eval:fnStr});var _cb2;ww.addEventListener("message",_cb2=function(e){var t=is.object(e)&&is.object(e.data);t&&"$$resolve"in e.data?(ww.removeEventListener("message",_cb2),resolve(e.data.$$resolve)):t&&"$$reject"in e.data?(ww.removeEventListener("message",_cb2),reject(e.data.$$reject)):self.trigger(new Event(e,{type:"message",message:e.data}))},!1),threadTechAlreadyExists||ww.postMessage("$$start")}else if(useNode){_p.child||(_p.child=_dereq_("child_process").fork(_dereq_("path").join(__dirname,"thread-node-fork")));var child=_p.child,_cb2;child.on("message",_cb2=function(e){is.object(e)&&"$$resolve"in e?(child.removeListener("message",_cb2),resolve(e.$$resolve)):is.object(e)&&"$$reject"in e?(child.removeListener("message",_cb2),reject(e.$$reject)):self.trigger(new Event({},{type:"message",message:e}))}),child.send({$$eval:fnStr})}else{var promiseResolve=resolve,promiseReject=reject,timer=_p.timer=_p.timer||{listeners:[],exec:function exec(){fnStr=["function _ref_(o){ return eval(o); };","function broadcast(m){ return message(m); };",'function message(m){ self.trigger( new Event({}, { type: "message", message: m }) ); };',"function listen(fn){ timer.listeners.push( fn ); };","function resolve(v){ promiseResolve(v); };","function reject(v){ promiseReject(v); };"].join("\n")+fnStr,eval(fnStr)},message:function(e){for(var t=timer.listeners,n=0;n<t.length;n++){(0,t[n])(e)}}};timer.exec()}}).then(function(e){return _p.running=!1,_p.ran=!0,self.trigger("ran"),e});return null==_p.queue&&(_p.queue=runP),runP},message:function(e){var t=this._private;return t.webworker&&t.webworker.postMessage(e),t.child&&t.child.send(e),t.timer&&t.timer.message(e),this},stop:function(){var e=this._private;return e.webworker&&e.webworker.terminate(),e.child&&e.child.kill(),e.stopped=!0,this.trigger("stop")},stopped:function(){return this._private.stopped}});var fnAs=function(e,t){var n=e.toString();return n=n.replace(/function\s*?\S*?\s*?\(/,"function "+t+"(")},defineFnal=function(e){return e=e||{},function(t,n){return this.require(fnAs(t,"_$_$_"+e.name)),this.run(["function( data ){","  var origResolve = resolve;","  var res = [];","  ","  resolve = function( val ){","    res.push( val );","  };","  ","  var ret = data."+e.name+"( _$_$_"+e.name+(arguments.length>1?", "+JSON.stringify(n):"")+" );","  ","  resolve = origResolve;","  resolve( res.length > 0 ? res : ret );","}"].join("\n"))}};util.extend(thdfn,{reduce:defineFnal({name:"reduce"}),reduceRight:defineFnal({name:"reduceRight"}),map:defineFnal({name:"map"})});var fn=thdfn;fn.promise=fn.run,fn.terminate=fn.halt=fn.stop,fn.include=fn.require,util.extend(thdfn,{on:define.on(),one:define.on({unbindSelfOnTrigger:!0}),off:define.off(),trigger:define.trigger()}),define.eventAliasesOn(thdfn),module.exports=Thread},{"./define":1,"./event":2,"./is":5,"./promise":6,"./util":8,"./window":9,child_process:void 0,path:void 0}],8:[function(e,t){"use strict";var n,r=e("./is");n={extend:function(){var e,t,i,o,a,s,l=arguments[0]||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},u=2),"object"==typeof l||r.fn(l)||(l={}),c===u&&(l=this,--u);u<c;u++)if(null!=(e=arguments[u]))for(t in e)i=l[t],o=e[t],l!==o&&(d&&o&&(r.plainObject(o)||(a=r.array(o)))?(a?(a=!1,s=i&&r.array(i)?i:[]):s=i&&r.plainObject(i)?i:{},l[t]=n.extend(d,s,o)):void 0!==o&&(l[t]=o));return l},error:function(e){if(!console)throw e;if(console.error)console.error.apply(console,arguments);else{if(!console.log)throw e;console.log.apply(console,arguments)}}},t.exports=n},{"./is":5}],9:[function(e,t){t.exports="undefined"==typeof window?null:window},{}]},{},[4])(4)})}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/node_modules/weaverjs/dist")},{}],2:[function(t,n){window.foograph={insertVertex:function(e){this.vertices.push(e),this.vertexCount++},insertEdge:function(e,t,n,r,i){var o=new foograph.Edge(e,t,r,i),a=new foograph.Edge(null,t,n,null);return n.edges.push(o),r.reverseEdges.push(a),o},removeEdge:function(e,t){for(var n=e.edges.length-1;n>=0;n--)if(e.edges[n].endVertex==t){e.edges.splice(n,1);break}for(var n=t.reverseEdges.length-1;n>=0;n--)if(t.reverseEdges[n].endVertex==e){t.reverseEdges.splice(n,1);break}},removeVertex:function(e){for(var t=e.edges.length-1;t>=0;t--)this.removeEdge(e,e.edges[t].endVertex);for(var t=e.reverseEdges.length-1;t>=0;t--)this.removeEdge(e.reverseEdges[t].endVertex,e);for(var t=this.vertices.length-1;t>=0;t--)if(this.vertices[t]==e){this.vertices.splice(t,1);break}this.vertexCount--},plot:function(e){var t=0;for(t=0;t<this.vertices.length;t++){var n=this.vertices[t];if(!n.hidden)for(var r=0;r<n.edges.length;r++){var i=n.edges[r];i.hidden||i.draw(e,n)}}for(t=0;t<this.vertices.length;t++)n=this.vertices[t],n.hidden||n.draw(e)},Graph:function(e,t){this.label=e,this.vertices=new Array,this.directed=t,this.vertexCount=0,this.insertVertex=foograph.insertVertex,this.removeVertex=foograph.removeVertex,this.insertEdge=foograph.insertEdge,this.removeEdge=foograph.removeEdge,this.plot=foograph.plot},Vertex:function(e,t,n,r){this.label=e,this.edges=new Array,this.reverseEdges=new Array,this.x=t,this.y=n,this.dx=0,this.dy=0,this.level=-1,this.numberOfParents=0,this.hidden=!1,this.fixed=!1,this.style=null!=r?r:new foograph.VertexStyle("ellipse",80,40,"#ffffff","#000000",!0)},VertexStyle:function(e,t,n,r,i,o){this.shape=e,this.width=t,this.height=n,this.fillColor=r,this.borderColor=i,this.showLabel=o},Edge:function(e,t,n,r){this.label=e,this.weight=t,this.endVertex=n,this.style=null,this.hidden=!1,this.curved=!1,this.controlX=-1,this.controlY=-1,this.original=null,this.style=null!=r?r:new foograph.EdgeStyle(2,"#000000",!0,!1)},EdgeStyle:function(e,t,n,r){this.width=e,this.color=t,this.showArrow=n,this.showLabel=r},RandomVertexLayout:function(e,t){this.width=e,this.height=t},ForceDirectedVertexLayout:function(e,t,n,r,i){this.width=e,this.height=t,this.iterations=n,this.randomize=r,this.eps=i,this.callback=function(){}},A:1.5,R:.5},foograph.Vertex.prototype.toString=function(){return"[v:"+this.label+"] "},foograph.Edge.prototype.toString=function(){return"[e:"+this.endVertex.label+"] "},foograph.Vertex.prototype.draw=function(e){var t=this.x,n=this.y,r=this.style.width,i=this.style.height,o=this.style.shape;e.setStroke(2),e.setColor(this.style.fillColor),"rect"==o?(e.fillRect(t,n,r,i),e.setColor(this.style.borderColor),e.drawRect(t,n,r,i)):(e.fillEllipse(t,n,r,i),e.setColor(this.style.borderColor),e.drawEllipse(t,n,r,i)),this.style.showLabel&&e.drawStringRect(this.label,t,n+i/2-7,r,"center")},foograph.Graph.prototype.normalize=function(e,t,n){for(var r in this.vertices){var i=this.vertices[r];i.oldX=i.x,i.oldY=i.y}var o=.1*e,a=.9*e,s=.1*t,l=.9*t;null==n&&(n=!0);var u=Number.MAX_VALUE,c=Number.MAX_VALUE,d=Number.MIN_VALUE,h=Number.MIN_VALUE;for(var p in this.vertices){var i=this.vertices[p];i.x<u&&(u=i.x),i.y<c&&(c=i.y),i.x>d&&(d=i.x),i.y>h&&(h=i.y)}var f=(a-o)/(d-u),g=(l-s)/(h-c);n&&(f=Math.min(f,g),g=Math.min(f,g));var v=Number.MIN_VALUE,y=Number.MIN_VALUE;for(var r in this.vertices){var i=this.vertices[r];i.x=(i.x-u)*f,i.y=(i.y-c)*g,i.x>v&&(v=i.x),i.y>y&&(y=i.y)}var m=(e-v)/2,b=(t-y)/2;for(var r in this.vertices){var i=this.vertices[r];i.x+=m,i.y+=b}},foograph.Edge.prototype.draw=function(e,t){function n(e){return(1-e)*(1-e)*u+2*(1-e)*e*p+e*e*d}function r(e){return(1-e)*(1-e)*c+2*(1-e)*e*f+e*e*h}function i(e,t){var n=0;return e>0&&t>=0&&(n=Math.atan(t/e)),e>0&&t<0&&(n=Math.atan(t/e)+2*Math.PI),e<0&&(n=Math.atan(t/e)+Math.PI),(e=0)&&(n=Math.PI/2),(e=0)&&(n=3*Math.PI/2),n}function o(e,t){return Math.sqrt(e*e+t*t)}var a,s,l,u=Math.round(t.x+t.style.width/2),c=Math.round(t.y+t.style.height/2),d=Math.round(this.endVertex.x+this.endVertex.style.width/2),h=Math.round(this.endVertex.y+this.endVertex.style.height/2),p=this.controlX,f=this.controlY;if(e.setStroke(this.style.width),e.setColor(this.style.color),this.curved){this.curved=!1;for(var g,v,y=0,m=u,b=c;y<.9;)y+=.1,g=n(y),v=r(y),e.drawLine(m,b,g,v),m=g,b=v;a=m,s=b,l=i(n(.8)-a,r(.8)-s)}else e.drawLine(u,c,d,h),a=d,s=h,l=i(u-a,c-s);this.style.showArrow&&function(t,n,r){var a=0,s=0,l=50,u=5,c=50,d=-5,h=o(l,u),p=o(c,d),f=i(l,u),g=i(c,d);f+=t,g+=t,l=h*Math.cos(f),u=h*Math.sin(f),c=p*Math.cos(g),d=p*Math.sin(g),a+=n,s+=r,l+=n,u+=r,c+=n,d+=r,e.fillPolygon(new Array(a,l,c),new Array(s,u,d))}(l,a,s)},foograph.RandomVertexLayout.prototype.layout=function(e){for(var t=0;t<e.vertices.length;t++){var n=e.vertices[t];n.x=Math.round(Math.random()*this.width),n.y=Math.round(Math.random()*this.height)}},foograph.ForceDirectedVertexLayout.prototype.__identifyComponents=function(t){var n=new Array,r=new Array;for(var i in t.vertices){var o=t.vertices[i];o.__dfsVisited=!1}for(var a in t.vertices){var o=t.vertices[a];o.__dfsVisited||o.hidden||function(e){function t(e){o.push(e),e.__dfsVisited=!0;for(var t in e.edges){var n=e.edges[t];n.hidden||i.push(n.endVertex)}for(var t in e.reverseEdges)e.reverseEdges[t].hidden||i.push(e.reverseEdges[t].endVertex)}var i=new Array,o=new Array,a=new foograph.Vertex("component_center",-1,-1);for(a.hidden=!0,n.push(a),r.push(o),t(e);i.length>0;){var s=i.pop();s.__dfsVisited||s.hidden||t(s)}}(o)}if(n.length>1){for(var i in n)t.insertVertex(n[i]);for(var i in r)for(var s in r[i])edge=t.insertEdge("",1,r[i][s],n[i]),edge.hidden=!0;for(var i in n)for(var s in n)i!=s&&(e=t.insertEdge("",3,n[i],n[s]),e.hidden=!0);return n}return null},foograph.ForceDirectedVertexLayout.prototype.layout=function(e){this.graph=e;var t=this.width*this.height,n=Math.sqrt(t/e.vertexCount),r=this.width/10,i=r/(this.iterations+1),o=this.eps;centers=this.__identifyComponents(e),this.randomize&&(randomLayout=new foograph.RandomVertexLayout(this.width,this.height),randomLayout.layout(e));for(var a=0;a<this.iterations;a++){for(var s in e.vertices){var l=e.vertices[s];if(l.dx=0,l.dy=0,!l.fixed)for(var u in e.vertices){var c=e.vertices[u];if(l!=c&&!c.fixed){var d=l.x-c.x,h=l.y-c.y,p=Math.max(o,Math.sqrt(d*d+h*h)),f=function(e){return foograph.R*n*n/e}(p);l.dx=l.dx+d/p*f,l.dy=l.dy+h/p*f}}}for(var g in e.vertices){var l=e.vertices[g];if(!l.fixed)for(var v in l.edges){var y=l.edges[v],c=y.endVertex,d=l.x-c.x,h=l.y-c.y,p=Math.max(o,Math.sqrt(d*d+h*h)),f=function(e){return foograph.A*e*e/n}(p),p=Math.max(o,Math.sqrt(d*d+h*h));l.dx=l.dx-d/p*f,l.dy=l.dy-h/p*f,c.dx=c.dx+d/p*f,c.dy=c.dy+h/p*f}}for(var m in e.vertices){var l=e.vertices[m];if(!l.fixed){var p=Math.max(o,Math.sqrt(l.dx*l.dx+l.dy*l.dy));l.x=l.x+l.dx/p*Math.min(p,r),l.y=l.y+l.dy/p*Math.min(p,r),l.x=Math.round(l.x),l.y=Math.round(l.y)}}r-=i,a%10==0&&this.callback()}if(centers)for(var b in centers)e.removeVertex(centers[b]);e.normalize(this.width,this.height,!0)},n.exports=foograph},{}],3:[function(e,t){"use strict";var n=e("./layout"),r=function(t,r){t("layout","spread",n(t,r||e("weaverjs")))};"undefined"==typeof cytoscape||"undefined"==typeof weaver&&void 0===cytoscape.Thread||r(cytoscape,weaver||cytoscape),t.exports=r},{"./layout":4,weaverjs:1}],4:[function(e,t){function n(e){var t=this.options={};for(var n in a)t[n]=a[n];for(var n in e)t[n]=e[n]}var r,i=e("./foograph"),o=e("./rhill-voronoi-core"),a={animate:!0,ready:void 0,stop:void 0,fit:!0,minDist:20,padding:20,expandingFactor:-1,maxFruchtermanReingoldIterations:50,maxExpandIterations:4,boundingBox:void 0,randomize:!1};n.prototype.run=function(){function e(e){for(var t=e.vertices,r=[],i=0;i<t.length;++i){var o=t[i];r[o.id]={x:o.x,y:o.y}}l.positions(function(e,t){"number"==typeof e&&(e=t);var n=e.id(),i=r[n];return{x:Math.round(g.x1+i.x),y:Math.round(g.y1+i.y)}}),n.fit&&a.fit(n.padding)}var t=this,n=this.options,a=n.cy,s=n.boundingBox||{x1:0,y1:0,w:a.width(),h:a.height()};void 0===s.x2&&(s.x2=s.x1+s.w),void 0===s.w&&(s.w=s.x2-s.x1),void 0===s.y2&&(s.y2=s.y1+s.h),void 0===s.h&&(s.h=s.y2-s.y1);var l=a.nodes(),u=a.edges(),c=a.width(),d=a.height(),h=s,p=n.padding,f=Math.max(1,.8*Math.log(l.length));l.length<100&&(f/=2),t.trigger({type:"layoutstart",layout:t});var g={x1:0,y1:0,x2:c*f,y2:d*f};h&&(g.x1=h.x1,g.y1=h.y1,g.x2=h.x2,g.y2=h.y2),g.x1+=p,g.y1+=p,g.x2-=p,g.y2-=p;var v=g.x2-g.x1,y=g.y2-g.y1,m=Date.now();if(l.size()<=1){l.positions({x:Math.round((g.x1+g.x2)/2),y:Math.round((g.y1+g.y2)/2)}),n.fit&&a.fit(n.padding);var b=Date.now();return console.info("Layout on "+l.size()+" nodes took "+(b-m)+" ms"),t.one("layoutready",n.ready),t.trigger("layoutready"),t.one("layoutstop",n.stop),void t.trigger("layoutstop")}for(var x={width:v,height:y,minDist:n.minDist,expFact:n.expandingFactor,expIt:0,maxExpIt:n.maxExpandIterations,vertices:[],edges:[],startTime:m,maxFruchtermanReingoldIterations:n.maxFruchtermanReingoldIterations},w=l.length-1;w>=0;w--){var E=l[w].id(),_=l[w].position();n.randomize&&(_={x:Math.round(g.x1+(g.x2-g.x1)*Math.random()),y:Math.round(g.y1+(g.y2-g.y1)*Math.random())}),x.vertices.push({id:E,x:_.x,y:_.y})}for(var w=u.length-1;w>=0;w--){x.edges.push({src:u[w].source().id(),tgt:u[w].target().id()})}var D=t.thread;D&&!D.stopped()||(D=t.thread=r(),D.require(i,"foograph"),D.require(o,"Voronoi"));var T=!1;return D.on("message",function(r){var i=r.message;n.animate&&(e(i),T||(t.trigger("layoutready"),T=!0))}),t.one("layoutready",n.ready),D.pass(x).run(function(e){function t(e){for(var t,n,r,i=e.halfedges,o=0,a=0,s=0,l=0;l<i.length;++l)t=i[l].getEndpoint(),n=i[l].getStartpoint(),o+=t.x*n.y,o-=t.y*n.x,r=t.x*n.y-n.x*t.y,a+=(t.x+n.x)*r,s+=(t.y+n.y)*r;return o/=2,r=6*o,{x:a/r,y:s/r}}function n(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function r(e){for(var t=0,r=0;r<e.length;++r){var i=e[r];null!=i.lSite&&null!=i.rSite&&n(i.lSite,i.rSite)<l&&++t}return t}i=_ref_("foograph"),o=_ref_("Voronoi");for(var a=e.width,s=e.height,l=e.minDist,u=e.expFact,c=e.maxExpIt,d=e.maxFruchtermanReingoldIterations,h=function(){e.width=a,e.height=s,e.expIt=B,e.expFact=u,e.vertices=[];for(var t=0;t<E.length;++t)e.vertices.push({id:E[t].label,x:E[t].x,y:E[t].y})},p=function(){broadcast(e)},f=new i.Graph("FRgraph",!1),g={},v=e.vertices,y=0;y<v.length;++y){var m=v[y].id,b=new i.Vertex(m,Math.round(Math.random()*s),Math.round(Math.random()*s));g[m]=b,f.insertVertex(b)}for(var x=e.edges,w=0;w<x.length;++w){f.insertEdge("",1,g[x[w].src],g[x[w].tgt])}var E=f.vertices,_=d,D=new i.ForceDirectedVertexLayout(a,s,_,!1,l);if(D.callback=function(){h(),p()},D.layout(f),h(),p(),c<=0)return e;for(var T=new o,C={xl:0,xr:a,yt:0,yb:s},S=[],N=0;N<E.length;++N)S[E[N].label]=E[N];for(var O=T.compute(E,C),P=O.cells,N=0;N<P.length;++N){var M=P[N],k=M.site,L=t(M),A=S[k.label];A.x=L.x,A.y=L.y}u<0&&(u=Math.max(.05,Math.min(.1,l/Math.sqrt(a*s/E.length)*.5)));for(var I=r(O.edges),R=I<=0||c<=0,F=0,B=0;!R;){++F;for(var z=0;z<=4;++z){T.recycle(O),O=T.compute(E,C);for(var N=0;N<P.length;++N){var M=P[N],k=M.site,L=t(M),A=S[k.label];A.x=L.x,A.y=L.y}}var j=r(O.edges);j<=0?R=!0:(j>=I||F>=4)&&(B>=c?R=!0:(a+=a*u,s+=s*u,C={xl:0,xr:a,yt:0,yb:s},++B,F=0)),I=j,h(),p()}return h(),e}).then(function(r){var i=r.vertices;e(r);var o=r.startTime,a=new Date;console.info("Layout on "+i.length+" nodes took "+(a-o)+" ms"),t.one("layoutstop",n.stop),n.animate||t.trigger("layoutready"),t.trigger("layoutstop"),D.stop()}),this},n.prototype.stop=function(){this.thread&&this.thread.stop(),this.trigger("layoutstop")},n.prototype.destroy=function(){this.thread&&this.thread.stop()},t.exports=function(e,t){return r=t.Thread,n}},{"./foograph":2,"./rhill-voronoi-core":5}],5:[function(e,t){function n(){this.vertices=null,this.edges=null,this.cells=null,this.toRecycle=null,this.beachsectionJunkyard=[],this.circleEventJunkyard=[],this.vertexJunkyard=[],this.edgeJunkyard=[],this.cellJunkyard=[]}n.prototype.reset=function(){if(this.beachline||(this.beachline=new this.RBTree),this.beachline.root)for(var e=this.beachline.getFirst(this.beachline.root);e;)this.beachsectionJunkyard.push(e),e=e.rbNext;this.beachline.root=null,this.circleEvents||(this.circleEvents=new this.RBTree),this.circleEvents.root=this.firstCircleEvent=null,this.vertices=[],this.edges=[],this.cells=[]},n.prototype.sqrt=function(e){return Math.sqrt(e)},n.prototype.abs=function(e){return Math.abs(e)},n.prototype.ε=n.ε=1e-9,n.prototype.invε=n.invε=1/n.ε,n.prototype.equalWithEpsilon=function(e,t){return this.abs(e-t)<1e-9},n.prototype.greaterThanWithEpsilon=function(e,t){return e-t>1e-9},n.prototype.greaterThanOrEqualWithEpsilon=function(e,t){return t-e<1e-9},n.prototype.lessThanWithEpsilon=function(e,t){return t-e>1e-9},n.prototype.lessThanOrEqualWithEpsilon=function(e,t){return e-t<1e-9},n.prototype.RBTree=function(){this.root=null},n.prototype.RBTree.prototype.rbInsertSuccessor=function(e,t){var n;if(e){if(t.rbPrevious=e,t.rbNext=e.rbNext,e.rbNext&&(e.rbNext.rbPrevious=t),e.rbNext=t,e.rbRight){for(e=e.rbRight;e.rbLeft;)e=e.rbLeft;e.rbLeft=t}else e.rbRight=t;n=e}else this.root?(e=this.getFirst(this.root),t.rbPrevious=null,t.rbNext=e,e.rbPrevious=t,e.rbLeft=t,n=e):(t.rbPrevious=t.rbNext=null,this.root=t,n=null);t.rbLeft=t.rbRight=null,t.rbParent=n,t.rbRed=!0;var r,i;for(e=t;n&&n.rbRed;)r=n.rbParent,n===r.rbLeft?(i=r.rbRight,i&&i.rbRed?(n.rbRed=i.rbRed=!1,r.rbRed=!0,e=r):(e===n.rbRight&&(this.rbRotateLeft(n),e=n,n=e.rbParent),n.rbRed=!1,r.rbRed=!0,this.rbRotateRight(r))):(i=r.rbLeft,i&&i.rbRed?(n.rbRed=i.rbRed=!1,r.rbRed=!0,e=r):(e===n.rbLeft&&(this.rbRotateRight(n),e=n,n=e.rbParent),n.rbRed=!1,r.rbRed=!0,this.rbRotateLeft(r))),n=e.rbParent;this.root.rbRed=!1},n.prototype.RBTree.prototype.rbRemoveNode=function(e){e.rbNext&&(e.rbNext.rbPrevious=e.rbPrevious),e.rbPrevious&&(e.rbPrevious.rbNext=e.rbNext),e.rbNext=e.rbPrevious=null;var t,n=e.rbParent,r=e.rbLeft,i=e.rbRight;t=r?i?this.getFirst(i):r:i,n?n.rbLeft===e?n.rbLeft=t:n.rbRight=t:this.root=t;var o;if(r&&i?(o=t.rbRed,t.rbRed=e.rbRed,t.rbLeft=r,r.rbParent=t,t!==i?(n=t.rbParent,t.rbParent=e.rbParent,e=t.rbRight,n.rbLeft=e,t.rbRight=i,i.rbParent=t):(t.rbParent=n,n=t,e=t.rbRight)):(o=e.rbRed,e=t),e&&(e.rbParent=n),!o){if(e&&e.rbRed)return void(e.rbRed=!1);var a;do{if(e===this.root)break;if(e===n.rbLeft){if(a=n.rbRight,a.rbRed&&(a.rbRed=!1,n.rbRed=!0,this.rbRotateLeft(n),a=n.rbRight),a.rbLeft&&a.rbLeft.rbRed||a.rbRight&&a.rbRight.rbRed){a.rbRight&&a.rbRight.rbRed||(a.rbLeft.rbRed=!1,a.rbRed=!0,this.rbRotateRight(a),a=n.rbRight),a.rbRed=n.rbRed,n.rbRed=a.rbRight.rbRed=!1,this.rbRotateLeft(n),e=this.root;break}}else if(a=n.rbLeft,a.rbRed&&(a.rbRed=!1,n.rbRed=!0,this.rbRotateRight(n),a=n.rbLeft),a.rbLeft&&a.rbLeft.rbRed||a.rbRight&&a.rbRight.rbRed){a.rbLeft&&a.rbLeft.rbRed||(a.rbRight.rbRed=!1,a.rbRed=!0,this.rbRotateLeft(a),a=n.rbLeft),a.rbRed=n.rbRed,n.rbRed=a.rbLeft.rbRed=!1,this.rbRotateRight(n),e=this.root;break}a.rbRed=!0,e=n,n=n.rbParent}while(!e.rbRed);e&&(e.rbRed=!1)}},n.prototype.RBTree.prototype.rbRotateLeft=function(e){var t=e,n=e.rbRight,r=t.rbParent;r?r.rbLeft===t?r.rbLeft=n:r.rbRight=n:this.root=n,n.rbParent=r,t.rbParent=n,t.rbRight=n.rbLeft,t.rbRight&&(t.rbRight.rbParent=t),n.rbLeft=t},n.prototype.RBTree.prototype.rbRotateRight=function(e){var t=e,n=e.rbLeft,r=t.rbParent;r?r.rbLeft===t?r.rbLeft=n:r.rbRight=n:this.root=n,n.rbParent=r,t.rbParent=n,t.rbLeft=n.rbRight,t.rbLeft&&(t.rbLeft.rbParent=t),n.rbRight=t},n.prototype.RBTree.prototype.getFirst=function(e){for(;e.rbLeft;)e=e.rbLeft;return e},n.prototype.RBTree.prototype.getLast=function(e){for(;e.rbRight;)e=e.rbRight;return e},n.prototype.Diagram=function(e){this.site=e},n.prototype.Cell=function(e){this.site=e,this.halfedges=[],this.closeMe=!1},n.prototype.Cell.prototype.init=function(e){return this.site=e,this.halfedges=[],this.closeMe=!1,this},n.prototype.createCell=function(e){var t=this.cellJunkyard.pop();return t?t.init(e):new this.Cell(e)},n.prototype.Cell.prototype.prepareHalfedges=function(){for(var e,t=this.halfedges,n=t.length;n--;)e=t[n].edge,e.vb&&e.va||t.splice(n,1);return t.sort(function(e,t){return t.angle-e.angle}),t.length},n.prototype.Cell.prototype.getNeighborIds=function(){for(var e,t=[],n=this.halfedges.length;n--;)e=this.halfedges[n].edge,null!==e.lSite&&e.lSite.voronoiId!=this.site.voronoiId?t.push(e.lSite.voronoiId):null!==e.rSite&&e.rSite.voronoiId!=this.site.voronoiId&&t.push(e.rSite.voronoiId);return t},n.prototype.Cell.prototype.getBbox=function(){for(var e,t,n,r=this.halfedges,i=r.length,o=1/0,a=1/0,s=-1/0,l=-1/0;i--;)e=r[i].getStartpoint(),t=e.x,n=e.y,t<o&&(o=t),n<a&&(a=n),t>s&&(s=t),n>l&&(l=n);return{x:o,y:a,width:s-o,height:l-a}},n.prototype.Cell.prototype.pointIntersection=function(e,t){for(var n,r,i,o,a=this.halfedges,s=a.length;s--;){if(n=a[s],r=n.getStartpoint(),i=n.getEndpoint(),!(o=(t-r.y)*(i.x-r.x)-(e-r.x)*(i.y-r.y)))return 0;if(o>0)return-1}return 1},n.prototype.Vertex=function(e,t){this.x=e,this.y=t},n.prototype.Edge=function(e,t){this.lSite=e,this.rSite=t,this.va=this.vb=null},n.prototype.Halfedge=function(e,t,n){if(this.site=t,this.edge=e,n)this.angle=Math.atan2(n.y-t.y,n.x-t.x);else{var r=e.va,i=e.vb;this.angle=e.lSite===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}},n.prototype.createHalfedge=function(e,t,n){return new this.Halfedge(e,t,n)},n.prototype.Halfedge.prototype.getStartpoint=function(){return this.edge.lSite===this.site?this.edge.va:this.edge.vb},n.prototype.Halfedge.prototype.getEndpoint=function(){return this.edge.lSite===this.site?this.edge.vb:this.edge.va},n.prototype.createVertex=function(e,t){var n=this.vertexJunkyard.pop();return n?(n.x=e,n.y=t):n=new this.Vertex(e,t),this.vertices.push(n),n},n.prototype.createEdge=function(e,t,n,r){var i=this.edgeJunkyard.pop();return i?(i.lSite=e,i.rSite=t,i.va=i.vb=null):i=new this.Edge(e,t),this.edges.push(i),n&&this.setEdgeStartpoint(i,e,t,n),r&&this.setEdgeEndpoint(i,e,t,r),this.cells[e.voronoiId].halfedges.push(this.createHalfedge(i,e,t)),this.cells[t.voronoiId].halfedges.push(this.createHalfedge(i,t,e)),i},n.prototype.createBorderEdge=function(e,t,n){var r=this.edgeJunkyard.pop();return r?(r.lSite=e,r.rSite=null):r=new this.Edge(e,null),r.va=t,r.vb=n,this.edges.push(r),r},n.prototype.setEdgeStartpoint=function(e,t,n,r){e.va||e.vb?e.lSite===n?e.vb=r:e.va=r:(e.va=r,e.lSite=t,e.rSite=n)},n.prototype.setEdgeEndpoint=function(e,t,n,r){this.setEdgeStartpoint(e,n,t,r)},n.prototype.Beachsection=function(){},n.prototype.createBeachsection=function(e){var t=this.beachsectionJunkyard.pop();return t||(t=new this.Beachsection),t.site=e,t},n.prototype.leftBreakPoint=function(e,t){var n=e.site,r=n.x,i=n.y,o=i-t;if(!o)return r;var a=e.rbPrevious;if(!a)return-1/0;n=a.site;var s=n.x,l=n.y,u=l-t;if(!u)return s;var c=s-r,d=1/o-1/u,h=c/u;return d?(-h+this.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-o/2)))/d+r:(r+s)/2},n.prototype.rightBreakPoint=function(e,t){var n=e.rbNext;if(n)return this.leftBreakPoint(n,t);var r=e.site;return r.y===t?r.x:1/0},n.prototype.detachBeachsection=function(e){this.detachCircleEvent(e),this.beachline.rbRemoveNode(e),this.beachsectionJunkyard.push(e)},n.prototype.removeBeachsection=function(e){var t=e.circleEvent,n=t.x,r=t.ycenter,i=this.createVertex(n,r),o=e.rbPrevious,a=e.rbNext,s=[e],l=Math.abs;this.detachBeachsection(e);for(var u=o;u.circleEvent&&l(n-u.circleEvent.x)<1e-9&&l(r-u.circleEvent.ycenter)<1e-9;)o=u.rbPrevious,s.unshift(u),this.detachBeachsection(u),u=o;s.unshift(u),this.detachCircleEvent(u);for(var c=a;c.circleEvent&&l(n-c.circleEvent.x)<1e-9&&l(r-c.circleEvent.ycenter)<1e-9;)a=c.rbNext,s.push(c),this.detachBeachsection(c),c=a;s.push(c),this.detachCircleEvent(c);var d,h=s.length;for(d=1;d<h;d++)c=s[d],u=s[d-1],this.setEdgeStartpoint(c.edge,u.site,c.site,i);u=s[0],c=s[h-1],c.edge=this.createEdge(u.site,c.site,void 0,i),this.attachCircleEvent(u),this.attachCircleEvent(c)},n.prototype.addBeachsection=function(e){for(var t,n,r,i,o=e.x,a=e.y,s=this.beachline.root;s;)if((r=this.leftBreakPoint(s,a)-o)>1e-9)s=s.rbLeft;else{if(!((i=o-this.rightBreakPoint(s,a))>1e-9)){r>-1e-9?(t=s.rbPrevious,n=s):i>-1e-9?(t=s,n=s.rbNext):t=n=s;break}if(!s.rbRight){t=s;break}s=s.rbRight}var l=this.createBeachsection(e);if(this.beachline.rbInsertSuccessor(t,l),t||n){if(t===n)return this.detachCircleEvent(t),n=this.createBeachsection(t.site),this.beachline.rbInsertSuccessor(l,n),l.edge=n.edge=this.createEdge(t.site,l.site),this.attachCircleEvent(t),void this.attachCircleEvent(n);if(t&&!n)return void(l.edge=this.createEdge(t.site,l.site));if(t!==n){this.detachCircleEvent(t),this.detachCircleEvent(n);var u=t.site,c=u.x,d=u.y,h=e.x-c,p=e.y-d,f=n.site,g=f.x-c,v=f.y-d,y=2*(h*v-p*g),m=h*h+p*p,b=g*g+v*v,x=this.createVertex((v*m-p*b)/y+c,(h*b-g*m)/y+d);return this.setEdgeStartpoint(n.edge,u,f,x),l.edge=this.createEdge(u,e,void 0,x),n.edge=this.createEdge(e,f,void 0,x),this.attachCircleEvent(t),void this.attachCircleEvent(n)}}},n.prototype.CircleEvent=function(){this.arc=null,this.rbLeft=null,this.rbNext=null,this.rbParent=null,this.rbPrevious=null,this.rbRed=!1,this.rbRight=null,this.site=null,this.x=this.y=this.ycenter=0},n.prototype.attachCircleEvent=function(e){var t=e.rbPrevious,n=e.rbNext;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,d=o.y-s,h=2*(l*d-u*c);if(!(h>=-2e-12)){var p=l*l+u*u,f=c*c+d*d,g=(d*p-u*f)/h,v=(l*f-c*p)/h,y=v+s,m=this.circleEventJunkyard.pop();m||(m=new this.CircleEvent),m.arc=e,m.site=i,m.x=g+a,m.y=y+this.sqrt(g*g+v*v),m.ycenter=y,e.circleEvent=m;for(var b=null,x=this.circleEvents.root;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.rbLeft){b=x.rbPrevious;break}x=x.rbLeft}else{if(!x.rbRight){b=x;break}x=x.rbRight}this.circleEvents.rbInsertSuccessor(b,m),b||(this.firstCircleEvent=m)}}}},n.prototype.detachCircleEvent=function(e){var t=e.circleEvent;t&&(t.rbPrevious||(this.firstCircleEvent=t.rbNext),this.circleEvents.rbRemoveNode(t),this.circleEventJunkyard.push(t),e.circleEvent=null)},n.prototype.connectEdge=function(e,t){var n=e.vb;if(n)return!0;var r,i,o=e.va,a=t.xl,s=t.xr,l=t.yt,u=t.yb,c=e.lSite,d=e.rSite,h=c.x,p=c.y,f=d.x,g=d.y,v=(h+f)/2,y=(p+g)/2;if(this.cells[c.voronoiId].closeMe=!0,this.cells[d.voronoiId].closeMe=!0,g!==p&&(r=(h-f)/(g-p),i=y-r*v),void 0===r){if(v<a||v>=s)return!1;if(h>f){if(!o||o.y<l)o=this.createVertex(v,l);else if(o.y>=u)return!1;n=this.createVertex(v,u)}else{if(!o||o.y>u)o=this.createVertex(v,u);else if(o.y<l)return!1;n=this.createVertex(v,l)}}else if(r<-1||r>1)if(h>f){if(!o||o.y<l)o=this.createVertex((l-i)/r,l);else if(o.y>=u)return!1;n=this.createVertex((u-i)/r,u)}else{if(!o||o.y>u)o=this.createVertex((u-i)/r,u);else if(o.y<l)return!1;n=this.createVertex((l-i)/r,l)}else if(p<g){if(!o||o.x<a)o=this.createVertex(a,r*a+i);else if(o.x>=s)return!1;n=this.createVertex(s,r*s+i)}else{if(!o||o.x>s)o=this.createVertex(s,r*s+i);else if(o.x<a)return!1;n=this.createVertex(a,r*a+i)}return e.va=o,e.vb=n,!0},n.prototype.clipEdge=function(e,t){var n=e.va.x,r=e.va.y,i=e.vb.x,o=e.vb.y,a=0,s=1,l=i-n,u=o-r,c=n-t.xl;if(0===l&&c<0)return!1;var d=-c/l;if(l<0){if(d<a)return!1;d<s&&(s=d)}else if(l>0){if(d>s)return!1;d>a&&(a=d)}if(c=t.xr-n,0===l&&c<0)return!1;if(d=c/l,l<0){if(d>s)return!1;d>a&&(a=d)}else if(l>0){if(d<a)return!1;d<s&&(s=d)}if(c=r-t.yt,0===u&&c<0)return!1;if(d=-c/u,u<0){if(d<a)return!1;d<s&&(s=d)}else if(u>0){if(d>s)return!1;d>a&&(a=d)}if(c=t.yb-r,0===u&&c<0)return!1;if(d=c/u,u<0){if(d>s)return!1;d>a&&(a=d)}else if(u>0){if(d<a)return!1;d<s&&(s=d)}return a>0&&(e.va=this.createVertex(n+a*l,r+a*u)),s<1&&(e.vb=this.createVertex(n+s*l,r+s*u)),(a>0||s<1)&&(this.cells[e.lSite.voronoiId].closeMe=!0,this.cells[e.rSite.voronoiId].closeMe=!0),!0},n.prototype.clipEdges=function(e){for(var t,n=this.edges,r=n.length,i=Math.abs;r--;)t=n[r],(!this.connectEdge(t,e)||!this.clipEdge(t,e)||i(t.va.x-t.vb.x)<1e-9&&i(t.va.y-t.vb.y)<1e-9)&&(t.va=t.vb=null,n.splice(r,1))},n.prototype.closeCells=function(e){for(var t,n,r,i,o,a,s,l,u,c=e.xl,d=e.xr,h=e.yt,p=e.yb,f=this.cells,g=f.length,v=Math.abs;g--;)if(t=f[g],t.prepareHalfedges()&&t.closeMe){for(r=t.halfedges,i=r.length,n=0;n<i;){if(a=r[n].getEndpoint(),l=r[(n+1)%i].getStartpoint(),v(a.x-l.x)>=1e-9||v(a.y-l.y)>=1e-9)switch(!0){case this.equalWithEpsilon(a.x,c)&&this.lessThanWithEpsilon(a.y,p):if(u=this.equalWithEpsilon(l.x,c),s=this.createVertex(c,u?l.y:p),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;a=s;case this.equalWithEpsilon(a.y,p)&&this.lessThanWithEpsilon(a.x,d):if(u=this.equalWithEpsilon(l.y,p),s=this.createVertex(u?l.x:d,p),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;a=s;case this.equalWithEpsilon(a.x,d)&&this.greaterThanWithEpsilon(a.y,h):if(u=this.equalWithEpsilon(l.x,d),s=this.createVertex(d,u?l.y:h),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;a=s;case this.equalWithEpsilon(a.y,h)&&this.greaterThanWithEpsilon(a.x,c):if(u=this.equalWithEpsilon(l.y,h),s=this.createVertex(u?l.x:c,h),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;if(a=s,u=this.equalWithEpsilon(l.x,c),s=this.createVertex(c,u?l.y:p),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;if(a=s,u=this.equalWithEpsilon(l.y,p),s=this.createVertex(u?l.x:d,p),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;if(a=s,u=this.equalWithEpsilon(l.x,d),s=this.createVertex(d,u?l.y:h),o=this.createBorderEdge(t.site,a,s),n++,r.splice(n,0,this.createHalfedge(o,t.site,null)),i++,u)break;default:throw"Voronoi.closeCells() > this makes no sense!"}n++}t.closeMe=!1}},n.prototype.quantizeSites=function(e){for(var t,n=this.ε,r=e.length;r--;)t=e[r],t.x=Math.floor(t.x/n)*n,t.y=Math.floor(t.y/n)*n},n.prototype.recycle=function(e){if(e){if(!(e instanceof this.Diagram))throw"Voronoi.recycleDiagram() > Need a Diagram object.";this.toRecycle=e}},n.prototype.compute=function(e,t){var n=new Date;this.reset(),this.toRecycle&&(this.vertexJunkyard=this.vertexJunkyard.concat(this.toRecycle.vertices),this.edgeJunkyard=this.edgeJunkyard.concat(this.toRecycle.edges),this.cellJunkyard=this.cellJunkyard.concat(this.toRecycle.cells),this.toRecycle=null);var r=e.slice(0);r.sort(function(e,t){var n=t.y-e.y;return n||t.x-e.x});for(var i,o,a,s=r.pop(),l=0,u=this.cells;;)if(a=this.firstCircleEvent,s&&(!a||s.y<a.y||s.y===a.y&&s.x<a.x))s.x===i&&s.y===o||(u[l]=this.createCell(s),s.voronoiId=l++,this.addBeachsection(s),o=s.y,i=s.x),s=r.pop();else{if(!a)break;this.removeBeachsection(a.arc)}this.clipEdges(t),this.closeCells(t);var c=new Date,d=new this.Diagram;return d.cells=this.cells,d.edges=this.edges,d.vertices=this.vertices,d.execTime=c.getTime()-n.getTime(),this.reset(),d},t.exports=n},{}]},{},[3])(3)})}).call(exports,__webpack_require__("h6ac"))},tAja:function(e,t,n){!function(t,r){e.exports=r(n("QNth"),n("4PZ+"))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=116)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(4),o=i?i.navigator:null,a=i?i.document:null,s=r(""),l=r({}),u=r(function(){}),c="undefined"==typeof HTMLElement?"undefined":r(HTMLElement),d=function(e){return e&&e.instanceString&&h.fn(e.instanceString)?e.instanceString():null},h={defined:function(e){return null!=e},string:function(e){return null!=e&&(void 0===e?"undefined":r(e))==s},fn:function(e){return null!=e&&(void 0===e?"undefined":r(e))===u},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&(void 0===e?"undefined":r(e))===l&&!h.array(e)&&e.constructor===Object},object:function(e){return null!=e&&(void 0===e?"undefined":r(e))===l},number:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r(1)&&!isNaN(e)},integer:function(e){return h.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r(!0)},htmlElement:function(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return h.element(e)||h.collection(e)},element:function(e){return"collection"===d(e)&&e._private.single},collection:function(e){return"collection"===d(e)&&!e._private.single},core:function(e){return"core"===d(e)},style:function(e){return"style"===d(e)},stylesheet:function(e){return"stylesheet"===d(e)},event:function(e){return"event"===d(e)},thread:function(e){return"thread"===d(e)},fabric:function(e){return"fabric"===d(e)},emptyString:function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!h.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(e){return h.plainObject(e)&&h.number(e.x1)&&h.number(e.x2)&&h.number(e.y1)&&h.number(e.y2)},promise:function(e){return h.object(e)&&h.fn(e.then)},touch:function(){return i&&("ontouchstart"in i||i.DocumentTouch&&a instanceof DocumentTouch)},gecko:function(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in a.documentElement.style)},webkit:function(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in a.documentElement.style)},chromium:function(){return i&&"undefined"!=typeof chrome},khtml:function(){return o&&o.vendor.match(/kde/i)},khtmlEtc:function(){return h.khtml()||h.webkit()||h.chromium()},ms:function(){return o&&o.userAgent.match(/msie|trident|edge/i)},windows:function(){return o&&o.appVersion.match(/Win/i)},mac:function(){return o&&o.appVersion.match(/Mac/i)},linux:function(){return o&&o.appVersion.match(/Linux/i)},unix:function(){return o&&o.appVersion.match(/X11/i)}};e.exports=h},function(e,t,n){"use strict";var r=n(0),i=n(2),o={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:r.array(e)?e.slice():r.plainObject(e)?this.clone(e):e},copyArray:function(e){return e.slice()},clonePosition:function(e){return{x:e.x,y:e.y}},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};o.makeBoundingBox=i.makeBoundingBox.bind(i),o._staticEmptyObject={},o.staticEmptyObject=function(){return o._staticEmptyObject},o.extend=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];e[a]=r[a]}}return e},o.assign=o.extend,o.default=function(e,t){return void 0===e?t:e},o.removeFromArray=function(e,t,n){for(var r=e.length;r>=0&&(e[r]!==t||(e.splice(r,1),n));r--);},o.clearArray=function(e){e.splice(0,e.length)},o.push=function(e,t){for(var n=0;n<t.length;n++){e.push(t[n])}},o.getPrefixedProperty=function(e,t,n){return n&&(t=this.prependCamel(n,t)),e[t]},o.setPrefixedProperty=function(e,t,n,r){n&&(t=this.prependCamel(n,t)),e[t]=r},[n(130),n(131),{memoize:n(19)},n(132),n(134),n(135),n(133)].forEach(function(e){o.extend(o,e)}),e.exports=o},function(e){"use strict";var t={};t.arePositionsSame=function(e,t){return e.x===t.x&&e.y===t.y},t.copyPosition=function(e){return{x:e.x,y:e.y}},t.modelToRenderedPosition=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},t.renderedToModelPosition=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},t.array2point=function(e){return{x:e[0],y:e[1]}},t.deg2rad=function(e){return Math.PI*e/180},t.getAngleFromDisp=function(e,t){return Math.atan2(t,e)-Math.PI/2},t.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},t.signum=function(e){return e>0?1:e<0?-1:0},t.dist=function(e,n){return Math.sqrt(t.sqdist(e,n))},t.sqdist=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},t.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},t.qbezierPtAt=function(e,n,r,i){return{x:t.qbezierAt(e.x,n.x,r.x,i),y:t.qbezierAt(e.y,n.y,r.y,i)}},t.lineAt=function(e,n,r,i){var o={x:n.x-e.x,y:n.y-e.y},a=t.dist(e,n),s={x:o.x/a,y:o.y/a};return r=null==r?0:r,i=null!=i?i:r*a,{x:e.x+s.x*i,y:e.y+s.y*i}},t.lineAtDist=function(e,n,r){return t.lineAt(e,n,void 0,r)},t.triangleAngle=function(e,n,r){var i=t.dist(n,r),o=t.dist(e,r),a=t.dist(e,n);return Math.acos((i*i+o*o-a*a)/(2*i*o))},t.bound=function(e,t,n){return Math.max(e,Math.min(n,t))},t.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},t.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},t.expandBoundingBoxByPoint=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},t.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},t.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},t.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},t.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},t.boundingBoxInBoundingBox=function(e,n){return t.inBoundingBox(e,n.x1,n.y1)&&t.inBoundingBox(e,n.x2,n.y2)},t.roundRectangleIntersectLine=function(e,t,n,r,i,o,a){var s=this.getRoundRectangleRadius(i,o),l=i/2,u=o/2,c=void 0,d=n-l+s-a,h=r-u-a;if(c=this.finiteLinesIntersect(e,t,n,r,d,h,n+l-s+a,h,!1),c.length>0)return c;var p=n+l+a;if(c=this.finiteLinesIntersect(e,t,n,r,p,r-u+s-a,p,r+u-s+a,!1),c.length>0)return c;var f=n-l+s-a,g=r+u+a;if(c=this.finiteLinesIntersect(e,t,n,r,f,g,n+l-s+a,g,!1),c.length>0)return c;var v=n-l-a;if(c=this.finiteLinesIntersect(e,t,n,r,v,r-u+s-a,v,r+u-s+a,!1),c.length>0)return c;var y=void 0,m=n-l+s,b=r-u+s;if(y=this.intersectLineCircle(e,t,n,r,m,b,s+a),y.length>0&&y[0]<=m&&y[1]<=b)return[y[0],y[1]];var x=n+l-s,w=r-u+s;if(y=this.intersectLineCircle(e,t,n,r,x,w,s+a),y.length>0&&y[0]>=x&&y[1]<=w)return[y[0],y[1]];var E=n+l-s,_=r+u-s;if(y=this.intersectLineCircle(e,t,n,r,E,_,s+a),y.length>0&&y[0]>=E&&y[1]>=_)return[y[0],y[1]];var D=n-l+s,T=r+u-s;return y=this.intersectLineCircle(e,t,n,r,D,T,s+a),y.length>0&&y[0]<=D&&y[1]>=T?[y[0],y[1]]:[]},t.inLineVicinity=function(e,t,n,r,i,o,a){var s=a,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,o),d=Math.max(r,o);return l-s<=e&&e<=u+s&&c-s<=t&&t<=d+s},t.inBezierVicinity=function(e,t,n,r,i,o,a,s,l){var u={x1:Math.min(n,a,i)-l,x2:Math.max(n,a,i)+l,y1:Math.min(r,s,o)-l,y2:Math.max(r,s,o)+l};return!(e<u.x1||e>u.x2||t<u.y1||t>u.y2)},t.solveQuadratic=function(e,t,n,r){n-=r;var i=t*t-4*e*n;if(i<0)return[];var o=Math.sqrt(i),a=2*e;return[(-t+o)/a,(-t-o)/a]},t.solveCubic=function(e,t,n,r,i){t/=e,n/=e,r/=e;var o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0,h=void 0;return a=(3*n-t*t)/9,s=-27*r+t*(9*n-t*t*2),s/=54,o=a*a*a+s*s,i[1]=0,d=t/3,o>0?(u=s+Math.sqrt(o),u=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=s-Math.sqrt(o),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-d+u+c,d+=(u+c)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-c+u)/2,i[3]=d,void(i[5]=-d)):(i[5]=i[3]=0,0===o?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,void(i[4]=i[2]=-(h+d))):(a=-a,l=a*a*a,l=Math.acos(s/Math.sqrt(l)),h=2*Math.sqrt(a),i[0]=-d+h*Math.cos(l/3),i[2]=-d+h*Math.cos((l+2*Math.PI)/3),void(i[4]=-d+h*Math.cos((l+4*Math.PI)/3))))},t.sqdistToQuadraticBezier=function(e,t,n,r,i,o,a,s){var l=1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,u=9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,c=3*n*n-6*n*i+n*a-n*e+2*i*i+2*i*e-a*e+3*r*r-6*r*o+r*s-r*t+2*o*o+2*o*t-s*t,d=1*n*i-n*n+n*e-i*e+r*o-r*r+r*t-o*t,h=[];this.solveCubic(l,u,c,d,h);for(var p=[],f=0;f<6;f+=2)Math.abs(h[f+1])<1e-7&&h[f]>=0&&h[f]<=1&&p.push(h[f]);p.push(1),p.push(0);for(var g=-1,v=void 0,y=void 0,m=void 0,b=0;b<p.length;b++)v=Math.pow(1-p[b],2)*n+2*(1-p[b])*p[b]*i+p[b]*p[b]*a,y=Math.pow(1-p[b],2)*r+2*(1-p[b])*p[b]*o+p[b]*p[b]*s,m=Math.pow(v-e,2)+Math.pow(y-t,2),g>=0?m<g&&(g=m):g=m;return g},t.sqdistToFiniteLine=function(e,t,n,r,i,o){var a=[e-n,t-r],s=[i-n,o-r],l=s[0]*s[0]+s[1]*s[1],u=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],d=c*c/l;return c<0?u:d>l?(e-i)*(e-i)+(t-o)*(t-o):u-d},t.pointInsidePolygonPoints=function(e,t,n){for(var r=void 0,i=void 0,o=void 0,a=void 0,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],a=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],a=n[2*(l+1-n.length/2)+1]),r==e&&o==e);else{if(!(r>=e&&e>=o||r<=e&&e<=o))continue;(e-r)/(o-r)*(a-i)+i>t&&s++}return s%2!=0},t.pointInsidePolygon=function(e,n,r,i,o,a,s,l,u){var c=new Array(r.length),d=void 0;null!=l[0]?(d=Math.atan(l[1]/l[0]),l[0]<0?d+=Math.PI/2:d=-d-Math.PI/2):d=l;for(var h=Math.cos(-d),p=Math.sin(-d),f=0;f<c.length/2;f++)c[2*f]=a/2*(r[2*f]*h-r[2*f+1]*p),c[2*f+1]=s/2*(r[2*f+1]*h+r[2*f]*p),c[2*f]+=i,c[2*f+1]+=o;var g=void 0;if(u>0){g=this.joinLines(this.expandPolygon(c,-u))}else g=c;return t.pointInsidePolygonPoints(e,n,g)},t.joinLines=function(e){for(var t=new Array(e.length/2),n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=0;c<e.length/4;c++){n=e[4*c],r=e[4*c+1],i=e[4*c+2],o=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],s=e[4*(c+1)+1],l=e[4*(c+1)+2],u=e[4*(c+1)+3]):(a=e[0],s=e[1],l=e[2],u=e[3]);var d=this.finiteLinesIntersect(n,r,i,o,a,s,l,u,!0);t[2*c]=d[0],t[2*c+1]=d[1]}return t},t.expandPolygon=function(e,t){for(var n=new Array(2*e.length),r=void 0,i=void 0,o=void 0,a=void 0,s=0;s<e.length/2;s++){r=e[2*s],i=e[2*s+1],s<e.length/2-1?(o=e[2*(s+1)],a=e[2*(s+1)+1]):(o=e[0],a=e[1]);var l=a-i,u=-(o-r),c=Math.sqrt(l*l+u*u),d=l/c,h=u/c;n[4*s]=r+d*t,n[4*s+1]=i+h*t,n[4*s+2]=o+d*t,n[4*s+3]=a+h*t}return n},t.intersectLineEllipse=function(e,t,n,r,i,o){var a=n-e,s=r-t;a/=i,s/=o;var l=Math.sqrt(a*a+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]},t.checkInEllipse=function(e,t,n,r,i,o,a){return e-=i,t-=o,e/=n/2+a,t/=r/2+a,e*e+t*t<=1},t.intersectLineCircle=function(e,t,n,r,i,o,a){var s=[n-e,r-t],l=[e-i,t-o],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),d=l[0]*l[0]+l[1]*l[1]-a*a,h=c*c-4*u*d;if(h<0)return[];var p=(-c+Math.sqrt(h))/(2*u),f=(-c-Math.sqrt(h))/(2*u),g=Math.min(p,f),v=Math.max(p,f),y=[];if(g>=0&&g<=1&&y.push(g),v>=0&&v<=1&&y.push(v),0===y.length)return[];var m=y[0]*s[0]+e,b=y[0]*s[1]+t;if(y.length>1){if(y[0]==y[1])return[m,b];return[m,b,y[1]*s[0]+e,y[1]*s[1]+t]}return[m,b]},t.findCircleNearPoint=function(e,t,n,r,i){var o=r-e,a=i-t,s=Math.sqrt(o*o+a*a);return[e+o/s*n,t+a/s*n]},t.findMaxSqDistanceToOrigin=function(e){for(var t=1e-6,n=void 0,r=0;r<e.length/2;r++)(n=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1])>t&&(t=n);return t},t.midOfThree=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},t.finiteLinesIntersect=function(e,t,n,r,i,o,a,s,l){var u=e-i,c=n-e,d=a-i,h=t-o,p=r-t,f=s-o,g=d*h-f*u,v=c*h-p*u,y=f*c-d*p;if(0!==y){var m=g/y,b=v/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[e+m*c,t+m*p]:l?[e+m*c,t+m*p]:[]}return 0===g||0===v?this.midOfThree(e,n,a)===a?[a,s]:this.midOfThree(e,n,i)===i?[i,o]:this.midOfThree(i,a,n)===n?[n,r]:[]:[]},t.polygonIntersectLine=function(e,n,r,i,o,a,s,l){var u=[],c=void 0,d=new Array(r.length),h=!0;5===arguments.length&&(h=!1);var p=void 0;if(h){for(var f=0;f<d.length/2;f++)d[2*f]=r[2*f]*a+i,d[2*f+1]=r[2*f+1]*s+o;if(l>0){var g=t.expandPolygon(d,-l);p=t.joinLines(g)}else p=d}else p=r;for(var v=void 0,y=void 0,m=void 0,b=void 0,x=0;x<p.length/2;x++)v=p[2*x],y=p[2*x+1],x<p.length/2-1?(m=p[2*(x+1)],b=p[2*(x+1)+1]):(m=p[0],b=p[1]),c=this.finiteLinesIntersect(e,n,i,o,v,y,m,b),0!==c.length&&u.push(c[0],c[1]);return u},t.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*r[0],t[1]+o*r[1]]},t.generateUnitNgonPointsFitToSquare=function(e,n){var r=t.generateUnitNgonPoints(e,n);return r=t.fitPolygonToSquare(r)},t.fitPolygonToSquare=function(e){for(var t=void 0,n=void 0,r=e.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);for(var u=2/(a-i),c=2/(s-o),d=0;d<r;d++)t=e[2*d]=e[2*d]*u,n=e[2*d+1]=e[2*d+1]*c,i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var h=0;h<r;h++)n=e[2*h+1]=e[2*h+1]+(-1-o);return e},t.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i=new Array(2*e),o=void 0,a=0;a<e;a++)o=a*n+r,i[2*a]=Math.cos(o),i[2*a+1]=Math.sin(-o);return i},t.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},t.getCutRectangleCornerLength=function(){return 8},t.bezierPtsToQuadCoeff=function(e,t,n){return[e-2*t+n,2*(t-e),e]},t.getBarrelCurveConstants=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},e.exports=t},function(e,t,n){"use strict";var r=n(1),i={};[n(72),n(73),n(74)].forEach(function(e){r.assign(i,e)}),e.exports=i},function(e){"use strict";e.exports="undefined"==typeof window?null:window},function(e,t,n){"use strict";(function(t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};r.prototype={fulfill:function(e){return i(this,1,"fulfillValue",e)},reject:function(e){return i(this,2,"rejectReason",e)},then:function(e,t){var n=this,i=new r;return n.onFulfilled.push(s(e,i,"fulfill")),n.onRejected.push(s(t,i,"reject")),o(n),i.proxy}};var i=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,o(e)),e},o=function(e){1===e.state?a(e,"onFulfilled",e.fulfillValue):2===e.state&&a(e,"onRejected",e.rejectReason)},a=function(e,n,r){if(0!==e[n].length){var i=e[n];e[n]=[];var o=function(){for(var e=0;e<i.length;e++)i[e](r)};"function"==typeof t?t(o):setTimeout(o,0)}},s=function(e,t,n){return function(r){if("function"!=typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(e){return void t.reject(e)}l(t,i)}}},l=function e(t,r){if(t===r||t.proxy===r)return void t.reject(new TypeError("cannot resolve promise with itself"));var i;if("object"===(void 0===r?"undefined":n(r))&&null!==r||"function"==typeof r)try{i=r.then}catch(e){return void t.reject(e)}if("function"!=typeof i)t.fulfill(r);else{var o=!1;try{i.call(r,function(n){o||(o=!0,n===r?t.reject(new TypeError("circular thenable chain")):e(t,n))},function(e){o||(o=!0,t.reject(e))})}catch(e){o||t.reject(e)}}};r.all=function(e){return new r(function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,++i===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then(function(e){o(t,e)},function(e){n(e)}):o(t,r)}(a)})},r.resolve=function(e){return new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},e.exports="undefined"!=typeof Promise?Promise:r}).call(t,n(138).setImmediate)},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(11),a=function(e){var t=this;if(t._private={selectorText:e,invalid:!0},null==e||r.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=o(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t[0].length=1,t._private.invalid=!1,t.length=1;else if(r.elementOrCollection(e)){var n=e.collection();t[0]=o(),t[0].collection=n,t[0].length=1,t.length=1}else if(r.fn(e))t[0]=o(),t[0].filter=e,t[0].length=1,t.length=1;else{if(!r.string(e))return void i.error("A selector must be created from a string; found ",e);if(!t.parse(e))return}t._private.invalid=!1},s=a.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(e){return this[e]},s.sameText=function(e){return this.text()===e.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var e=void 0,t="",n=function(e){return null==e?"":e},i=function(e){return r.string(e)?'"'+e+'"':n(e)},o=function(e){return" "+e+" "};for(e=0;e<this.length;e++){var a=this[e];t+=function t(r){var a="",s=void 0,l=void 0;r.subject===r&&(a+="$");var u=n(r.group);for(a+=u.substring(0,u.length-1),s=0;s<r.data.length;s++){var c=r.data[s];a+=c.value?"["+c.field+o(n(c.operator))+i(c.value)+"]":"["+n(c.operator)+c.field+"]"}for(s=0;s<r.meta.length;s++){var d=r.meta[s];a+="[["+d.field+o(n(d.operator))+i(d.value)+"]]"}for(s=0;s<r.colonSelectors.length;s++)l=r.colonSelectors[e],a+=l;for(s=0;s<r.ids.length;s++)l="#"+r.ids[e],a+=l;for(s=0;s<r.classes.length;s++)l="."+r.classes[s],a+=l;if(null!=r.source&&null!=r.target&&(a=t(r.source)+" -> "+t(r.target)),null!=r.connectedNodes){var h=r.connectedNodes;a=t(h[0])+" <-> "+t(h[1])}return null!=r.parent&&(a=t(r.parent)+" > "+a),null!=r.ancestor&&(a=t(r.ancestor)+" "+a),null!=r.child&&(a+=" > "+t(r.child)),null!=r.descendant&&(a+=" "+t(r.descendant)),a}(a),this.length>1&&e<this.length-1&&(t+=", ")}return this._private.toStringCache=t,t},[n(120),n(119)].forEach(function(e){return i.assign(s,e)}),e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(117),a=n(9),s=n(13),l={generate:function(e,t,n){for(var i=null!=n?n:r.uuid();e.hasElementWithId(i);)i=r.uuid();return i}},u=function(e,t,n){if(void 0===e||!i.core(e))return void r.error("A collection must have a reference to the core");var u=new o,c=!1;if(t){if(t.length>0&&i.plainObject(t[0])&&!i.element(t[0])){c=!0;for(var d=[],h=new a,p=0,f=t.length;p<f;p++){var g=t[p];null==g.data&&(g.data={});var v=g.data;if(null==v.id)v.id=l.generate(e,g);else if(e.hasElementWithId(v.id)||h.has(v.id))continue;var y=new s(e,g,!1);d.push(y),h.add(v.id)}t=d}}else t=[];this.length=0;for(var m=0,b=t.length;m<b;m++){var x=t[m];if(null!=x){var w=x._private.data.id;(null==n||n.unique&&!u.has(w))&&(u.set(w,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={cy:e,map:u},c&&this.restore()},c=s.prototype=u.prototype;c.instanceString=function(){return"collection"},c.spawn=function(e,t,n){return i.core(e)||(n=t,t=e,e=this.cy()),new u(e,t,n)},c.spawnSelf=function(){return this.spawn(this)},c.cy=function(){return this._private.cy},c.renderer=function(){return this._private.cy.renderer()},c.element=function(){return this[0]},c.collection=function(){return i.collection(this)?this:new u(this._private.cy,[this])},c.unique=function(){return new u(this._private.cy,this,{unique:!0})},c.hasElementWithId=function(e){return this._private.map.has(e)},c.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new u(t)},c.$id=c.getElementById,c.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this._private.data.id).index},c.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var o=t._private;if(i.plainObject(e)){n.startBatch(),e.data&&t.data(e.data),e.position&&t.position(e.position);var a=function(n,r,i){var a=e[n];null!=a&&a!==o[n]&&(a?t[r]():t[i]())};return a("removed","remove","restore"),a("selected","select","unselect"),a("selectable","selectify","unselectify"),a("locked","lock","unlock"),a("grabbable","grabify","ungrabify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var s={data:r.copy(o.data),position:r.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null};s.classes="";var l=0;return o.classes.forEach(function(e){return s.classes+=0==l++?e:" "+e}),s}}},c.jsons=function(){for(var e=[],t=0;t<this.length;t++){e.push(this[t].json())}return e},c.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n],i=r.json();t.push(new s(e,i,!1))}return new u(e,t)},c.copy=c.clone,c.restore=function(e){var t=this,n=t.cy(),a=n._private;void 0===e&&(e=!0);for(var s=[],c=[],d=void 0,h=0,p=t.length;h<p;h++){var f=t[h];f.removed()&&(f.isNode()?s.push(f):c.push(f))}d=s.concat(c);var g=void 0,v=function(){d.splice(g,1),g--};for(g=0;g<d.length;g++){var y=d[g],m=y._private,b=m.data;if(y.clearTraversalCache(),void 0===b.id)b.id=l.generate(n,y);else if(i.number(b.id))b.id=""+b.id;else{if(i.emptyString(b.id)||!i.string(b.id)){r.error("Can not create element with invalid string ID `"+b.id+"`"),v();continue}if(n.hasElementWithId(b.id)){r.error("Can not create second element with ID `"+b.id+"`"),v();continue}}var x=b.id;if(y.isNode()){var w=m.position;null==w.x&&(w.x=0),null==w.y&&(w.y=0)}if(y.isEdge()){for(var E=y,_=["source","target"],D=_.length,T=!1,C=0;C<D;C++){var S=_[C],N=b[S];i.number(N)&&(N=b[S]=""+b[S]),null==N||""===N?(r.error("Can not create edge `"+x+"` with unspecified "+S),T=!0):n.hasElementWithId(N)||(r.error("Can not create edge `"+x+"` with nonexistant "+S+" `"+N+"`"),T=!0)}if(T){v();continue}var O=n.getElementById(b.source),P=n.getElementById(b.target);O._private.edges.push(E),P._private.edges.push(E),E._private.source=O,E._private.target=P}m.map=new o,m.map.set(x,{ele:y,index:0}),m.removed=!1,n.addToPool(y)}for(var M=0;M<s.length;M++){var k=s[M],L=k._private.data;i.number(L.parent)&&(L.parent=""+L.parent);var A=L.parent;if(null!=A){var I=n.getElementById(A);if(I.empty())L.parent=void 0;else{for(var R=!1,F=I;!F.empty();){if(k.same(F)){R=!0,L.parent=void 0;break}F=F.parent()}R||(I[0]._private.children.push(k),k._private.parent=I[0],a.hasCompoundNodes=!0)}}}if(d.length>0){for(var B=new u(n,d),z=0;z<B.length;z++){var j=B[z];j.isNode()||(j.parallelEdges().clearTraversalCache(),j.source().clearTraversalCache(),j.target().clearTraversalCache())}var V=void 0;V=a.hasCompoundNodes?n.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B,V.dirtyCompoundBoundsCache().updateStyle(e),e?B.emitAndNotify("add"):B.emit("add")}return t},c.removed=function(){var e=this[0];return e&&e._private.removed},c.inside=function(){var e=this[0];return e&&!e._private.removed},c.remove=function(e){function t(e){for(var t=e._private.edges,n=0;n<t.length;n++)i(t[n])}function n(e){for(var t=e._private.children,n=0;n<t.length;n++)i(t[n])}function i(e){c[e.id()]||(c[e.id()]=!0,e.isNode()?(l.push(e),t(e),n(e)):l.unshift(e))}function o(e,t){r.removeFromArray(e._private.edges,t),e.clearTraversalCache()}var a=this,s=[],l=[],c={},d=a._private.cy;void 0===e&&(e=!0);for(var h=0,p=a.length;h<p;h++){i(a[h])}var f=[];f.ids={},a.dirtyCompoundBoundsCache(),d.removeFromPool(l);for(var g=0;g<l.length;g++){var v=l[g];if(v._private.removed=!0,s.push(v),v.isEdge()){var y=v.source()[0],m=v.target()[0];o(y,v),o(m,v),function(e){e.parallelEdges().clearTraversalCache()}(v)}else{var b=v.parent();0!==b.length&&function(e,t){t=t[0],e=e[0];var n=e._private.children,i=e.id();r.removeFromArray(n,t),f.ids[i]||(f.ids[i]=!0,f.push(e))}(b,v)}}var x=d._private.elements;d._private.hasCompoundNodes=!1;for(var w=0;w<x.length;w++){if(x[w].isParent()){d._private.hasCompoundNodes=!0;break}}var E=new u(this.cy(),s);E.size()>0&&(e&&this.cy().notify({type:"remove",eles:E}),E.emit("remove"));for(var _=0;_<f.length;_++){var D=f[_];D.removed()||D.updateStyle()}return new u(d,s)},c.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),o=t.hasElementWithId(r);if(i||o){var a=this.jsons();this.remove();for(var s=0;s<a.length;s++){var l=a[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),o&&(l.data.target=r),l.scratch=u._private.scratch)}return t.add(a)}}else if(void 0!==e.parent){var c=e.parent,d=null===c||t.hasElementWithId(c);if(d){var h=this.jsons(),p=this.descendants(),f=p.union(p.union(this).connectedEdges()).jsons();this.remove();for(var g=0;g<h.length;g++){var v=h[g],y=this[g];"nodes"===v.group&&(v.data.parent=null===c?void 0:c,v.scratch=y._private.scratch)}return t.add(h.concat(f))}}return this},[n(32),n(36),n(37),n(38),n(39),n(40),n(41),n(44),n(47),n(48),n(49),n(7),n(50),n(51),n(52),n(53),n(54)].forEach(function(e){r.extend(c,e)}),e.exports=u},function(e,t,n){"use strict";e.exports=n(140)},function(e){"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();"function"==typeof Symbol&&Symbol;e.exports=function(){function e(e){if(this._obj=Object.create(null),null!=e){var t=void 0;t=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<t.length;n++)this.add(t[n])}}return t(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){this._obj[e]=1}},{key:"delete",value:function(e){this._obj[e]=0}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}},{key:"size",get:function(){return this.toArray().length}}]),e}()},function(e,t,n){"use strict";function r(e){i.assign(this,l,e),this.listeners=[],this.emitting=0}var i=n(1),o=n(0),a=n(15),s=/(\w+)(\.(?:\w+|\*))?/,l={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0},u=r.prototype,c=function(e,t,n,r,a,l,u){o.fn(r)&&(a=r,r=null),u&&(l=null==l?u:i.assign({},l,u));for(var c=n.split(/\s+/),d=0;d<c.length;d++){var h=c[d];if(!o.emptyString(h)){var p=h.match(s);if(p){if(!1===t(e,h,p[1],p[2]?p[2]:null,r,a,l))break}}}},d=function(e,t){return new a(t.type,i.assign(t,e.eventFields(e.context)))},h=function(e,t,n){if(o.event(n))return void t(e,n);if(o.plainObject(n))return void t(e,d(e,n));for(var r=n.split(/\s+/),i=0;i<r.length;i++){var a=r[i];if(!o.emptyString(a)){var l=a.match(s);if(l){t(e,d(e,{type:l[1],namespace:l[2]?l[2]:null,target:e.context}))}}}};u.on=u.addListener=function(e,t,n,r,i){return c(this,function(e,t,n,r,i,a,s){o.fn(a)&&e.listeners.push({event:t,callback:a,type:n,namespace:r,qualifier:i,conf:s})},e,t,n,r,i),this},u.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},u.removeListener=u.off=function(e,t,n,r){var o=this;0!==this.emitting&&(this.listeners=i.copyArray(this.listeners));for(var a=this.listeners,s=a.length-1;s>=0;s--)!function(i){var s=a[i];c(o,function(e,t,n,r,o,l){if(s.type===n&&(!r||s.namespace===r)&&(!o||e.qualifierCompare(s.qualifier,o))&&(!l||s.callback===l))return a.splice(i,1),!1},e,t,n,r)}(s);return this},u.emit=u.trigger=function(e,t,n){var r=this.listeners,a=r.length;return this.emitting++,o.array(t)||(t=[t]),h(this,function(e,o){null!=n&&(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],a=r.length);for(var s=0;s<a;s++)!function(n){var a=r[n];if(a.type===o.type&&(!a.namespace||a.namespace===o.namespace||".*"===a.namespace)&&e.eventMatches(e.context,a,o)){var s=[o];null!=t&&i.push(s,t),e.beforeEmit(e.context,a,o),a.conf&&a.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==a}));var l=e.callbackContext(e.context,a,o),u=a.callback.apply(l,s);e.afterEmit(e.context,a,o),!1===u&&(o.stopPropagation(),o.preventDefault())}}(s);e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)},e),this.emitting--,this},e.exports=r},function(e){"use strict";e.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(e,t,n){"use strict";var r=n(4),i=n(1),o=n(7),a=n(0),s=n(5),l=n(3),u=function(e){var t=this;e=i.extend({},e);var n=e.container;n&&!a.htmlElement(n)&&a.htmlElement(n[0])&&(n=n[0]);var l=n?n._cyreg:null;(l=l||{})&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=t;var c=void 0!==r&&void 0!==n&&!e.headless,d=e;d.layout=i.extend({name:c?"grid":"null"},d.layout),d.renderer=i.extend({name:c?"canvas":"null"},d.renderer);var h=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},p=this._private={container:n,ready:!1,options:d,elements:new o(this),listeners:[],aniEles:new o(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:h(!0,d.zoomingEnabled),userZoomingEnabled:h(!0,d.userZoomingEnabled),panningEnabled:h(!0,d.panningEnabled),userPanningEnabled:h(!0,d.userPanningEnabled),boxSelectionEnabled:h(!0,d.boxSelectionEnabled),autolock:h(!1,d.autolock,d.autolockNodes),autoungrabify:h(!1,d.autoungrabify,d.autoungrabifyNodes),autounselectify:h(!1,d.autounselectify),styleEnabled:void 0===d.styleEnabled?c:d.styleEnabled,zoom:a.number(d.zoom)?d.zoom:1,pan:{x:a.plainObject(d.pan)&&a.number(d.pan.x)?d.pan.x:0,y:a.plainObject(d.pan)&&a.number(d.pan.y)?d.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var f=d.selectionType;p.selectionType=void 0===f||"additive"!==f&&"single"!==f?"single":f,a.number(d.minZoom)&&a.number(d.maxZoom)&&d.minZoom<d.maxZoom?(p.minZoom=d.minZoom,p.maxZoom=d.maxZoom):a.number(d.minZoom)&&void 0===d.maxZoom?p.minZoom=d.minZoom:a.number(d.maxZoom)&&void 0===d.minZoom&&(p.maxZoom=d.maxZoom);p.styleEnabled&&t.setStyle([]),t.initRenderer(i.extend({hideEdgesOnViewport:d.hideEdgesOnViewport,textureOnViewport:d.textureOnViewport,wheelSensitivity:a.number(d.wheelSensitivity)&&d.wheelSensitivity>0?d.wheelSensitivity:1,motionBlur:void 0!==d.motionBlur&&d.motionBlur,motionBlurOpacity:void 0===d.motionBlurOpacity?.05:d.motionBlurOpacity,pixelRatio:a.number(d.pixelRatio)&&d.pixelRatio>0?d.pixelRatio:void 0,desktopTapThreshold:void 0===d.desktopTapThreshold?4:d.desktopTapThreshold,touchTapThreshold:void 0===d.touchTapThreshold?8:d.touchTapThreshold},d.renderer));var g=function(e,n,r){t.notifications(!1);var o=t.mutableElements();o.length>0&&o.remove(),null!=e&&(a.plainObject(e)||a.array(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.notify({type:"load",eles:t.mutableElements()}),t.one("load",n),t.emit("load")}).one("layoutstop",function(){t.one("done",r),t.emit("done")});var s=i.extend({},t._private.options.layout);s.eles=t.elements(),t.layout(s).run()};!function(e,t){if(e.some(a.promise))return s.all(e).then(t);t(e)}([d.style,d.elements],function(e){var n=e[0],r=e[1];p.styleEnabled&&t.style().append(n),g(r,function(){t.startAnimationLoop(),p.ready=!0,a.fn(d.ready)&&t.on("ready",d.ready);for(var e=0;e<u.length;e++){t.on("ready",u[e])}l&&(l.readies=[]),t.emit("ready")},d.done)})},c=u.prototype;i.extend(c,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container},options:function(){return i.copy(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(a.plainObject(e)){if(t.startBatch(),e.elements){var o={},s=function(e,n){for(var r=0;r<e.length;r++){var a=e[r],s=a.data.id,l=t.getElementById(s);o[s]=!0,0!==l.length?l.json(a):t.add(n?i.extend({group:n},a):a)}};if(a.array(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],d=e.elements[c];a.array(d)&&s(d,c)}r.stdFilter(function(e){return!o[e.id()]}).remove()}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan));for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],p=0;p<h.length;p++){var f=h[p];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}if(void 0===e){var g={};return g.elements={},r.forEach(function(e){var t=e.group();g.elements[t]||(g.elements[t]=[]),g.elements[t].push(e.json())}),this._private.styleEnabled&&(g.style=t.style().json()),g.zoomingEnabled=t._private.zoomingEnabled,g.userZoomingEnabled=t._private.userZoomingEnabled,g.zoom=t._private.zoom,g.minZoom=t._private.minZoom,g.maxZoom=t._private.maxZoom,g.panningEnabled=t._private.panningEnabled,g.userPanningEnabled=t._private.userPanningEnabled,g.pan=i.copy(t._private.pan),g.boxSelectionEnabled=t._private.boxSelectionEnabled,g.renderer=i.copy(t._private.options.renderer),g.hideEdgesOnViewport=t._private.options.hideEdgesOnViewport,g.textureOnViewport=t._private.options.textureOnViewport,g.wheelSensitivity=t._private.options.wheelSensitivity,g.motionBlur=t._private.options.motionBlur,g}},scratch:l.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:l.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),c.$id=c.getElementById,[n(55),n(59),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71)].forEach(function(e){i.extend(c,e)}),e.exports=u},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(9);e.exports=function(e,t,n){if(n=!(void 0!==n&&!n),void 0===e||void 0===t||!i.core(e))return void r.error("An element must have a core reference and parameters set");var a=t.group;if(null==a&&(a=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"!==a&&"edges"!==a)return void r.error("An element must be of type `nodes` or `edges`; you specified `"+a+"`");this.length=1,this[0]=this;var s=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new o,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{}};if(t.renderedPosition){var l=t.renderedPosition,u=e.pan(),c=e.zoom();s.position={x:(l.x-u.x)/c,y:(l.y-u.y)/c}}if(i.string(t.classes))for(var d=t.classes.split(/\s+/),h=0,p=d.length;h<p;h++){var f=d[h];f&&""!==f&&s.classes.add(f)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),this.createEmitter(),(void 0===n||n)&&this.restore()}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){function n(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?a?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?r.MAX_INT:0}function i(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=e.cy(),a=o.hasCompoundNodes(),s=n(e)-n(t);if(0!==s)return s;var l=i(e)-i(t);if(0!==l)return l;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==u?u:e.poolIndex()-t.poolIndex()}},function(e){"use strict";function t(){return!1}function n(){return!0}var r=function(e,t){this.recycle(e,t)};r.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=t,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?n:t):null!=e&&e.type?r=e:this.type=e,null!=r&&(this.originalEvent=r.originalEvent,this.type=null!=r.type?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var i=this.position,o=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:i.x*o+a.x,y:i.y*o+a.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=n;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=n;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:t,isPropagationStopped:t,isImmediatePropagationStopped:t},e.exports=r},function(e,t,n){"use strict";var r=n(1);e.exports={setupDequeueing:function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=r.debounce(function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()},e.deqRedrawThreshold);n.beforeRender(function(o,a){for(var s=r.performanceNow(),l=n.averageRedrawTime,u=n.lastRedrawTime,c=[],d=n.cy.extent(),h=n.getPixelRatio();;){var p=r.performanceNow(),f=p-s,g=p-a;if(u<1e3/60){if(g>=e.deqFastCost*(1e3/60-(o?l:0)))break}else if(o){if(f>=e.deqCost*u||f>=e.deqAvgCost*l)break}else if(g>=e.deqNoDrawCost*(1e3/60))break;var v=e.deq(t,h,d);if(!(v.length>0))break;for(var y=0;y<v.length;y++)c.push(v[y])}c.length>0&&(e.onDeqd(t,c),!o&&e.shouldRedraw(t,c,h,d)&&i())},(e.priority||r.noop)(t))}}}}},function(e,t,n){"use strict";var r=n(1),i=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return r.sort.descending(e.selector,t.selector)}),o=function e(t,n){return(e.lookup=e.lookup||function(){for(var e={},t=void 0,n=0;n<i.length;n++)t=i[n],e[t.selector]=t.matches;return e}())[t](n)},a="("+i.map(function(e){return e.selector}).join("|")+")";e.exports={stateSelectors:i,stateSelectorMatches:o,stateSelectorRegex:a}},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(6),a=function e(t){return this instanceof e?r.core(t)?(this._private={cy:t,coreStyle:{}},this.length=0,void this.resetToDefault()):void i.error("A style must have a core reference"):new e(t)},s=a.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new o(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},s.css=function(){var e=this,t=arguments;switch(t.length){case 1:for(var n=t[0],r=0;r<e.properties.length;r++){var o=e.properties[r],a=n[o.name];void 0===a&&(a=n[i.dash2camel(o.name)]),void 0!==a&&this.cssRule(o.name,a)}break;case 2:this.cssRule(t[0],t[1])}return this},s.style=s.css,s.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},s.append=function(e){return r.stylesheet(e)?e.appendToStyle(this):r.array(e)?this.appendFromJson(e):r.string(e)&&this.appendFromString(e),this},a.fromJson=function(e,t){var n=new a(e);return n.fromJson(t),n},a.fromString=function(e,t){return new a(e).fromString(t)},[n(122),n(123),n(124),n(125),n(126),n(129),n(128),n(127)].forEach(function(e){i.extend(s,e)}),a.types=s.types,a.properties=s.properties,e.exports=a},function(e){"use strict";e.exports=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r=this,i=arguments,o=void 0,a=t.apply(r,i),s=n.cache;return(o=s[a])||(o=s[a]=e.apply(r,i)),o};return n.cache={},n}},function(e,t,n){"use strict";function r(e,t,n){var r=n,o=function(n){s.error("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(c.prototype[t])return o(t);c.prototype[t]=n}else if("collection"===e){if(u.prototype[t])return o(t);u.prototype[t]=n}else if("layout"===e){for(var a=function(e){this.options=e,n.call(this,e),h.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},d=a.prototype=Object.create(n.prototype),g=[],v=0;v<g.length;v++){var y=g[v];d[y]=d[y]||function(){return this}}d.start&&!d.run?d.run=function(){return this.start(),this}:!d.start&&d.run&&(d.start=function(){return this.run(),this});var m=n.prototype.stop;d.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return m?m.call(this):this.emit("layoutstop"),this},d.destroy||(d.destroy=function(){return this}),d.cy=function(){return this._private.cy};var b=function(e){return e._private.cy};s.assign(d,{createEmitter:function(){return this._private.emitter=new p({eventFields:function(e){return{layout:e,cy:b(e),target:e}},bubble:function(){return!0},parent:function(e){return b(e)},context:this}),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),l.eventAliasesOn(d),r=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var x=i("renderer","base"),w=x.prototype,E=n,_=n.prototype,D=function(){x.apply(this,arguments),E.apply(this,arguments)},T=D.prototype;for(var C in w){var S=w[C],N=null!=_[C];if(N)return o(C);T[C]=S}for(var O in _)T[O]=_[O];w.clientFunctions.forEach(function(e){T[e]=T[e]||function(){s.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),r=D}return s.setMap({map:f,keys:[e,t],value:r})}function i(e,t){return s.getMap({map:f,keys:[e,t]})}function o(e,t,n,r,i){return s.setMap({map:g,keys:[e,t,n,r],value:i})}function a(e,t,n,r){return s.getMap({map:g,keys:[e,t,n,r]})}var s=n(1),l=n(3),u=n(7),c=n(12),d=n(75),h=n(0),p=n(10),f={},g={},v=function(){return 2===arguments.length?i.apply(null,arguments):3===arguments.length?r.apply(null,arguments):4===arguments.length?a.apply(null,arguments):5===arguments.length?o.apply(null,arguments):void s.error("Invalid extension access syntax")};c.prototype.extension=v,d.forEach(function(e){e.extensions.forEach(function(t){r(e.type,t.name,t.impl)})}),e.exports=v},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(18),a=function e(){if(!(this instanceof e))return new e;this.length=0},s=a.prototype;s.instanceString=function(){return"stylesheet"},s.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},s.css=function(e,t){var n=this.length-1;if(r.string(e))this[n].properties.push({name:e,value:t});else if(r.plainObject(e))for(var a=e,s=0;s<o.properties.length;s++){var l=o.properties[s],u=a[l.name];if(void 0===u&&(u=a[i.dash2camel(l.name)]),void 0!==u){var c=l.name,d=u;this[n].properties.push({name:c,value:d})}}return this},s.style=s.css,s.generateStyle=function(e){return this.appendToStyle(new o(e))},s.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var o=0;o<i.length;o++){var a=i[o];e.css(a.name,a.value)}}return e},e.exports=a},function(e){"use strict";e.exports="3.2.5"},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(5),a=function(e,t,n){var o=this._private=r.extend({duration:1e3},t,n);o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&i.fn(o.complete)&&o.completes.push(o.complete),this.length=1,this[0]=this},s=a.prototype;r.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=void 0,n=e.target._private.animation;t=e.queue?n.queue:n.current,t.push(this),i.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],o=i.name,a=e.startStyle[o];e.startStyle[o]=i,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t=this._private,n=void 0;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new o(function(e){n.push(function(){e()})})}}),s.complete=s.completed,e.exports=a},function(e,t,n){"use strict";var r=n(0);e.exports={aStar:function(e){var t=this;e=e||{};var n=this._private.cy;if(null!=e&&null!=e.root){var i=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var o=r.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&r.fn(e.heuristic))var a=e.heuristic;else var a=function(){return 0};if(null!=e.weight&&r.fn(e.weight))var s=e.weight;else var s=function(){return 1};if(null!=e.directed)var l=e.directed;else var l=!1;var u=i.id(),c=o.id(),d=[],h=[u],p={},f={},g={},v={};g[u]=0,v[u]=a(i);for(var y=0;h.length>0;){var m=function(e,t){if(0!==e.length){for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var o=t[e[i]];o<r&&(r=o,n=i)}return n}}(h,v),b=n.getElementById(h[m]),x=b.id();if(y++,x==c){return{found:!0,distance:g[x],path:t.spawn(function e(t,r,i,o){if(t==r)return o.unshift(n.getElementById(r)),o;if(r in i){var a=i[r];return o.unshift(n.getElementById(f[r])),o.unshift(n.getElementById(r)),e(t,a,i,o)}}(u,c,p,[])),steps:y}}d.push(x),h.splice(m,1);for(var w=b._private.edges,E=0;E<w.length;E++){var _=w[E];if(this.hasElementWithId(_.id())&&(!l||_.data("source")===x)){var D=_.source(),T=_.target(),C=D.id()!==x?D:T,S=C.id();if(this.hasElementWithId(S)&&-1==d.indexOf(S)){var N=g[x]+s(_);-1!=h.indexOf(S)?N<g[S]&&(g[S]=N,v[S]=N+a(C),p[S]=x):(g[S]=N,v[S]=N+a(C),h.push(S),p[S]=x,f[S]=_.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:y}}}}}},function(e,t,n){"use strict";var r=n(0),i=n(1);e.exports={bellmanFord:function(e){var t=this;if(e=e||{},null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.root){if(r.string(e.root))var a=this.filter(e.root)[0];else var a=e.root[0];for(var s=this._private.cy,l=this.edges().stdFilter(function(e){return!e.isLoop()}),u=this.nodes(),c=u.length,d={},h=0;h<c;h++)d[u[h].id()]=h;for(var p=[],f=[],g=[],h=0;h<c;h++)p[h]=u[h].id()===a.id()?0:1/0,f[h]=void 0;for(var v=!1,h=1;h<c;h++){v=!1;for(var y=0;y<l.length;y++){var m=d[l[y].source().id()],b=d[l[y].target().id()],x=n(l[y]),w=p[m]+x;if(w<p[b]&&(p[b]=w,f[b]=m,g[b]=l[y],v=!0),!o){var w=p[b]+x;w<p[m]&&(p[m]=w,f[m]=b,g[m]=l[y],v=!0)}}if(!v)break}if(v)for(var y=0;y<l.length;y++){var m=d[l[y].source().id()],b=d[l[y].target().id()],x=n(l[y]);if(p[m]+x<p[b])return i.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}for(var E=[],h=0;h<c;h++)E.push(u[h].id());return{distanceTo:function(e){if(r.string(e))var t=s.filter(e)[0].id();else var t=e.id();return p[d[t]]},pathTo:function(e){if(r.string(e))var n=s.filter(e)[0].id();else var n=e.id();var i=[],o=function(e,t,n,r,i,o){for(;;){if(i.push(s.getElementById(r[n])),i.push(o[n]),t===n)return i;var a=e[n];if(void 0===a)return;n=a}}(f,d[a.id()],d[n],E,i,g);return null!=o&&o.reverse(),t.spawn(o)},hasNegativeWeightCycle:!1}}}}},function(e,t,n){"use strict";var r=n(0),i=n(8),o={betweennessCentrality:function(e){e=e||{};var t,n;r.fn(e.weight)?(n=e.weight,t=!0):t=!1;for(var o=null!=e.directed&&e.directed,a=this._private.cy,s=this.nodes(),l={},u={},c=0,d={set:function(e,t){u[e]=t,t>c&&(c=t)},get:function(e){return u[e]}},h=0;h<s.length;h++){var p=s[h],f=p.id();l[f]=o?p.outgoers().nodes():p.openNeighborhood().nodes(),d.set(f,0)}for(var g=0;g<s.length;g++){for(var v=s[g].id(),y=[],m={},b={},x={},w=new i(function(e,t){return x[e]-x[t]}),h=0;h<s.length;h++){var f=s[h].id();m[f]=[],b[f]=0,x[f]=1/0}for(b[v]=1,x[v]=0,w.push(v);!w.empty();){var p=w.pop();if(y.push(p),t)for(var E=0;E<l[p].length;E++){var _,D=l[p][E],T=a.getElementById(p);_=T.edgesTo(D).length>0?T.edgesTo(D)[0]:D.edgesTo(T)[0];var C=n(_);D=D.id(),x[D]>x[p]+C&&(x[D]=x[p]+C,w.nodes.indexOf(D)<0?w.push(D):w.updateItem(D),b[D]=0,m[D]=[]),x[D]==x[p]+C&&(b[D]=b[D]+b[p],m[D].push(p))}else for(var E=0;E<l[p].length;E++){var D=l[p][E].id();x[D]==1/0&&(w.push(D),x[D]=x[p]+1),x[D]==x[p]+1&&(b[D]=b[D]+b[p],m[D].push(p))}}for(var S={},h=0;h<s.length;h++)S[s[h].id()]=0;for(;y.length>0;)for(var D=y.pop(),E=0;E<m[D].length;E++){var p=m[D][E];S[p]=S[p]+b[p]/b[D]*(1+S[D]),D!=s[g].id()&&d.set(D,d.get(D)+S[D])}}var N={betweenness:function(e){if(r.string(e))var e=a.filter(e).id();else var e=e.id();return d.get(e)},betweennessNormalized:function(e){if(0==c)return 0;if(r.string(e))var e=a.filter(e).id();else var e=e.id();return d.get(e)/c}};return N.betweennessNormalised=N.betweennessNormalized,N}};o.bc=o.betweennessCentrality,e.exports=o},function(e,t,n){"use strict";var r=n(0),i=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var o;r.plainObject(t)&&!r.elementOrCollection(t)&&(o=t,t=o.roots||o.root,n=o.visit,i=o.directed),i=2!==arguments.length||r.fn(n)?i:n,n=r.fn(n)?n:function(){};for(var a,s=this._private.cy,l=t=r.string(t)?this.filter(t):t,u=[],c=[],d={},h={},p={},f=0,g=this.nodes(),v=this.edges(),y=0;y<l.length;y++)l[y].isNode()&&(u.unshift(l[y]),e.bfs&&(p[l[y].id()]=!0,c.push(l[y])),h[l[y].id()]=0);for(;0!==u.length;){var l=e.bfs?u.shift():u.pop();if(e.dfs){if(p[l.id()])continue;p[l.id()]=!0,c.push(l)}var m,b=h[l.id()],x=d[l.id()],w=null==x?void 0:x.connectedNodes().not(l)[0];if(!0===(m=n(l,x,w,f++,b))){a=l;break}if(!1===m)break;for(var E=l.connectedEdges(i?function(e){return e.data("source")===l.id()}:void 0).intersect(v),y=0;y<E.length;y++){var _=E[y],D=_.connectedNodes(function(e){return e.id()!==l.id()}).intersect(g);0===D.length||p[D.id()]||(D=D[0],u.push(D),e.bfs&&(p[D.id()]=!0,c.push(D)),d[D.id()]=_,h[D.id()]=h[l.id()]+1)}}for(var T=[],y=0;y<c.length;y++){var C=c[y],S=d[C.id()];S&&T.push(S),T.push(C)}return{path:s.collection(T,{unique:!0}),found:s.collection(a)}}},o={breadthFirstSearch:i({bfs:!0}),depthFirstSearch:i({dfs:!0})};o.bfs=o.breadthFirstSearch,o.dfs=o.depthFirstSearch,e.exports=o},function(e,t,n){"use strict";var r=n(0),i={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),n=e.harmonic;void 0===n&&(n=!0);for(var i={},o=0,a=this.nodes(),s=this.floydWarshall({weight:e.weight,directed:e.directed}),l=0;l<a.length;l++){for(var u=0,c=0;c<a.length;c++)if(l!=c){var d=s.distance(a[l],a[c]);u+=n?1/d:d}n||(u=1/u),o<u&&(o=u),i[a[l].id()]=u}return{closeness:function(e){if(0==o)return 0;if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return i[e]/o}}},closenessCentrality:function(e){if(e=e||{},null!=e.root){if(r.string(e.root))var t=this.filter(e.root)[0];else var t=e.root[0];if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(){return 1};if(null!=e.directed&&r.bool(e.directed))var i=e.directed;else var i=!1;var o=e.harmonic;void 0===o&&(o=!0);for(var a=this.dijkstra({root:t,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++)if(l[u].id()!=t.id()){var c=a.distanceTo(l[u]);s+=o?1/c:c}return o?s:1/s}}};i.cc=i.closenessCentrality,i.ccn=i.closenessCentralityNormalised=i.closenessCentralityNormalized,e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(1),o={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var n=e.directed;else var n=!1;var o=this.nodes(),a=o.length;if(n){for(var s={},l={},u=0,c=0,d=0;d<a;d++){var h=o[d],p=this.degreeCentrality(i.extend({},e,{root:h}));u<p.indegree&&(u=p.indegree),c<p.outdegree&&(c=p.outdegree),s[h.id()]=p.indegree,l[h.id()]=p.outdegree}return{indegree:function(e){if(0==u)return 0;if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return s[e]/u},outdegree:function(e){if(0==c)return 0;if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return l[e]/c}}}for(var f={},g=0,d=0;d<a;d++){var h=o[d],p=this.degreeCentrality(i.extend({},e,{root:h}));g<p.degree&&(g=p.degree),f[h.id()]=p.degree}return{degree:function(e){if(0==g)return 0;if(r.string(e))var e=t.filter(e)[0].id();else var e=e.id();return f[e]/g}}},degreeCentrality:function(e){e=e||{};var t=this;if(null!=e&&null!=e.root){var n=r.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&r.fn(e.weight))var i=e.weight;else var i=function(){return 1};if(null!=e.directed)var o=e.directed;else var o=!1;if(null!=e.alpha&&r.number(e.alpha))var a=e.alpha;else a=0;if(o){for(var s=n.connectedEdges('edge[target = "'+n.id()+'"]').intersection(t),l=n.connectedEdges('edge[source = "'+n.id()+'"]').intersection(t),u=s.length,c=l.length,d=0,h=0,p=0;p<s.length;p++){var f=s[p];d+=i(f)}for(var p=0;p<l.length;p++){var f=l[p];h+=i(f)}return{indegree:Math.pow(u,1-a)*Math.pow(d,a),outdegree:Math.pow(c,1-a)*Math.pow(h,a)}}for(var g=n.connectedEdges().intersection(t),v=g.length,y=0,p=0;p<g.length;p++){var f=g[p];y+=i(f)}return{degree:Math.pow(v,1-a)*Math.pow(y,a)}}}};o.dc=o.degreeCentrality,o.dcn=o.degreeCentralityNormalised=o.degreeCentralityNormalized,e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(8);e.exports={dijkstra:function(e,t,n){var o;r.plainObject(e)&&!r.elementOrCollection(e)&&(o=e,e=o.root,t=o.weight,n=o.directed);var a=this._private.cy;t=r.fn(t)?t:function(){return 1};for(var s=r.string(e)?this.filter(e)[0]:e[0],l={},u={},c={},d=this.edges().filter(function(e){return!e.isLoop()}),h=this.nodes(),p=function(e){return l[e.id()]},f=new i(function(e,t){return p(e)-p(t)}),g=0;g<h.length;g++){var v=h[g];l[v.id()]=v.same(s)?0:1/0,f.push(v)}for(;f.size()>0;){var y=f.pop(),m=p(y),b=y.id();if(c[b]=m,m!==1/0)for(var x=y.neighborhood().intersect(h),g=0;g<x.length;g++){var w=x[g],E=w.id(),_=function(e,r){for(var i,o=(n?e.edgesTo(r):e.edgesWith(r)).intersect(d),a=1/0,s=0;s<o.length;s++){var l=o[s],u=t(l);(u<a||!i)&&(a=u,i=l)}return{edge:i,dist:a}}(y,w),D=m+_.dist;D<p(w)&&(!function(e,t){l[e.id()]=t,f.updateItem(e)}(w,D),u[E]={node:y,edge:_.edge})}}return{distanceTo:function(e){var t=r.string(e)?h.filter(e)[0]:e[0];return c[t.id()]},pathTo:function(e){var t=r.string(e)?h.filter(e)[0]:e[0],n=[],i=t;if(t.length>0)for(n.unshift(t);u[i.id()];){var o=u[i.id()];n.unshift(o.edge),n.unshift(o.node),i=o.node}return a.collection(n)}}}}},function(e,t,n){"use strict";var r=n(0);e.exports={floydWarshall:function(e){e=e||{};var t=this.cy();if(null!=e.weight&&r.fn(e.weight))var n=e.weight;else var n=function(){return 1};if(null!=e.directed)var i=e.directed;else var i=!1;for(var o=this.edges().stdFilter(function(e){return!e.isLoop()}),a=this.nodes(),s=a.length,l={},u=0;u<s;u++)l[a[u].id()]=u;for(var c=[],u=0;u<s;u++){for(var d=new Array(s),h=0;h<s;h++)d[h]=u==h?0:1/0;c.push(d)}var p=[],f=[],g=function(e){for(var t=0;t<s;t++){for(var n=new Array(s),r=0;r<s;r++)n[r]=void 0;e.push(n)}};g(p),g(f);for(var u=0;u<o.length;u++){var v=l[o[u].source().id()],y=l[o[u].target().id()],m=n(o[u]);c[v][y]>m&&(c[v][y]=m,p[v][y]=y,f[v][y]=o[u])}if(!i)for(var u=0;u<o.length;u++){var v=l[o[u].target().id()],y=l[o[u].source().id()],m=n(o[u]);c[v][y]>m&&(c[v][y]=m,p[v][y]=y,f[v][y]=o[u])}for(var b=0;b<s;b++)for(var u=0;u<s;u++)for(var h=0;h<s;h++)c[u][b]+c[b][h]<c[u][h]&&(c[u][h]=c[u][b]+c[b][h],p[u][h]=p[u][b]);for(var x=[],u=0;u<s;u++)x.push(a[u].id());return{distance:function(e,n){if(r.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(r.string(n))var o=t.filter(n)[0].id();else var o=n.id();return c[l[i]][l[o]]},path:function(e,n){if(r.string(e))var i=t.filter(e)[0].id();else var i=e.id();if(r.string(n))var o=t.filter(n)[0].id();else var o=n.id();var a=function(e,n,r,i,o){if(e===n)return t.getElementById(i[e]);if(void 0!==r[e][n]){for(var a=[t.getElementById(i[e])],s=e;e!==n;){s=e,e=r[e][n];a.push(o[s][e]),a.push(t.getElementById(i[e]))}return a}}(l[i],l[o],p,x,f);return t.collection(a)}}}}},function(e,t,n){"use strict";var r=n(1),i={};[n(27),n(30),n(34),n(24),n(31),n(25),n(33),n(35),n(29),n(28),n(26)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){"use strict";var r=n(1);e.exports={kargerStein:function(e){var t=this;e=e||{};var n=function(e,t,n){for(var r=n[e],i=r[1],o=r[2],a=t[i],s=t[o],l=n.filter(function(e){return(t[e[1]]!==a||t[e[2]]!==s)&&(t[e[1]]!==s||t[e[2]]!==a)}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=a):c[2]===s&&(l[u]=c.slice(0),l[u][2]=a)}for(var u=0;u<t.length;u++)t[u]===s&&(t[u]=a);return l},i=function e(t,r,i,o){if(i<=o)return r;var a=Math.floor(Math.random()*r.length);return e(t,n(a,t,r),i-1,o)},o=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),s=this.nodes(),l=s.length,u=a.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),d=Math.floor(l/Math.sqrt(2));if(l<2)return void r.error("At least 2 nodes are required for Karger-Stein algorithm");for(var h={},p=0;p<l;p++)h[s[p].id()]=p;for(var f=[],p=0;p<u;p++){var g=a[p];f.push([p,h[g.source().id()],h[g.target().id()]])}for(var v,y=1/0,m=[],p=0;p<l;p++)m.push(p);for(var b=0;b<=c;b++){var x=m.slice(0),w=i(x,f,l,d),E=x.slice(0),_=i(x,w,d,2),D=i(E,w,d,2);_.length<=D.length&&_.length<y?(y=_.length,v=[_,x]):D.length<=_.length&&D.length<y&&(y=D.length,v=[D,E])}for(var T=v[0].map(function(e){return a[e[0]]}),C=[],S=[],N=v[1][0],p=0;p<v[1].length;p++){v[1][p]===N?C.push(s[p]):S.push(s[p])}return{cut:t.spawn(o,T),partition1:t.spawn(C),partition2:t.spawn(S)}}}},function(e,t,n){"use strict";var r=n(0);e.exports={kruskal:function(e){function t(e){for(var t=0;t<o.length;t++){var n=o[t];if(n.anySame(e))return{eles:n,index:t}}}var n=this.cy();e=r.fn(e)?e:function(){return 1};for(var i=n.collection(n,[]),o=[],a=this.nodes(),s=0;s<a.length;s++)o.push(a[s].collection());for(var l=this.edges(),u=l.toArray().sort(function(t,n){return e(t)-e(n)}),s=0;s<u.length;s++){var c=u[s],d=c.source()[0],h=c.target()[0],p=t(d),f=t(h);p.index!==f.index&&(i=i.add(c),o[p.index]=p.eles.add(f.eles),o.splice(f.index,1))}return a.add(i)}}},function(e,t,n){"use strict";var r=n(0);e.exports={pageRank:function(e){e=e||{};if(null!=e&&null!=e.dampingFactor)var t=e.dampingFactor;else var t=.8;if(null!=e&&null!=e.precision)var n=e.precision;else var n=1e-6;if(null!=e&&null!=e.iterations)var i=e.iterations;else var i=200;if(null!=e&&null!=e.weight&&r.fn(e.weight))var o=e.weight;else var o=function(){return 1};for(var a=this._private.cy,s=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),u=l.length,c=s.length,d={},h=0;h<u;h++)d[l[h].id()]=h;for(var p=[],f=[],g=(1-t)/u,h=0;h<u;h++){for(var v=[],y=0;y<u;y++)v.push(0);p.push(v),f.push(0)}for(var h=0;h<c;h++){var m=s[h],b=d[m.source().id()],x=d[m.target().id()],w=o(m);p[x][b]+=w,f[b]+=w}for(var E=1/u+g,y=0;y<u;y++)if(0===f[y])for(var h=0;h<u;h++)p[h][y]=E;else for(var h=0;h<u;h++)p[h][y]=p[h][y]/f[y]+g;for(var _,D=[],T=[],h=0;h<u;h++)D.push(1),T.push(0);for(var C=0;C<i;C++){for(var S=T.slice(0),h=0;h<u;h++)for(var y=0;y<u;y++)S[h]+=p[h][y]*D[y];!function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var r=0;r<t;r++)e[r]=e[r]/n}(S),_=D,D=S;for(var N=0,h=0;h<u;h++)N+=Math.pow(_[h]-D[h],2);if(N<n)break}return{rank:function(e){if(r.string(e))var t=a.filter(e)[0].id();else var t=e.id();return D[d[t]]}}}}},function(e,t,n){"use strict";var r=n(3);e.exports={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()}},function(e,t,n){"use strict";var r=n(9);e.exports={classes:function(e){e=(e||"").match(/\S+/g)||[];for(var t=this,n=[],i=new r(e),o=0;o<t.length;o++)!function(e){var o=t[e],a=o._private,s=a.classes,l=!1;i.forEach(function(e){s.has(e)||(l=!0)}),l||s.forEach(function(e){i.has(e)||(l=!0)}),l&&(a.classes=new r(i),n.push(o))}(o);return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){for(var n=e.match(/\S+/g)||[],r=this,i=[],o=0,a=r.length;o<a;o++)for(var s=r[o],l=!1,u=0;u<n.length;u++){var c=n[u],d=s._private.classes,h=d.has(c),p=t||void 0===t&&!h;p?(d.add(c),h||l||(i.push(s),l=!0)):(d.delete(c),h&&!l&&(i.push(s),l=!0))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}}},function(e,t,n){"use strict";var r=(n(0),n(6)),i={allAre:function(e){var t=new r(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new r(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){return e=this.cy().collection(e),this.length===e.length&&this.every(function(t){return e.hasElementWithId(t.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,e.exports=i},function(e,t,n){"use strict";function r(e,t,n,r){for(var i=[],o=new s,a=e.cy(),l=a.hasCompoundNodes(),u=0;u<e.length;u++){var c=e[u];n?i.push(c):l&&r(i,o,c)}for(;i.length>0;){var d=i.shift();t(d),o.add(d.id()),l&&r(i,o,d)}return e}function i(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];t.has(o.id())||e.push(o)}}function o(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function a(e,t,n){o(e,t,n),i(e,t,n)}var s=n(9),l={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r],o=i._private.parent;o&&t.push(o)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){t.push(n[r])}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t=void 0,n=0;n<this.length;n++){var r=this[n],i=r.parents();t=t||i,t=t.intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:function(e){for(var t=[],n=0;n<this.length;n++){t=t.concat(this[n]._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){function t(e){for(var r=0;r<e.length;r++){var i=e[r];n.push(i),i.children().nonempty()&&t(i.children())}}var n=[];return t(this.children()),this.spawn(n,{unique:!0}).filter(e)}};l.forEachDown=function(e){return r(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i)},l.forEachUp=function(e){return r(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o)},l.forEachUpAndDown=function(e){return r(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)},l.ancestors=l.parents,e.exports=l},function(e,t,n){"use strict";var r=n(3),i=void 0,o=void 0;i=o={data:r.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:r.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:r.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:r.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:r.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:r.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}},i.attr=i.data,i.removeAttr=i.removeData,e.exports=o},function(e,t,n){"use strict";function r(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!t&&s.isLoop()||(r+=e(i,s))}return r}}}function i(e,t){return function(n){for(var r=void 0,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],s=a[e](n);void 0===s||void 0!==r&&!t(s,r)||(r=s)}return r}}var o=n(1),a={};o.extend(a,{degree:r(function(e,t){return t.source().same(t.target())?2:1}),indegree:r(function(e,t){return t.target().same(e)?1:0}),outdegree:r(function(e,t){return t.source().same(e)?1:0})}),o.extend(a,{minDegree:i("degree",function(e,t){return e<t}),maxDegree:i("degree",function(e,t){return e>t}),minIndegree:i("indegree",function(e,t){return e<t}),maxIndegree:i("indegree",function(e,t){return e>t}),minOutdegree:i("outdegree",function(e,t){return e<t}),maxOutdegree:i("outdegree",function(e,t){return e>t})}),o.extend(a,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}}),e.exports=a},function(e,t,n){"use strict";function r(e){return{includeNodes:o.default(e.includeNodes,b.includeNodes),includeEdges:o.default(e.includeEdges,b.includeEdges),includeLabels:o.default(e.includeLabels,b.includeLabels),includeOverlays:o.default(e.includeOverlays,b.includeOverlays),useCache:o.default(e.useCache,b.useCache)}}var i=n(0),o=n(1),a=n(2),s=void 0,l=void 0;s=l={},l.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),o=t.x1*r+i.x,a=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:l,w:a-o,h:l-s}},l.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp(function(e){e._private.compoundBoundsClean=!1,e.isParent()&&e.emit("bounds")}),this):this},l.updateCompoundBounds=function(){var e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(e.batching())return this;for(var t=[],n=0;n<this.length;n++){var r=this[n],i=r._private;i.compoundBoundsClean||(!function(e){function n(e,t,n){var r=0,i=0,o=t+n;return e>0&&o>0&&(r=t/o*e,i=n/o*e),{biasDiff:r,biasComplementDiff:i}}if(e.isParent()){var r=e._private,i=e.children(),o="include"===e.pstyle("compound-sizing-wrt-labels").value,a={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},s=i.boundingBox({includeLabels:o,includeOverlays:!1,useCache:!1}),l=r.position;0!==s.w&&0!==s.h||(s={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue},s.x1=l.x-s.w/2,s.x2=l.x+s.w/2,s.y1=l.y-s.h/2,s.y2=l.y+s.h/2);var u=a.width.left.value;"px"===a.width.left.units&&a.width.val>0&&(u=100*u/a.width.val);var c=a.width.right.value;"px"===a.width.right.units&&a.width.val>0&&(c=100*c/a.width.val);var d=a.height.top.value;"px"===a.height.top.units&&a.height.val>0&&(d=100*d/a.height.val);var h=a.height.bottom.value;"px"===a.height.bottom.units&&a.height.val>0&&(h=100*h/a.height.val);var p=n(a.width.val-s.w,u,c),f=p.biasDiff,g=p.biasComplementDiff,v=n(a.height.val-s.h,d,h),y=v.biasDiff,m=v.biasComplementDiff;r.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(s.w,s.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),r.autoWidth=Math.max(s.w,a.width.val),l.x=(-f+s.x1+s.x2+g)/2,r.autoHeight=Math.max(s.h,a.height.val),l.y=(-y+s.y1+s.y2+m)/2,t.push(e)}}(r),e._private.batchingStyle||(i.compoundBoundsClean=!0))}return this};var u=function(e){return e===1/0||e===-1/0?0:e},c=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2)},d=function(e,t){return c(e,t.x1,t.y1,t.x2,t.y2)},h=function(e,t,n){return o.getPrefixedProperty(e,t,n)},p=function(e,t,n){if(!t.cy().headless()){var r=t._private,i=r.rstyle,o=i.arrowWidth/2,a=t.pstyle(n+"-arrow-shape").value,s=void 0,l=void 0;"none"!==a&&("source"===n?(s=i.srcX,l=i.srcY):"target"===n?(s=i.tgtX,l=i.tgtY):(s=i.midX,l=i.midY),c(e,s-o,l-o,s+o,l+o))}},f=function(e,t,n){if(!t.cy().headless()){var r=void 0;r=n?n+"-":"";var i=t._private,o=i.rstyle;if(t.pstyle(r+"label").strValue){var a=t.pstyle("text-halign"),s=t.pstyle("text-valign"),l=h(o,"labelWidth",n),u=h(o,"labelHeight",n),d=h(o,"labelX",n),p=h(o,"labelY",n),f=t.pstyle(r+"text-margin-x").pfValue,g=t.pstyle(r+"text-margin-y").pfValue,v=t.isEdge(),y=t.pstyle(r+"text-rotation"),m=t.pstyle("text-outline-width").pfValue,b=t.pstyle("text-border-width").pfValue,x=b/2,w=t.pstyle("text-background-padding").pfValue,E=u+2*w,_=l+2*w,D=_/2,T=E/2,C=void 0,S=void 0,N=void 0,O=void 0;if(v)C=d-D,S=d+D,N=p-T,O=p+T;else{switch(a.value){case"left":C=d-_,S=d;break;case"center":C=d-D,S=d+D;break;case"right":C=d,S=d+_}switch(s.value){case"top":N=p-E,O=p;break;case"center":N=p-T,O=p+T;break;case"bottom":N=p,O=p+E}}var P=v&&"autorotate"===y.strValue,M=null!=y.pfValue&&0!==y.pfValue;if(P||M){var k=P?h(i.rstyle,"labelAngle",n):y.pfValue,L=Math.cos(k),A=Math.sin(k),I=function(e,t){return e-=d,t-=p,{x:e*L-t*A+d,y:e*A+t*L+p}},R=I(C,N),F=I(C,O),B=I(S,N),z=I(S,O);C=Math.min(R.x,F.x,B.x,z.x),S=Math.max(R.x,F.x,B.x,z.x),N=Math.min(R.y,F.y,B.y,z.y),O=Math.max(R.y,F.y,B.y,z.y)}C+=f-Math.max(m,x),S+=f+Math.max(m,x),N+=g-Math.max(m,x),O+=g+Math.max(m,x),c(e,C,N,S,O)}return e}},g=function(e,t){var n=e._private.cy,r=n.styleEnabled(),i=n.headless(),o={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},s=e._private,l=r?e.pstyle("display").value:"element",d=e.isNode(),h=e.isEdge(),g=void 0,v=void 0,y=void 0,m=void 0,b=void 0,x=void 0,w="none"!==l;if(w){var E=0;r&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(E=e.pstyle("overlay-padding").value);var _=0,D=0;if(r&&(_=e.pstyle("width").pfValue,D=_/2),d&&t.includeNodes){var T=e.position();b=T.x,x=T.y;var C=e.outerWidth(),S=C/2,N=e.outerHeight(),O=N/2;g=b-S-E,v=b+S+E,y=x-O-E,m=x+O+E,c(o,g,y,v,m)}else if(h&&t.includeEdges){var P=s.rstyle||{};if(r&&!i&&(g=Math.min(P.srcX,P.midX,P.tgtX),v=Math.max(P.srcX,P.midX,P.tgtX),y=Math.min(P.srcY,P.midY,P.tgtY),m=Math.max(P.srcY,P.midY,P.tgtY),g-=D,v+=D,y-=D,m+=D,c(o,g,y,v,m)),r&&!i&&"haystack"===e.pstyle("curve-style").strValue){var M=P.haystackPts||[];if(g=M[0].x,y=M[0].y,v=M[1].x,m=M[1].y,g>v){var k=g;g=v,v=k}if(y>m){var L=y;y=m,m=L}c(o,g-D,y-D,v+D,m+D)}else{for(var A=P.bezierPts||P.linePts||[],I=0;I<A.length;I++){var R=A[I];g=R.x-D,v=R.x+D,y=R.y-D,m=R.y+D,c(o,g,y,v,m)}if(0===A.length){var F=e.source(),B=F.position(),z=e.target(),j=z.position();if(g=B.x,v=j.x,y=B.y,m=j.y,g>v){var V=g;g=v,v=V}if(y>m){var Y=y;y=m,m=Y}g-=D,v+=D,y-=D,m+=D,c(o,g,y,v,m)}}}if(r&&t.includeEdges&&h&&(p(o,e,"mid-source"),p(o,e,"mid-target"),p(o,e,"source"),p(o,e,"target")),r){if("yes"===e.pstyle("ghost").value){var q=e.pstyle("ghost-offset-x").pfValue,X=e.pstyle("ghost-offset-y").pfValue;c(o,o.x1+q,o.y1+X,o.x2+q,o.y2+X)}}r&&(g=o.x1,v=o.x2,y=o.y1,m=o.y2,c(o,g-E,y-E,v+E,m+E)),r&&t.includeLabels&&(f(o,e,null),h&&(f(o,e,"source"),f(o,e,"target")))}return o.x1=u(o.x1),o.y1=u(o.y1),o.x2=u(o.x2),o.y2=u(o.y2),o.w=u(o.x2-o.x1),o.h=u(o.y2-o.y1),o.w>0&&o.h>0&&w&&a.expandBoundingBox(o,1),o},v=function(e){return e?"t":"f"},y=function(e){var t="";return t+=v(e.incudeNodes),t+=v(e.includeEdges),t+=v(e.includeLabels),t+=v(e.includeOverlays)},m=function(e,t){var n=e._private,r=void 0,i=e.cy().headless(),o=t===b?x:y(t);return t.useCache&&!i&&n.bbCache&&n.bbCache[o]?r=n.bbCache[o]:(r=g(e,t),i||(n.bbCache=n.bbCache||{},n.bbCache[o]=r)),r},b={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},x=y(b);l.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?b:r(e),m(this[0],e);var t={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};e=e||o.staticEmptyObject();var n=r(e),i=this,a=i.cy(),s=a.styleEnabled();s&&this.recalculateRenderedStyle(n.useCache),this.updateCompoundBounds();for(var l={},c=0;c<i.length;c++){var h=i[c];if(s&&h.isEdge()&&"bezier"===h.pstyle("curve-style").strValue&&!l[h.id()]){for(var p=h.parallelEdges(),f=0;f<p.length;f++)l[p[f].id()]=!0;p.recalculateRenderedStyle(n.useCache)}d(t,m(h,n))}return t.x1=u(t.x1),t.y1=u(t.y1),t.x2=u(t.x2),t.y2=u(t.y2),t.w=u(t.x2-t.x1),t.h=u(t.y2-t.y1),t},l.boundingBoxAt=function(e){var t=this.nodes();if(i.plainObject(e)){var n=e;e=function(){return n}}for(var r=0;r<t.length;r++){var o=t[r],a=o._private,s=a.position,l=e.call(o,o,r);a.bbAtOldPos={x:s.x,y:s.y},l&&(s.x=l.x,s.y=l.y)}this.emit("dirty"),t.dirtyCompoundBoundsCache().updateCompoundBounds();for(var u=this.boundingBox({useCache:!1}),c=0;c<t.length;c++){var d=t[c],h=d._private,p=d._private.position,f=h.bbAtOldPos;p.x=f.x,p.y=f.y}return t.dirtyCompoundBoundsCache(),this.emit("dirty"),u},s.boundingbox=s.boundingBox,s.renderedBoundingbox=s.renderedBoundingBox,e.exports=l},function(e){"use strict";var t=function(e,t){if(e.isEdge())return t(e.renderer())};e.exports={controlPoints:function(){var e=this;return t(this,function(t){return t.getControlPoints(e)})},segmentPoints:function(){var e=this;return t(this,function(t){return t.getSegmentPoints(e)})},sourceEndpoint:function(){var e=this;return t(this,function(t){return t.getSourceEndpoint(e)})},targetEndpoint:function(){var e=this;return t(this,function(t){return t.getTargetEndpoint(e)})},midpoint:function(){var e=this;return t(this,function(t){return t.getEdgeMidpoint(e)})}}},function(e,t,n){"use strict";e.exports=n(1).assign({},n(45),n(42),n(46),n(43))},function(e,t,n){"use strict";var r=n(3),i=n(0),o=n(2),a=void 0,s=void 0,l=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isParent()&&!r.locked()){var i=r._private.position,o={x:t.x-i.x,y:t.y-i.y};e.children().shift(o)}}};a=s={position:r.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:l,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),silentPosition:r.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:l,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),positions:function(e,t){if(i.plainObject(e))t?this.silentPosition(e):this.position(e);else if(i.fn(e)){var n=e,r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var a=this[o],s=void 0;(s=n(a,o))&&(t?a.silentPosition(s):a.position(s))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t){var n=void 0;if(i.plainObject(e)?n=e:i.string(e)&&i.number(t)&&(n={x:0,y:0},n[e]=t),null!=n)for(var r=0;r<this.length;r++){var o=this[r],a=o.position();o.position({x:a.x+n.x,y:a.y+n.y})}return this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),a=r.zoom(),s=r.pan(),l=i.plainObject(e)?e:void 0,u=void 0!==l||void 0!==t&&i.string(e);if(n&&n.isNode()){if(!u){var c=n.position();return l=o.modelToRenderedPosition(c,a,s),void 0===e?l:l[e]}for(var d=0;d<this.length;d++){var h=this[d];void 0!==t?h.position(e,(t-s[e])/a):void 0!==l&&h.position(o.renderedToModelPosition(l,a,s))}}else if(!u)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),o=i.plainObject(e)?e:void 0,a=void 0!==o||void 0!==t&&i.string(e),s=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var l=n.position(),u=s?n.parent():null,c=u&&u.length>0,d=c;c&&(u=u[0]);var h=d?u.position():{x:0,y:0};return o={x:l.x-h.x,y:l.y-h.y},void 0===e?o:o[e]}for(var p=0;p<this.length;p++){var f=this[p],g=s?f.parent():null,v=g&&g.length>0,y=v;v&&(g=g[0]);var m=y?g.position():{x:0,y:0};void 0!==t?f.position(e,t+m[e]):void 0!==o&&f.position({x:o.x+m.x,y:o.y+m.y})}}else if(!a)return;return this}},a.modelPosition=a.point=a.position,a.modelPositions=a.points=a.positions,a.renderedPoint=a.renderedPosition,a.relativePoint=a.relativePosition,e.exports=s},function(e,t,n){"use strict";var r=n(1),i=void 0,o=void 0;i=o={};var a=function(e){e.uppercaseName=r.capitalize(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=r.capitalize(e.outerName),i[e.name]=function(){var t=this[0],n=t._private,r=n.cy,i=r._private.styleEnabled;if(t){if(!i)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var o=t.pstyle(e.name);switch(o.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return o.pfValue}}},i["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private,r=n.cy,i=r._private.styleEnabled;if(t){if(i){return t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding()}return 1}},i["rendered"+e.uppercaseName]=function(){var t=this[0];if(t){return t[e.name]()*this.cy().zoom()}},i["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t){return t[e.outerName]()*this.cy().zoom()}}};a({name:"width"}),a({name:"height"}),o.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},e.exports=o},function(e,t,n){"use strict";var r=n(10),i=n(3),o=n(0),a=n(1),s=n(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&o.element(n.target)&&r.matches(n.target)},eventFields:function(e){return{cy:e.cy(),target:e}},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},u=function(e){return o.string(e)?new s(e):e},c={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new r(a.assign({context:t},l)))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().on(e,u(t),n)}return this},removeListener:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().removeListener(e,u(t),n)}return this},one:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().one(e,u(t),n)}return this},once:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().on(e,u(t),n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify({type:e,eles:this}),this.emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){"use strict";var r=n(0),i=n(6),o={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},filter:function(e,t){if(void 0===e)return this;if(r.string(e)||r.elementOrCollection(e))return new i(e).filter(this);if(r.fn(e)){for(var n=this.spawn(),o=this,a=0;a<o.length;a++){var s=o[a];(t?e.apply(t,[s,a,o]):e(s,a,o))&&n.merge(s)}return n}return this.spawn()},not:function(e){if(e){r.string(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,i=0;i<this.length;i++){var o=this[i];n.has(o.id())||t.push(o)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(r.string(e)){return this.filter(e)}for(var t=[],n=this,i=e,o=this.length<e.length,a=o?i._private.map:n._private.map,s=o?n:i,l=0;l<s.length;l++){var u=s[l]._private.data.id,c=a.get(u);c&&t.push(c.ele)}return this.spawn(t)},xor:function(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=this,o=e,a=function(e,t){for(var r=0;r<e.length;r++){var i=e[r];t.hasElementWithId(i._private.data.id)||n.push(i)}};return a(i,o),a(o,i),this.spawn(n)},diff:function(e){var t=this._private.cy;r.string(e)&&(e=t.$(e));var n=[],i=[],o=[],a=this,s=e,l=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];t.hasElementWithId(i._private.data.id)?o.push(i):n.push(i)}};return l(a,s,n),l(s,a,i),{left:this.spawn(n,{unique:!0}),right:this.spawn(i,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(r.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=[],o=0;o<this.length;o++)i.push(this[o]);for(var a=this._private.map,s=0;s<e.length;s++){!a.has(e[s].id())&&i.push(e[s])}return this.spawn(i)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&r.string(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=t.map,a=0;a<e.length;a++){var s=e[a],l=s._private.data.id;if(!o.has(l)){var u=this.length++;this[u]=s,o.set(l,{ele:s,index:u})}else{var c=o.get(l).index;this[c]=s,o.set(l,{ele:s,index:c})}}return this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map,i=r.get(n);if(!i)return this;var o=i.index;this[o]=void 0,r.delete(n);var a=o===this.length-1;if(this.length>1&&!a){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[o]=l,r.set(u,{ele:l,index:o})}return this.length--,this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&r.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i];n.push(t?e.apply(t,[o,i,r]):e(o,i,r))}return n},reduce:function(e,t){for(var n=t,r=this,i=0;i<r.length;i++)n=e(n,r[i],i,r);return n},max:function(e,t){for(var n=-1/0,r=void 0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s>n&&(n=s,r=a)}return{value:n,ele:r}},min:function(e,t){for(var n=1/0,r=void 0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s<n&&(n=s,r=a)}return{value:n,ele:r}}},a=o;a.u=a["|"]=a["+"]=a.union=a.or=a.add,a["\\"]=a["!"]=a["-"]=a.difference=a.relativeComplement=a.subtract=a.not,a.n=a["&"]=a["."]=a.and=a.intersection=a.intersect,a["^"]=a["(+)"]=a["(-)"]=a.symmetricDifference=a.symdiff=a.xor,a.fnFilter=a.filterFn=a.stdFilter=a.filter,a.complement=a.abscomp=a.absoluteComplement,e.exports=o},function(e){"use strict";e.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];if(e)return e._private.group}}},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(1),a={forEach:function(e,t){if(r.fn(e))for(var n=0;n<this.length;n++){var i=this[n],o=t?e.apply(t,[i,n,this]):e(i,n,this);if(!1===o)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){return r.fn(e)?this.spawn(this.toArray().sort(e)):this},sortByZIndex:function(){return this.sort(i)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:o.MAX_INT-1}var r=t.source,i=t.target,a=r.zDepth(),s=i.zDepth();return Math.max(a,s,0)}}};a.each=a.forEach,e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(5),a=n(2),s={layoutDimensions:function(e){if(e=i.assign({nodeDimensionsIncludeLabels:!0},e),e.nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,t,n){var s=this.nodes(),l=this.cy(),u=t.eles,c=function(e,t){return e.id()+"$"+t},d=i.memoize(n,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var h=function(e,t,n){var r={x:t.x1+t.w/2,y:t.y1+t.h/2},i={x:(n.x-r.x)*e,y:(n.y-r.y)*e};return{x:r.x+i.x,y:r.y+i.y}},p=t.spacingFactor&&1!==t.spacingFactor,f=function(){if(!p)return null;for(var e=a.makeBoundingBox(),t=0;t<s.length;t++){var n=s[t],r=d(n,t);a.expandBoundingBoxByPoint(e,r.x,r.y)}return e}(),g=i.memoize(function(e,n){var i=d(e,n),o=e.position();if(r.number(o.x)&&r.number(o.y)||e.silentPosition({x:0,y:0}),p){var a=Math.abs(t.spacingFactor);i=h(a,f,i)}return null!=t.transform&&(i=t.transform(e,i)),i},c);if(t.animate){for(var v=0;v<s.length;v++){var y=s[v],m=g(y,v);if(null==t.animateFilter||t.animateFilter(y,v)){var b=y.animation({position:m,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(b),b.play()}else y.position(m)}if(t.fit){var x=l.animation({fit:{boundingBox:u.boundingBoxAt(g),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(x),x.play()}else if(void 0!==t.zoom&&void 0!==t.pan){var w=l.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(w),w.play()}e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),o.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else s.positions(g),t.fit&&l.fit(t.eles,t.padding),null!=t.zoom&&l.zoom(t.zoom),t.pan&&l.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(i.extend({},e,{eles:this}))}};s.createLayout=s.makeLayout=s.layout,e.exports=s},function(e,t,n){"use strict";function r(e,t,n){var r,i=n._private,o=i.styleCache=i.styleCache||{};return null!=(r=o[e])?r:r=o[e]=t(n)}function i(e,t){return function(n){return r(e,t,n)}}function o(e,t){var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return r(e,n,t)}}function a(e,t){var n=e._private,r=n.data.parent?e.parents():null;if(r)for(var i=0;i<r.length;i++){var o=r[i];if(!t(o))return!1}return!0}function s(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],o=e.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!o||a(i,r);var l=s.source,u=s.target;return n(l)&&(!o||a(l,n))&&(l===u||n(u)&&(!o||a(u,n)))}}}var l=n(0),u={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(e){return e._private.styleCache={}};if(e.hasCompoundNodes()){var n=void 0;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(e){t(e),e.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle){return t._private.batchStyleEles.merge(this),this}var n=t.hasCompoundNodes(),r=t.style(),i=this;e=!(!e&&void 0!==e),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=r.apply(i);return o.dirtyStyleCache(),o.dirtyCompoundBoundsCache(),e?o.emitAndNotify("style"):o.emit("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;var r=n.updateMappers(this);return r.dirtyStyleCache(),r.dirtyCompoundBoundsCache(),e?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(e){var t=this[0],n=t.cy();if(n.styleEnabled())return t?t._private.style[e]||n.style().getDefaultProperty(e):void 0},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(l.plainObject(e)){r.applyBypass(this,e,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(l.string(e)){if(void 0===t){var i=this[0];return i?r.getStylePropertyValue(i,e):void 0}r.applyBypass(this,e,t,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),r=this;if(void 0===e)for(var i=0;i<r.length;i++){var o=r[i];n.removeAllBypasses(o,!1)}else{e=e.split(/\s+/);for(var a=0;a<r.length;a++){n.removeBypasses(r[a],e,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){var s=o[a],l=s.pstyle("opacity").value;i*=l}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}},c=i("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});u.takesUpSpace=o("takesUpSpace",s({ok:c})),u.interactive=o("interactive",s({ok:i("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&c(e)}),parentOk:i("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&c(e)}),edgeOkViaNode:c})),u.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},u.visible=o("visible",s({ok:i("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&c(e)}),edgeOkViaNode:c})),u.hidden=function(){var e=this[0];if(e)return!e.visible()},u.bypass=u.css=u.style,u.renderedCss=u.renderedStyle,u.removeBypass=u.removeCss=u.removeStyle,u.pstyle=u.parsedStyle,e.exports=u},function(e){"use strict";function t(e){return function(){var t=arguments,n=[];if(2===t.length){this.on(e.event,t[0],t[1])}else if(1===t.length){var r=t[0];this.on(e.event,r)}else if(0===t.length){for(var i=0;i<this.length;i++){var o=this[i],a=!e.ableField||o._private[e.ableField],s=o._private[e.field]!=e.value;if(e.overrideAble){var l=e.overrideAble(o);if(void 0!==l&&(a=l,!l))return this}a&&(o._private[e.field]=e.value,s&&n.push(o))}var u=this.spawn(n);u.updateStyle(),u.emit(e.event)}return this}}function n(e){r[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},r[e.on]=t({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),r[e.off]=t({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}var r={};n({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),n({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),n({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),n({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),r.deselect=r.unselect,r.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},n({field:"active",on:"activate",off:"unactivate"}),r.inactive=function(){var e=this[0];if(e)return!e._private.active},e.exports=r},function(e,t,n){"use strict";function r(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,{unique:!0}).filter(t)}}function i(e){return function(t){var n=[],r=this._private.cy,i=e||{};s.string(t)&&(t=r.$(t));for(var o=0;o<t.length;o++)for(var a=t[o]._private.edges,l=0;l<a.length;l++){var u=a[l],c=u._private.data,d=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target),p=d||h;if(p){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!d)continue;if(i.thisIsTgt&&!h)continue}n.push(u)}}return this.spawn(n,{unique:!0})}}function o(e){return e=a.extend({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,o=0;o<r.length;o++)for(var a=r[o],s=a._private,l=s.source,u=l._private.data.id,c=s.data.target,d=l._private.edges,h=0;h<d.length;h++){var p=d[h],f=p._private.data,g=f.target,v=f.source,y=g===c&&v===u,m=u===g&&c===v;(i.codirected&&y||!i.codirected&&(y||m))&&n.push(p)}return this.spawn(n,{unique:!0}).filter(t)}}var a=n(1),s=n(0),l={},u=function(e,t){return function(n,r,i,o){var a=n,l=this,u=void 0;if(null==a?u="null":s.elementOrCollection(a)&&1===a.length&&(u="#"+a.id()),1===l.length&&u){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},h=d[t]=d[t]||{},p=h[u];return p||(h[u]=e.call(l,n,r,i,o))}return e.call(l,n,r,i,o)}},c=function(e){return function(t){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode()){for(var a=!1,s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),d=u.target();if(e.noIncomingEdges&&d===o&&c!==o||e.noOutgoingEdges&&c===o&&d!==o){a=!0;break}}a||r.push(o)}}return this.spawn(r,{unique:!0}).filter(t)}},d=function(e){return function(t){for(var n=this,r=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var a=o.connectedEdges(),s=0;s<a.length;s++){var l=a[s],u=l.source(),c=l.target();e.outgoing&&u===o?(r.push(l),r.push(c)):e.incoming&&c===o&&(r.push(l),r.push(u))}}return this.spawn(r,{unique:!0}).filter(t)}},h=function(e){return function(t){for(var n=this,r=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var l=o[s],u=l.id();i[u]||(i[u]=!0,r.push(l),a=!0)}if(!a)break;n=o}return this.spawn(r,{unique:!0}).filter(t)}};l.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},a.extend(l,{roots:c({noIncomingEdges:!0}),leaves:c({noOutgoingEdges:!0}),outgoers:u(d({outgoing:!0}),"outgoers"),successors:h({outgoing:!0}),incomers:u(d({incoming:!0}),"incomers"),predecessors:h({incoming:!0})}),a.extend(l,{neighborhood:u(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),l.neighbourhood=l.neighborhood,l.closedNeighbourhood=l.closedNeighborhood,l.openNeighbourhood=l.openNeighborhood,a.extend(l,{source:u(function(e){var t=this[0],n=void 0;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:u(function(e){var t=this[0],n=void 0;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:r({attr:"source"}),targets:r({attr:"target"})}),a.extend(l,{edgesWith:u(i(),"edgesWith"),edgesTo:u(i({thisIsSrc:!0}),"edgesTo")}),a.extend(l,{connectedEdges:u(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var s=o[a];t.push(s)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:u(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:u(o(),"parallelEdges"),codirectedEdges:u(o({codirected:!0}),"codirectedEdges")}),a.extend(l,{components:function(){var e=this,t=e.cy(),n=e.spawn(),r=e.nodes().spawnSelf(),i=[],o=function(e,t){n.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return e.spawn();do{!function(){var n=t.collection();i.push(n);var a=r[0];o(a,n),e.bfs({directed:!1,roots:a,visit:function(e){o(e,n)}})}()}while(r.length>0);return i.map(function(e){var t=e.connectedEdges().stdFilter(function(t){return e.anySame(t.source())&&e.anySame(t.target())});return e.union(t)})}}),e.exports=l},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(7),a=n(13);e.exports={add:function(e){var t=void 0,n=this;if(r.elementOrCollection(e)){var s=e;if(s._private.cy===n)t=s.restore();else{for(var l=[],u=0;u<s.length;u++){l.push(s[u].json())}t=new o(n,l)}}else if(r.array(e)){var c=e;t=new o(n,c)}else if(r.plainObject(e)&&(r.array(e.nodes)||r.array(e.edges))){for(var d=e,h=[],p=["nodes","edges"],f=0,g=p.length;f<g;f++){var v=p[f],y=d[v];if(r.array(y))for(var m=0,b=y.length;m<b;m++){var x=i.extend({group:v},y[m]);h.push(x)}}t=new o(n,h)}else{var w=e;t=new a(n,w).collection()}return t},remove:function(e){if(r.elementOrCollection(e));else if(r.string(e)){var t=e;e=this.$(t)}return e.remove()}}},function(e){"use strict";function t(e,t,n,r){function i(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function s(e,t,n){return((i(t,n)*e+o(t,n))*e+a(t))*e}function l(e,t,n){return 3*i(t,n)*e*e+2*o(t,n)*e+a(t)}function u(t,r){for(var i=0;i<f;++i){var o=l(r,e,n);if(0===o)return r;r-=(s(r,e,n)-t)/o}return r}function c(){for(var t=0;t<m;++t)E[t]=s(t*b,e,n)}function d(t,r,i){var o=void 0,a=void 0,l=0;do{a=r+(i-r)/2,o=s(a,e,n)-t,o>0?i=a:r=a}while(Math.abs(o)>v&&++l<y);return a}function h(t){for(var r=0,i=1,o=m-1;i!==o&&E[i]<=t;++i)r+=b;--i;var a=(t-E[i])/(E[i+1]-E[i]),s=r+a*b,c=l(s,e,n);return c>=g?u(t,s):0===c?s:d(t,r,r+b)}function p(){_=!0,e===t&&n===r||c()}var f=4,g=.001,v=1e-7,y=10,m=11,b=1/(m-1),x="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var E=x?new Float32Array(m):new Array(m),_=!1,D=function(i){return _||p(),e===t&&n===r?i:0===i?0:1===i?1:s(h(i),t,r)};D.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var T="generateBezier("+[e,t,n,r]+")";return D.toString=function(){return T},D}e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r,i){if(1===r)return n;var o=i(t,n,r);return null==e?o:((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max)),o)}function i(e,t,n,i,a){var s=null!=a?a.type:null;n<0?n=0:n>1&&(n=1);var l=void 0,u=void 0;if(l=null!=e.pfValue||null!=e.value?null!=e.pfValue?e.pfValue:e.value:e,u=null!=t.pfValue||null!=t.value?null!=t.pfValue?t.pfValue:t.value:t,o.number(l)&&o.number(u))return r(s,l,u,n,i);if(o.array(l)&&o.array(u)){for(var c=[],d=0;d<u.length;d++){var h=l[d],p=u[d];if(null!=h&&null!=p){c.push(r(s,h,p,n,i))}else c.push(p)}return c}}var o=n(0);e.exports=i},function(e,t,n){"use strict";var r=n(56),i=n(60),o=function(e,t,n,i){var o=r(e,t,n,i);return function(e,t,n){return e+(t-e)*o(n)}},a={linear:function(e,t,n){return e+(t-e)*n},ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"ease-in-sine":o(.47,0,.745,.715),"ease-out-sine":o(.39,.575,.565,1),"ease-in-out-sine":o(.445,.05,.55,.95),"ease-in-quad":o(.55,.085,.68,.53),"ease-out-quad":o(.25,.46,.45,.94),"ease-in-out-quad":o(.455,.03,.515,.955),"ease-in-cubic":o(.55,.055,.675,.19),"ease-out-cubic":o(.215,.61,.355,1),"ease-in-out-cubic":o(.645,.045,.355,1),"ease-in-quart":o(.895,.03,.685,.22),"ease-out-quart":o(.165,.84,.44,1),"ease-in-out-quart":o(.77,0,.175,1),"ease-in-quint":o(.755,.05,.855,.06),"ease-out-quint":o(.23,1,.32,1),"ease-in-out-quint":o(.86,0,.07,1),"ease-in-expo":o(.95,.05,.795,.035),"ease-out-expo":o(.19,1,.22,1),"ease-in-out-expo":o(1,0,0,1),"ease-in-circ":o(.6,.04,.98,.335),"ease-out-circ":o(.075,.82,.165,1),"ease-in-out-circ":o(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return a.linear;var r=i(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":o};e.exports=a},function(e,t,n){"use strict";var r=n(3),i=n(1),o=n(62);e.exports={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function e(){t._private.animationsRunning&&i.requestAnimationFrame(function(n){o(n,t),e()})}var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(e,n){o(n,t)},n.beforeRenderPriorities.animations):e()}}}},function(e){"use strict";e.exports=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),a=t(n,.5*r,o),s=t(n,r,a),l=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),u=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+l*r,n.v=n.v+u*r,n}return function e(t,r,i){var o={x:-1,v:0,tension:null,friction:null},a=[0],s=0,l=void 0,u=void 0,c=void 0;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,o.tension=t,o.friction=r,l=null!==i,l?(s=e(t,r),u=s/i*.016):u=.016;c=n(c||o,u),a.push(1+c.x),s+=16,Math.abs(c.x)>1e-4&&Math.abs(c.v)>1e-4;);return l?function(e){return a[e*(a.length-1)|0]}:s}}()},function(e){"use strict";function t(e,t,n,r){var i=!r,o=e,a=t._private,s=r?e:e.cy(),l=s.style();if(i){var u=o.position();a.startPosition=a.startPosition||{x:u.x,y:u.y},a.startStyle=a.startStyle||l.getAnimationStartStyle(o,a.style)}if(r){var c=s._private.pan;a.startPan=a.startPan||{x:c.x,y:c.y},a.startZoom=null!=a.startZoom?a.startZoom:s._private.zoom}a.started=!0,a.startTime=n-a.progress*a.duration}e.exports=t},function(e,t,n){"use strict";function r(e,t){function n(t,n){var r=t._private,s=r.animation.current,l=r.animation.queue,u=!1;if(!n&&"none"===t.pstyle("display").value){s=s.splice(0,s.length).concat(l.splice(0,l.length));for(var c=0;c<s.length;c++)s[c].stop()}if(0===s.length){var d=l.shift();d&&s.push(d)}for(var h=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},p=s.length-1;p>=0;p--){var f=s[p],g=f._private;g.stopped?(s.splice(p,1),g.hooked=!1,g.playing=!1,g.started=!1,h(g.frames)):(g.playing||g.applying)&&(g.playing&&g.applying&&(g.applying=!1),g.started||o(t,f,e,n),i(t,f,e,n),g.applying&&(g.applying=!1),h(g.frames),f.completed()&&(s.splice(p,1),g.hooked=!1,g.playing=!1,g.started=!1,h(g.completes)),u=!0)}return n||0!==s.length||0!==l.length||a.push(t),u}for(var r=t._private.aniEles,a=[],s=!1,l=0;l<r.length;l++){var u=r[l],c=n(u);s=s||c}var d=n(t,!0);(s||d)&&(r.length>0?(r.dirtyCompoundBoundsCache(),t.notify({type:"draw",eles:r})):t.notify({type:"draw"})),r.unmerge(a),t.emit("step")}var i=n(63),o=n(61);e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var l=!r,u=e._private,c=t._private,d=c.easing,h=c.startTime,p=r?e:e.cy(),f=p.style();if(!c.easingImpl)if(null==d)c.easingImpl=o.linear;else{var g=void 0;if(s.string(d)){var v=f.parse("transition-timing-function",d);g=v.value}else g=d;var y=void 0,m=void 0;s.string(g)?(y=g,m=[]):(y=g[1],m=g.slice(2).map(function(e){return+e})),m.length>0?("spring"===y&&m.push(c.duration),c.easingImpl=o[y].apply(null,m)):c.easingImpl=o[y]}var b=c.easingImpl,x=void 0;if(x=0===c.duration?1:(n-h)/c.duration,c.applying&&(x=c.progress),x<0?x=0:x>1&&(x=1),null==c.delay){var w=c.startPosition,E=c.position;if(E&&l&&!e.locked()){var _=e.position();i(w.x,E.x)&&(_.x=a(w.x,E.x,x,b)),i(w.y,E.y)&&(_.y=a(w.y,E.y,x,b)),e.emit("position")}var D=c.startPan,T=c.pan,C=u.pan,S=null!=T&&r;S&&(i(D.x,T.x)&&(C.x=a(D.x,T.x,x,b)),i(D.y,T.y)&&(C.y=a(D.y,T.y,x,b)),e.emit("pan"));var N=c.startZoom,O=c.zoom,P=null!=O&&r;P&&(i(N,O)&&(u.zoom=a(N,O,x,b)),e.emit("zoom")),(S||P)&&e.emit("viewport");var M=c.style;if(M&&M.length>0&&l){for(var k=0;k<M.length;k++){var L=M[k],A=L.name,I=L,R=c.startStyle[A];f.overrideBypass(e,A,a(R,I,x,b,f.properties[R.name]))}e.emit("style")}}return c.progress=x,x}function i(e,t){return null!=e&&null!=t&&(!(!s.number(e)||!s.number(t))||!(!e||!t))}var o=n(58),a=n(57),s=n(0);e.exports=r},function(e,t,n){"use strict";var r=n(10),i=n(3),o=n(0),a=n(1),s=n(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&o.element(n.target)&&r.matches(n.target)},eventFields:function(e){return{cy:e,target:e}},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},u=function(e){return o.string(e)?new s(e):e},c={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new r(a.assign({context:this},l))),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,u(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,u(t),n),this},one:function(e,t,n){return this.emitter().one(e,u(t),n),this},once:function(e,t,n){return this.emitter().one(e,u(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e){"use strict";var t={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};t.jpeg=t.jpg,e.exports=t},function(e,t,n){"use strict";var r=n(1),i=n(0),o={layout:function(e){var t=this;if(null==e)return void r.error("Layout options must be specified to make a layout");if(null==e.name)return void r.error("A `name` must be specified to make a layout");var n=e.name,o=t.extension("layout",n);if(null==o)return void r.error("Can not apply layout: No such layout `"+n+"` found; did you include its JS file?");var a=void 0;return a=i.string(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new o(r.extend({},e,{cy:t,eles:a}))}};o.createLayout=o.makeLayout=o.layout,e.exports=o},function(e){"use strict";e.exports={notify:function(e){var t=this._private;if(t.batchingNotify){var n=t.batchNotifyEles,r=t.batchNotifyTypes;return e.eles&&n.merge(e.eles),void(r.ids[e.type]||(r.push(e.type),r.ids[e.type]=!0))}if(t.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e)}},notifications:function(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=!!e},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];t.getElementById(i).data(o)}})}}},function(e,t,n){"use strict";var r=n(1),i={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null==n)return void r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name);t._private.renderer=new n(r.extend({},e,{cy:t})),this.notify({type:"init"})},destroyRenderer:function(){var e=this;e.notify({type:"destroy"});var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,e.exports=i},function(e,t,n){"use strict";var r=n(0),i=n(7),o={collection:function(e,t){return r.string(e)?this.$(e):r.elementOrCollection(e)?e.collection():r.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};o.elements=o.filter=o.$,e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(18);e.exports={style:function(e){if(e){this.setStyle(e).update()}return this._private.style},setStyle:function(e){var t=this._private;return t.style=r.stylesheet(e)?e.generateStyle(this):r.array(e)?i.fromJson(this,e):r.string(e)?i.fromString(this,e):i(this)}}},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(2),a={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e=arguments,t=this._private.pan,n=void 0,i=void 0,o=void 0,a=void 0,s=void 0;switch(e.length){case 0:return t;case 1:if(r.string(e[0]))return n=e[0],t[n];if(r.plainObject(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,s=o.y,r.number(a)&&(t.x=a),r.number(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],"x"!==n&&"y"!==n||!r.number(i)||(t[n]=i),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e,t){var n=arguments,i=this._private.pan,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0;if(!this._private.panningEnabled)return this;switch(n.length){case 1:r.plainObject(e)&&(s=n[0],l=s.x,u=s.y,r.number(l)&&(i.x+=l),r.number(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:o=e,a=t,"x"!==o&&"y"!==o||!r.number(a)||(i[o]+=a),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(r.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n=void 0;if(r.string(e)){e=this.$(e)}else if(r.boundingBox(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else r.elementOrCollection(e)||(e=this.mutableElements());if(!r.elementOrCollection(e)||!e.empty()){n=n||e.boundingBox();var o=this.width(),a=this.height(),s=void 0;if(t=r.number(t)?t:0,!isNaN(o)&&!isNaN(a)&&o>0&&a>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){s=Math.min((o-2*t)/n.w,(a-2*t)/n.h),s=s>this._private.maxZoom?this._private.maxZoom:s,s=s<this._private.minZoom?this._private.minZoom:s;return{zoom:s,pan:{x:(o-s*(n.x1+n.x2))/2,y:(a-s*(n.y1+n.y2))/2}}}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(r.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(r.number(e)&&(this._private.maxZoom=e),this)},getZoomedViewport:function(e){var t=this._private,n=t.pan,i=t.zoom,a=void 0,s=void 0,l=!1;if(t.zoomingEnabled||(l=!0),r.number(e)?s=e:r.plainObject(e)&&(s=e.level,null!=e.position?a=o.modelToRenderedPosition(e.position,i,n):null!=e.renderedPosition&&(a=e.renderedPosition),null==a||t.panningEnabled||(l=!0)),s=s>t.maxZoom?t.maxZoom:s,s=s<t.minZoom?t.minZoom:s,l||!r.number(s)||s===i||null!=a&&(!r.number(a.x)||!r.number(a.y)))return null;if(null!=a){var u=n,c=i,d=s;return{zoomed:!0,panned:!0,zoom:d,pan:{x:-d/c*(a.x-u.x)+a.x,y:-d/c*(a.y-u.y)+a.y}}}return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify({type:"viewport"}),this):this},viewport:function(e){var t=this._private,n=!0,i=!0,o=[],a=!1,s=!1;if(!e)return this;if(r.number(e.zoom)||(n=!1),r.plainObject(e.pan)||(i=!1),!n&&!i)return this;if(n){var l=e.zoom;l<t.minZoom||l>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=l,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;r.number(u.x)&&(t.pan.x=u.x,s=!1),r.number(u.y)&&(t.pan.y=u.y,s=!1),s||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(r.string(e)){var n=e;e=this.mutableElements().filter(n)}else r.elementOrCollection(e)||(e=this.mutableElements());if(0!==e.length){var i=e.boundingBox(),o=this.width(),a=this.height();t=void 0===t?this._private.zoom:t;return{x:(o-t*(i.x1+i.x2))/2,y:(a-t*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?function(){var e=i.getComputedStyle(t),n=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};a.centre=a.center,a.autolockNodes=a.autolock,a.autoungrabifyNodes=a.autoungrabify,e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(23),o=n(2),a=n(0);e.exports={animated:function(){return function(){var e=this,t=void 0!==e.length,n=t?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var r=n[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length,n=t?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<n.length;r++){n[r]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,s=void 0!==n.length,l=s?n:[n],u=this._private.cy||this,c=!s,d=!c;if(!u.styleEnabled())return this;var h=u.style();if(e=r.assign({},e,t),0===Object.keys(e).length)return new i(l[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(d&&(e.style=h.getPropsList(e.style||e.css),e.css=void 0),d&&null!=e.renderedPosition){var p=e.renderedPosition,f=u.pan(),g=u.zoom();e.position=o.renderedToModelPosition(p,g,f)}if(c&&null!=e.panBy){var v=e.panBy,y=u.pan();e.pan={x:y.x+v.x,y:y.y+v.y}}var m=e.center||e.centre;if(c&&null!=m){var b=u.getCenterPan(m.eles,e.zoom);null!=b&&(e.pan=b)}if(c&&null!=e.fit){var x=e.fit,w=u.getFitViewport(x.eles||x.boundingBox,x.padding);null!=w&&(e.pan=w.pan,e.zoom=w.zoom)}if(c&&a.plainObject(e.zoom)){var E=u.getZoomedViewport(e.zoom);null!=E&&(E.zoomed&&(e.zoom=E.zoom),E.panned&&(e.pan=E.pan))}return new i(l[0],e)}},animate:function(){return function(e,t){var n=this,i=void 0!==n.length,o=i?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=r.extend({},e,t));for(var a=0;a<o.length;a++){var s=o[a];s.animation(e,s.animated()&&(void 0===e.queue||e.queue)?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){for(var s=i[a],l=s._private,u=l.animation.current,c=0;c<u.length;c++){var d=u[c],h=d._private;t&&(h.duration=0)}e&&(l.animation.queue=[]),t||(l.animation.current=[])}return o.notify({eles:this,type:"draw"}),this}}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(1),o=n(0);e.exports={data:function(e){return e=i.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(){},beforeSet:function(){},onSet:function(){},canSet:function(){return!0}},e),function(t,n){var i=e,a=this,s=void 0!==a.length,l=s?a:[a],u=s?a[0]:a;if(o.string(t)){if(i.allowGetting&&void 0===n){var c=void 0;return u&&(i.beforeGet(u),c=u._private[i.field][t]),c}if(i.allowSetting&&void 0!==n&&!i.immutableKeys[t]){i.beforeSet(a,r({},t,n));for(var d=0,h=l.length;d<h;d++){var p=l[d];i.canSet(p)&&(p._private[i.field][t]=n)}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&o.plainObject(t)){var f=t,g=void 0,v=void 0,y=Object.keys(f);i.beforeSet(a,f);for(var m=0;m<y.length;m++){g=y[m],v=f[g];var b=!i.immutableKeys[g];if(b)for(var x=0;x<l.length;x++){var w=l[x];i.canSet(w)&&(w._private[i.field][g]=v)}}i.updateStyle&&a.updateStyle(),i.onSet(a),i.settingTriggersEvent&&a[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&o.fn(t)){var E=t;a.on(i.bindingEvent,E)}else if(i.allowGetting&&void 0===t){var _=void 0;return u&&(i.beforeGet(u),_=u._private[i.field]),_}return a}},removeData:function(e){return e=i.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,i=void 0!==r.length,a=i?r:[r];if(o.string(t)){for(var s=t.split(/\s+/),l=s.length,u=0;u<l;u++){var c=s[u];if(!o.emptyString(c)&&!n.immutableKeys[c])for(var d=0,h=a.length;d<h;d++)a[d]._private[n.field][c]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var p=0,f=a.length;p<f;p++)for(var g=a[p]._private[n.field],v=Object.keys(g),y=0;y<v.length;y++){var m=v[y],b=!n.immutableKeys[m];b&&(g[m]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}}},function(e,t,n){"use strict";var r=n(5);e.exports={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(){var e=this,t=Array.prototype.slice.call(arguments,0);return new r(function(n){var r=function(t){e.off.apply(e,o),n(t)},i=t.concat([r]),o=i.concat([]);e.on.apply(e,i)})}}}},function(e,t,n){"use strict";e.exports=[{type:"layout",extensions:n(81)},{type:"renderer",extensions:n(114)}]},function(e,t,n){"use strict";function r(e){this.options=i.extend({},s,e)}var i=n(1),o=n(2),a=n(0),s={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent"),s=r,l=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=void 0;if(a.elementOrCollection(t.roots))u=t.roots;else if(a.array(t.roots)){for(var c=[],d=0;d<t.roots.length;d++){var h=t.roots[d],p=n.getElementById(h);c.push(p)}u=n.collection(c)}else if(a.string(t.roots))u=n.$(t.roots);else if(t.directed)u=i.roots();else{for(var f=[],g=i;g.length>0;)!function(){var e=n.collection();r.bfs({roots:g[0],visit:function(t){e=e.add(t)},directed:!1}),g=g.not(e),f.push(e)}();u=n.collection();for(var v=0;v<f.length;v++)!function(e){var t=f[e],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});u=u.add(r)}(v)}var y=[],m={},b={},x={},w={},E={};s.bfs({roots:u,directed:t.directed,visit:function(e,t,n,r,i){var o=e[0],a=o.id();if(y[i]||(y[i]=[]),y[i].push(o),m[a]=!0,b[a]=i,x[a]=n,w[a]=t,n){var s=n.id();(E[s]=E[s]||[]).push(e)}}});for(var _=[],D=0;D<i.length;D++){var T=i[D];m[T.id()]||_.push(T)}for(var C=3*_.length,S=0;0!==_.length&&S<C;){for(var N=_.shift(),O=N.neighborhood().nodes(),P=!1,M=0;M<O.length;M++){var k=b[O[M].id()];if(void 0!==k){y[k].push(N),P=!0;break}}P||_.push(N),S++}for(;0!==_.length;){var L=_.shift();0===y.length&&y.push([]),y[0].push(L)}var A=function(){for(var e=0;e<y.length;e++)for(var t=y[e],n=0;n<t.length;n++){var r=t[n];null!=r?r._private.scratch.breadthfirst={depth:e,index:n}:(t.splice(n,1),n--)}};A();for(var I=0;I<t.maximalAdjustments;I++){for(var R=y.length,F=[],B=0;B<R;B++)for(var z=y[B],j=z.length,V=0;V<j;V++){var Y=z[V],q=Y._private.scratch.breadthfirst,X=function(e){for(var t=e.connectedEdges(function(t){return t.data("target")===e.id()}),n=e._private.scratch.breadthfirst,r=0,i=void 0,o=0;o<t.length;o++){var a=t[o],s=a.source()[0],l=s._private.scratch.breadthfirst;n.depth<=l.depth&&r<l.depth&&(r=l.depth,i=s)}return i}(Y);X&&(q.intEle=X,F.push(Y))}for(var G=0;G<F.length;G++){var W=F[G],U=W._private.scratch.breadthfirst,H=U.intEle,$=H._private.scratch.breadthfirst;y[U.depth][U.index]=null;for(var Z=$.depth+1;Z>y.length-1;)y.push([]);y[Z].push(W),U.depth=Z,U.index=y[Z].length-1}A()}var Q=0;if(t.avoidOverlap)for(var K=0;K<i.length;K++){var J=i[K],ee=J.layoutDimensions(t),te=ee.w,ne=ee.h;Q=Math.max(Q,te,ne)}for(var re={},ie=function(e){if(re[e.id()])return re[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent").intersection(i),r=0,o=0,a=0;a<n.length;a++){var s=n[a],l=s._private.scratch.breadthfirst,u=l.index,c=l.depth,d=y[c].length;(t>c||0===t)&&(r+=u/d,o++)}return o=Math.max(1,o),r/=o,0===o&&(r=void 0),re[e.id()]=r,r},oe=function(e,t){return ie(e)-ie(t)},ae=0;ae<3;ae++){for(var se=0;se<y.length;se++)y[se]=y[se].sort(oe);A()}for(var le=0,ue=0;ue<y.length;ue++)le=Math.max(y[ue].length,le);for(var ce={x:l.x1+l.w/2,y:l.x1+l.h/2},de={},he=y.length-1;he>=0;he--)for(var pe=y[he],fe=0;fe<pe.length;fe++){var ge=pe[fe];de[ge.id()]=function(e){var n=e._private.scratch.breadthfirst,r=n.depth,i=n.index,o=y[r].length,a=Math.max(l.w/(o+1),Q),s=Math.max(l.h/(y.length+1),Q),u=Math.min(l.w/2/y.length,l.h/2/y.length);if(u=Math.max(u,Q),t.circle){if(t.circle){var c=u*r+u-(y.length>0&&y[0].length<=3?u/2:0),d=2*Math.PI/y[r].length*i;return 0===r&&1===y[0].length&&(c=1),{x:ce.x+c*Math.cos(d),y:ce.y+c*Math.sin(d)}}return{x:ce.x+(i+1-(o+1)/2)*a,y:(r+1)*s}}var h={x:ce.x+(i+1-(o+1)/2)*a,y:(r+1)*s};return h}(ge)}return i.layoutPositions(this,t,function(e){return de[e.id()]}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},s,e)}var i=n(1),o=n(2),a=n(0),s={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,s=r.nodes().not(":parent");t.sort&&(s=s.sort(t.sort));for(var l=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:l.x1+l.w/2,y:l.y1+l.h/2},c=void 0===t.sweep?2*Math.PI-2*Math.PI/s.length:t.sweep,d=c/Math.max(1,s.length-1),h=void 0,p=0,f=0;f<s.length;f++){var g=s[f],v=g.layoutDimensions(t),y=v.w,m=v.h;p=Math.max(p,y,m)}if(h=a.number(t.radius)?t.radius:s.length<=1?0:Math.min(l.h,l.w)/2-p,s.length>1&&t.avoidOverlap){p*=1.75;var b=Math.cos(d)-Math.cos(0),x=Math.sin(d)-Math.sin(0),w=Math.sqrt(p*p/(b*b+x*x));h=Math.max(w,h)}return s.layoutPositions(this,t,function(e,n){var r=t.startAngle+n*d*(i?1:-1),o=h*Math.cos(r),a=h*Math.sin(r);return{x:u.x+o,y:u.y+a}}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),o=n(2),a={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],c=0,d=0;d<a.length;d++){var h=a[d],p=void 0;p=t.concentric(h),u.push({value:p,node:h}),h._private.scratch.concentric=p}a.updateStyle();for(var f=0;f<a.length;f++){var g=a[f],v=g.layoutDimensions(t);c=Math.max(c,v.w,v.h)}u.sort(function(e,t){return t.value-e.value});for(var y=t.levelWidth(a),m=[[]],b=m[0],x=0;x<u.length;x++){var w=u[x];if(b.length>0){Math.abs(b[0].value-w.value)>=y&&(b=[],m.push(b))}b.push(w)}var E=c+t.minNodeSpacing;if(!t.avoidOverlap){var _=m.length>0&&m[0].length>1,D=Math.min(s.w,s.h)/2-E,T=D/(m.length+_?1:0);E=Math.min(E,T)}for(var C=0,S=0;S<m.length;S++){var N=m[S],O=void 0===t.sweep?2*Math.PI-2*Math.PI/N.length:t.sweep,P=N.dTheta=O/Math.max(1,N.length-1);if(N.length>1&&t.avoidOverlap){var M=Math.cos(P)-Math.cos(0),k=Math.sin(P)-Math.sin(0),L=Math.sqrt(E*E/(M*M+k*k));C=Math.max(L,C)}N.r=C,C+=E}if(t.equidistant){for(var A=0,I=0,R=0;R<m.length;R++){var F=m[R],B=F.r-I;A=Math.max(A,B)}I=0;for(var z=0;z<m.length;z++){var j=m[z];0===z&&(I=j.r),j.r=I,I+=A}}for(var V={},Y=0;Y<m.length;Y++)for(var q=m[Y],X=q.dTheta,G=q.r,W=0;W<q.length;W++){var U=q[W],H=t.startAngle+(n?1:-1)*X*W,$={x:l.x+G*Math.cos(H),y:l.y+G*Math.sin(H)};V[U.node.id()]=$}return a.layoutPositions(this,t,function(e){var t=e.id();return V[t]}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=o.extend({},u,e),this.options.layout=this}var i,o=n(1),a=n(2),s=n(0),l=n(5),u={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(){return 2048},nodeOverlap:4,idealEdgeLength:function(){return 32},edgeElasticity:function(){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};r.prototype.run=function(){function e(e){d.trigger({type:"message",message:e})}var t=this.options,n=t.cy,r=this,a=this.thread,u=t.weaver?t.weaver.Thread:null,d={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(e){s.string(e)&&(e={type:e});var t=function(t){return t.event===e.type},n=function(t){t.callback(e)};return this.listeners.filter(t).forEach(n),this},pass:function(e){return this.pass=e,this},run:function(e){var t=this.pass;return new l(function(n){n(e(t))})},stop:function(){return this}};a&&!a.stopped()||(a=this.thread=u?new u:d),r.stopped=!1,!0!==t.animate&&!1!==t.animate||r.emit({type:"layoutstart",layout:r}),i=!0===t.debug;var h=c(n,r,t);i&&p(h),t.randomize&&f(h,n);var v=Date.now(),y=!1,m=function(e){e=e||{},y&&!e.next||!e.force&&Date.now()-v<t.animationThreshold||(y=!0,o.requestAnimationFrame(function(){g(h,n,t),!0===t.fit&&n.fit(t.padding),y=!1,e.next&&e.next()}))};a.on("message",function(e){h.layoutNodes=e.message,m()}),a.pass({layoutInfo:h,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run(function(t){var n,r=t.layoutInfo,i=t.options,o=function(e,t){a(e,t),d(e,t),h(e,t),p(e,t),f(e,t)},a=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=e.layoutNodes[e.idToIndex[r[o]]],s=o+1;s<i;s++){var u=e.layoutNodes[e.idToIndex[r[s]]];l(a,u,e,t)}},s=function(e){return-e+2*e*Math.random()},l=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,o=t.positionY-e.positionY;0===i&&0===o&&(i=s(1),o=s(1));var a=u(e,t,i,o);if(a>0)var l=r.nodeOverlap*a,d=Math.sqrt(i*i+o*o),h=l*i/d,p=l*o/d;else var f=c(e,i,o),g=c(t,-1*i,-1*o),v=g.x-f.x,y=g.y-f.y,m=v*v+y*y,d=Math.sqrt(m),l=(e.nodeRepulsion+t.nodeRepulsion)/m,h=l*v/d,p=l*y/d;e.isLocked||(e.offsetX-=h,e.offsetY-=p),t.isLocked||(t.offsetX+=h,t.offsetY+=p)}},u=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else var i=t.maxX-e.minX;if(r>0)var o=e.maxY-t.minY;else var o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},c=function(e,t,n){var r=e.positionX,i=e.positionY,o=e.height||1,a=e.width||1,s=n/t,l=o/a,u={};return 0===t&&0<n?(u.x=r,u.y=i+o/2,u):0===t&&0>n?(u.x=r,u.y=i+o/2,u):0<t&&-1*l<=s&&s<=l?(u.x=r+a/2,u.y=i+a*n/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=r-a/2,u.y=i-a*n/2/t,u):0<n&&(s<=-1*l||s>=l)?(u.x=r+o*t/2/n,u.y=i+o/2,u):0>n&&(s<=-1*l||s>=l)?(u.x=r-o*t/2/n,u.y=i-o/2,u):u},d=function(e){for(var t=0;t<e.edgeSize;t++){var n=e.layoutEdges[t],r=e.idToIndex[n.sourceId],i=e.layoutNodes[r],o=e.idToIndex[n.targetId],a=e.layoutNodes[o],s=a.positionX-i.positionX,l=a.positionY-i.positionY;if(0!==s||0!==l){var u=c(i,s,l),d=c(a,-1*s,-1*l),h=d.x-u.x,p=d.y-u.y,f=Math.sqrt(h*h+p*p),g=Math.pow(n.idealLength-f,2)/n.elasticity;if(0!==f)var v=g*h/f,y=g*p/f;else var v=0,y=0;i.isLocked||(i.offsetX+=v,i.offsetY+=y),a.isLocked||(a.offsetX-=v,a.offsetY-=y)}}},h=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var o=e.clientHeight/2,a=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]],o=l.positionX,a=l.positionY;for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var d=o-c.positionX,h=a-c.positionY,p=Math.sqrt(d*d+h*h);if(p>1){var f=t.gravity*d/p,g=t.gravity*h/p;c.offsetX+=f,c.offsetY+=g}}}}},p=function(e){var t=[],n=0,r=-1;for(t.push.apply(t,e.graphSet[0]),r+=e.graphSet[0].length;n<=r;){var i=t[n++],o=e.idToIndex[i],a=e.layoutNodes[o],s=a.children;if(0<s.length&&!a.isLocked){for(var l=a.offsetX,u=a.offsetY,c=0;c<s.length;c++){var d=e.layoutNodes[e.idToIndex[s[c]]];d.offsetX+=l,d.offsetY+=u,t[++r]=s[c]}a.offsetX=0,a.offsetY=0}}},f=function(e){for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];0<n.children.length&&(n.maxX=void 0,n.minX=void 0,n.maxY=void 0,n.minY=void 0)}for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];if(!(0<n.children.length||n.isLocked)){var r=g(n.offsetX,n.offsetY,e.temperature);n.positionX+=r.x,n.positionY+=r.y,n.offsetX=0,n.offsetY=0,n.minX=n.positionX-n.width,n.maxX=n.positionX+n.width,n.minY=n.positionY-n.height,n.maxY=n.positionY+n.height,v(n,e)}}for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t];0<n.children.length&&!n.isLocked&&(n.positionX=(n.maxX+n.minX)/2,n.positionY=(n.maxY+n.minY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY)}},g=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else var i={x:e,y:t};return i},v=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,o=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,o=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,o=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,o=!0),o?e(i,n):void 0}},y=0;do{for(var m=0;m<i.refresh&&y<i.numIter;){var n=function(){return o(r,i),!((r.temperature=r.temperature*i.coolingFactor)<i.minTemp)}();if(!n)break;m++,y++}!0===i.animate&&e(r.layoutNodes)}while(n&&y+1<i.numIter);return function(e,t){for(var n=r.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],s=a.cmptId;(i[s]=i[s]||[]).push(a)}for(var l=0,o=0;o<i.length;o++){var u=i[o];if(u){u.x1=1/0,u.x2=-1/0,u.y1=1/0,u.y2=-1/0;for(var c=0;c<u.length;c++){var d=u[c];u.x1=Math.min(u.x1,d.positionX-d.width/2),u.x2=Math.max(u.x2,d.positionX+d.width/2),u.y1=Math.min(u.y1,d.positionY-d.height/2),u.y2=Math.max(u.y2,d.positionY+d.height/2)}u.w=u.x2-u.x1,u.h=u.y2-u.y1,l+=u.w*u.h}}i.sort(function(e,t){return t.w*t.h-e.w*e.h});for(var h=0,p=0,f=0,g=0,v=Math.sqrt(l)*r.clientWidth/r.clientHeight,o=0;o<i.length;o++){var u=i[o];if(u){for(var c=0;c<u.length;c++){var d=u[c];d.isLocked||(d.positionX+=h,d.positionY+=p)}h+=u.w+t.componentSpacing,f+=u.w+t.componentSpacing,g=Math.max(g,u.h),f>v&&(p+=g+t.componentSpacing,h=0,f=0,g=0)}}}(0,i),r}).then(function(e){h.layoutNodes=e.layoutNodes,a.stop(),b()});var b=function(){!0===t.animate||!1===t.animate?m({force:!0,next:function(){r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r})}}):t.eles.nodes().layoutPositions(r,t,function(e){var t=h.layoutNodes[h.idToIndex[e.data("id")]];return{x:t.positionX,y:t.positionY}})};return this},r.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},r.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var c=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:a.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var h=l[c],p=0;p<h.length;p++){var f=h[p];u[f.id()]=c}for(var c=0;c<o.nodeSize;c++){var g=i[c],v=g.layoutDimensions(n),y={};y.isLocked=g.locked(),y.id=g.data("id"),y.parentId=g.data("parent"),y.cmptId=u[g.id()],y.children=[],y.positionX=g.position("x"),y.positionY=g.position("y"),y.offsetX=0,y.offsetY=0,y.height=v.w,y.width=v.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(g.style("padding")),y.padRight=parseFloat(g.style("padding")),y.padTop=parseFloat(g.style("padding")),y.padBottom=parseFloat(g.style("padding")),y.nodeRepulsion=s.fn(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,o.layoutNodes.push(y),o.idToIndex[y.id]=c}for(var m=[],b=0,x=-1,w=[],c=0;c<o.nodeSize;c++){var g=o.layoutNodes[c],E=g.parentId;null!=E?o.layoutNodes[o.idToIndex[E]].children.push(g.id):(m[++x]=g.id,w.push(g.id))}for(o.graphSet.push(w);b<=x;){var _=m[b++],D=o.idToIndex[_],f=o.layoutNodes[D],T=f.children;if(T.length>0){o.graphSet.push(T);for(var c=0;c<T.length;c++)m[++x]=T[c]}}for(var c=0;c<o.graphSet.length;c++)for(var C=o.graphSet[c],p=0;p<C.length;p++){var S=o.idToIndex[C[p]];o.indexToGraph[S]=c}for(var c=0;c<o.edgeSize;c++){var N=r[c],O={};O.id=N.data("id"),O.sourceId=N.data("source"),O.targetId=N.data("target");var P=s.fn(n.idealEdgeLength)?n.idealEdgeLength(N):n.idealEdgeLength,M=s.fn(n.edgeElasticity)?n.edgeElasticity(N):n.edgeElasticity,k=o.idToIndex[O.sourceId],L=o.idToIndex[O.targetId];if(o.indexToGraph[k]!=o.indexToGraph[L]){for(var A=d(O.sourceId,O.targetId,o),I=o.graphSet[A],R=0,y=o.layoutNodes[k];-1===I.indexOf(y.id);)y=o.layoutNodes[o.idToIndex[y.parentId]],R++;for(y=o.layoutNodes[L];-1===I.indexOf(y.id);)y=o.layoutNodes[o.idToIndex[y.parentId]],R++;P*=R*n.nestingFactor}O.idealLength=P,O.elasticity=M,o.layoutEdges.push(O)}return o},d=function(e,t,n){var r=h(e,t,0,n);return 2>r.count?0:r.graph},h=function e(t,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(t)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var l=o[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var d=i.indexToGraph[i.idToIndex[c[0]]],h=e(t,n,d,i);if(0!==h.count){if(1!==h.count)return h;if(2===++a)break}}}return{count:a,graph:r}},p=function(e){if(i){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],r="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(r)}console.debug("idToIndex");for(var t in e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");for(var o=e.graphSet,t=0;t<o.length;t++)console.debug("Set : "+t+": "+o[t].toString());for(var r="IndexToGraph",t=0;t<e.indexToGraph.length;t++)r+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(r),r="Layout Edges";for(var t=0;t<e.layoutEdges.length;t++){var a=e.layoutEdges[t];r+="\nEdge Index: "+t+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(r),r="nodeSize: "+e.nodeSize,r+="\nedgeSize: "+e.edgeSize,r+="\ntemperature: "+e.temperature,console.debug(r)}},f=function(e){for(var t=e.clientWidth,n=e.clientHeight,r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0!==i.children.length||i.isLocked||(i.positionX=Math.random()*t,i.positionY=Math.random()*n)}},g=function(e,t,n){var r=n.layout,i=n.eles.nodes(),o=e.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};n.boundingBox&&(i.forEach(function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];a.x1=Math.min(a.x1,n.positionX),a.x2=Math.max(a.x2,n.positionX),a.y1=Math.min(a.y1,n.positionY),a.y2=Math.max(a.y2,n.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),i.positions(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];if(n.boundingBox){return{x:o.x1+(r.positionX-a.x1)/a.w*o.w,y:o.y1+(r.positionY-a.y1)/a.h*o.h}}return{x:r.positionX,y:r.positionY}}),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))};e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),o=n(2),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=o.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===a.h||0===a.w)i.layoutPositions(this,t,function(){return{x:a.x1,y:a.y1}});else{var s=i.size(),l=Math.sqrt(s*a.h/a.w),u=Math.round(l),c=Math.round(a.w/a.h*l),d=function(e){if(null==e)return Math.min(u,c);Math.min(u,c)==u?u=e:c=e},h=function(e){if(null==e)return Math.max(u,c);Math.max(u,c)==u?u=e:c=e},p=t.rows,f=null!=t.cols?t.cols:t.columns;if(null!=p&&null!=f)u=p,c=f;else if(null!=p&&null==f)u=p,c=Math.ceil(s/u);else if(null==p&&null!=f)c=f,u=Math.ceil(s/c);else if(c*u>s){var g=d(),v=h();(g-1)*v>=s?d(g-1):(v-1)*g>=s&&h(v-1)}else for(;c*u<s;){var y=d(),m=h();(m+1)*y>=s?h(m+1):d(y+1)}var b=a.w/c,x=a.h/u;if(t.condense&&(b=0,x=0),t.avoidOverlap)for(var w=0;w<i.length;w++){var E=i[w],_=E._private.position;null!=_.x&&null!=_.y||(_.x=0,_.y=0);var D=E.layoutDimensions(t),T=t.avoidOverlapPadding,C=D.w+T,S=D.h+T;b=Math.max(b,C),x=Math.max(x,S)}for(var N={},O=function(e,t){return!!N["c-"+e+"-"+t]},P=function(e,t){N["c-"+e+"-"+t]=!0},M=0,k=0,L=function(){++k>=c&&(k=0,M++)},A={},I=0;I<i.length;I++){var R=i[I],F=t.position(R);if(F&&(void 0!==F.row||void 0!==F.col)){var B={row:F.row,col:F.col};if(void 0===B.col)for(B.col=0;O(B.row,B.col);)B.col++;else if(void 0===B.row)for(B.row=0;O(B.row,B.col);)B.row++;A[R.id()]=B,P(B.row,B.col)}}i.layoutPositions(this,t,function(e){var t=void 0,n=void 0;if(e.locked()||e.isParent())return!1;var r=A[e.id()];if(r)t=r.col*b+b/2+a.x1,n=r.row*x+x/2+a.y1;else{for(;O(M,k);)L();t=k*b+b/2+a.x1,n=M*x+x/2+a.y1,P(M,k),L()}return{x:t,y:n}})}return this},e.exports=r},function(e,t,n){"use strict";e.exports=[{name:"breadthfirst",impl:n(76)},{name:"circle",impl:n(77)},{name:"concentric",impl:n(78)},{name:"cose",impl:n(79)},{name:"grid",impl:n(80)},{name:"null",impl:n(82)},{name:"preset",impl:n(83)},{name:"random",impl:n(84)}]},function(e,t,n){"use strict";function r(e){this.options=i.extend({},o,e)}var i=n(1),o={ready:function(){},stop:function(){}};r.prototype.run=function(){var e=this.options,t=e.eles,n=this;return n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},r.prototype.stop=function(){return this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),o=n(0),a={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){function e(e){if(null==t.positions)return null;if(i)return t.positions(e);var n=t.positions[e._private.data.id];return null==n?null:n}var t=this.options,n=t.eles,r=n.nodes(),i=o.fn(t.positions);return r.layoutPositions(this,t,function(t){var n=e(t);return!t.locked()&&null!=n&&n}),this},e.exports=r},function(e,t,n){"use strict";function r(e){this.options=i.extend({},a,e)}var i=n(1),o=n(2),a={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};r.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=n.nodes().not(":parent"),i=o.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return r.layoutPositions(this,e,function(){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}}),this},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(1),a={};a.arrowShapeWidth=.3,a.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,o,a){var s=i.x-n/2-a,l=i.x+n/2+a,u=i.y-n/2-a,c=i.y+n/2+a;return s<=e&&e<=l&&u<=t&&t<=c},a=function(e,t,n,r,i){return{x:(e*Math.cos(r)-t*Math.sin(r))*n+i.x,y:(e*Math.sin(r)+t*Math.cos(r))*n+i.y}},s=function(e,t,n,r){for(var i=[],o=0;o<e.length;o+=2){i.push(a(e[o],e[o+1],t,n,r))}return i},l=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},u=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},c=function(a,c){i.string(c)&&(c=e[c]),e[a]=o.extend({name:a,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,i,o,a){var u=l(s(this.points,n+2*a,i,o));return r.pointInsidePolygonPoints(e,t,u)},roughCollide:n,draw:function(e,n,r,i){var o=s(this.points,n,r,i);t.arrowShapeImpl("polygon")(e,o)},spacing:function(){return 0},gap:u},c)};c("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,r,i){var o=s(this.points,n,r,i),l=this.controlPoint,u=a(l[0],l[1],n,r,i);t.arrowShapeImpl(this.name)(e,o,u)},gap:function(e){return.985*u(e)}}),c("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,i,o,a,u){var c=l(s(this.points,n+2*u,i,o)),d=l(s(this.pointsTee,n+2*u,i,o));return r.pointInsidePolygonPoints(e,t,c)||r.pointInsidePolygonPoints(e,t,d)},draw:function(e,n,r,i){var o=s(this.points,n,r,i),a=s(this.pointsTee,n,r,i);t.arrowShapeImpl(this.name)(e,o,a)}}),c("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,i,o,a,u){var c=l(s(this.points,n+2*u,i,o)),d=l(s(this.crossLinePts(n,a),n+2*u,i,o));return r.pointInsidePolygonPoints(e,t,c)||r.pointInsidePolygonPoints(e,t,d)},draw:function(e,n,r,i,o){var a=s(this.points,n,r,i),l=s(this.crossLinePts(n,o),n,r,i);t.arrowShapeImpl(this.name)(e,a,l)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.985*u(e)}}),c("circle",{radius:.15,collide:function(e,t,n,r,i,o,a){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,r,i){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(){return 1},gap:function(){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})},e.exports=a},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(1),r=n(4),a={};a.projectIntoViewport=function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),l=n.zoom();return[((e-i)/a-s.x)/l,((t-o)/a-s.y)/l]},a.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=r.getComputedStyle(e),i=function(e){return parseFloat(n.getPropertyValue(e))},o={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},s=e.clientWidth,l=e.clientHeight,u=o.left+o.right,c=o.top+o.bottom,d=a.left+a.right,h=t.width/(s+d),p=s-u,f=l-c;return this.containerBB=[t.left+o.left+a.left,t.top+o.top+a.top,p,f,h]},a.invalidateContainerClientCoordsCache=function(){this.containerBB=null},a.findNearestElement=function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},a.findNearestElements=function(e,t,n,r){function a(e,t){if(e.isNode()){if(d)return;d=e,g.push(e)}if(e.isEdge()&&(null==t||t<w))if(c){if(c.pstyle("z-index").value===e.pstyle("z-index").value)for(var n=0;n<g.length;n++)if(g[n].isEdge()){g[n]=e,c=e,w=null!=t?t:w;break}}else g.push(e),c=e,w=null!=t?t:w}function s(n){var r=n.outerWidth()+2*b,i=n.outerHeight()+2*b,o=r/2,s=i/2,l=n.position();if(l.x-o<=e&&e<=l.x+o&&l.y-s<=t&&t<=l.y+s){if(p.nodeShapes[h.getNodeShape(n)].checkPoint(e,t,0,r,i,l.x,l.y))return a(n,0),!0}}function l(e,t,n){return o.getPrefixedProperty(e,t,n)}function u(n,r){var o,s=n._private,u=x;o=r?r+"-":"";var c=n.pstyle(o+"label").value;if("yes"===n.pstyle("text-events").strValue&&c){var d=s.rstyle,h=n.pstyle("text-border-width").pfValue,p=n.pstyle("text-background-padding").pfValue,f=l(d,"labelWidth",r)+h+2*u+2*p,g=l(d,"labelHeight",r)+h+2*u+2*p,v=l(d,"labelX",r),y=l(d,"labelY",r),m=l(s.rscratch,"labelAngle",r),b=v-f/2,w=v+f/2,E=y-g/2,_=y+g/2;if(m){var D=Math.cos(m),T=Math.sin(m),C=function(e,t){return e-=v,t-=y,{x:e*D-t*T+v,y:e*T+t*D+y}},S=C(b,E),N=C(b,_),O=C(w,E),P=C(w,_);if(i.pointInsidePolygonPoints(e,t,[S.x,S.y,O.x,O.y,P.x,P.y,N.x,N.y]))return a(n),!0}else if(i.inBoundingBox({w:f,h:g,x1:b,x2:w,y1:E,y2:_},e,t))return a(n),!0}}var c,d,h=this,p=this,f=p.getCachedZSortedEles(),g=[],v=p.cy.zoom(),y=p.cy.hasCompoundNodes(),m=(r?24:8)/v,b=(r?8:2)/v,x=(r?8:2)/v,w=1/0;n&&(f=f.interactive);for(var E=f.length-1;E>=0;E--){var _=f[E];_.isNode()?s(_)||u(_):function(n){var r,o=n._private,l=o.rscratch,u=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,d=u/2+m,f=d*d,v=2*d,b=o.source,x=o.target;if("segments"===l.edgeType||"straight"===l.edgeType||"haystack"===l.edgeType){for(var w=l.allpts,E=0;E+3<w.length;E+=2)if(i.inLineVicinity(e,t,w[E],w[E+1],w[E+2],w[E+3],v)&&f>(r=i.sqdistToFiniteLine(e,t,w[E],w[E+1],w[E+2],w[E+3])))return a(n,r),!0}else if("bezier"===l.edgeType||"multibezier"===l.edgeType||"self"===l.edgeType||"compound"===l.edgeType)for(var w=l.allpts,E=0;E+5<l.allpts.length;E+=4)if(i.inBezierVicinity(e,t,w[E],w[E+1],w[E+2],w[E+3],w[E+4],w[E+5],v)&&f>(r=i.sqdistToQuadraticBezier(e,t,w[E],w[E+1],w[E+2],w[E+3],w[E+4],w[E+5])))return a(n,r),!0;for(var b=b||o.source,x=x||o.target,_=h.getArrowWidth(u,c),D=[{name:"source",x:l.arrowStartX,y:l.arrowStartY,angle:l.srcArrowAngle},{name:"target",x:l.arrowEndX,y:l.arrowEndY,angle:l.tgtArrowAngle},{name:"mid-source",x:l.midX,y:l.midY,angle:l.midsrcArrowAngle},{name:"mid-target",x:l.midX,y:l.midY,angle:l.midtgtArrowAngle}],E=0;E<D.length;E++){var T=D[E],C=p.arrowShapes[n.pstyle(T.name+"-arrow-shape").value],S=n.pstyle("width").pfValue;if(C.roughCollide(e,t,_,T.angle,{x:T.x,y:T.y},S,m)&&C.collide(e,t,_,T.angle,{x:T.x,y:T.y},S,m))return a(n),!0}y&&g.length>0&&(s(b),s(x))}(_)||u(_)||u(_,"source")||u(_,"target")}return g},a.getAllInBox=function(e,t,n,r){var o=this.getCachedZSortedEles().interactive,a=[],s=Math.min(e,n),l=Math.max(e,n),u=Math.min(t,r),c=Math.max(t,r);e=s,n=l,t=u,r=c;for(var d=i.makeBoundingBox({x1:e,y1:t,x2:n,y2:r}),h=0;h<o.length;h++){var p=o[h];if(p.isNode()){var f=p,g=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});i.boundingBoxesIntersect(d,g)&&!i.boundingBoxInBoundingBox(g,d)&&a.push(f)}else{var v=p,y=v._private,m=y.rscratch;if(null!=m.startX&&null!=m.startY&&!i.inBoundingBox(d,m.startX,m.startY))continue;if(null!=m.endX&&null!=m.endY&&!i.inBoundingBox(d,m.endX,m.endY))continue;if("bezier"===m.edgeType||"multibezier"===m.edgeType||"self"===m.edgeType||"compound"===m.edgeType||"segments"===m.edgeType||"haystack"===m.edgeType){for(var b=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,x=!0,w=0;w<b.length;w++)if(!i.pointInBoundingBox(d,b[w])){x=!1;break}x&&a.push(v)}else"haystack"!==m.edgeType&&"straight"!==m.edgeType||a.push(v)}}return a},e.exports=a},function(e,t,n){"use strict";var r=n(2),i={};i.calculateArrowAngles=function(e){var t,n,i,o,a,s,l,u,c=e._private.rscratch,d="haystack"===c.edgeType,h="bezier"===c.edgeType,p="multibezier"===c.edgeType,f="segments"===c.edgeType,g="compound"===c.edgeType,v="self"===c.edgeType;if(d?(i=c.haystackPts[0],o=c.haystackPts[1],a=c.haystackPts[2],s=c.haystackPts[3]):(i=c.arrowStartX,o=c.arrowStartY,a=c.arrowEndX,s=c.arrowEndY),l=c.midX,u=c.midY,f)t=i-c.segpts[0],n=o-c.segpts[1];else if(p||g||v||h){var y=c.allpts,m=r.qbezierAt(y[0],y[2],y[4],.1),b=r.qbezierAt(y[1],y[3],y[5],.1);t=i-m,n=o-b}else t=i-l,n=o-u;c.srcArrowAngle=r.getAngleFromDisp(t,n);var l=c.midX,u=c.midY;if(d&&(l=(i+a)/2,u=(o+s)/2),t=a-i,n=s-o,f){var y=c.allpts;if(y.length/2%2==0){var x=y.length/2,w=x-2;t=y[x]-y[w],n=y[x+1]-y[w+1]}else{var x=y.length/2-1,w=x-2,E=x+2;t=y[x]-y[w],n=y[x+1]-y[w+1]}}else if(p||g||v){var _,D,T,C,y=c.allpts,S=c.ctrlpts;if(S.length/2%2==0){var N=y.length/2-1,O=N+2,P=O+2;_=r.qbezierAt(y[N],y[O],y[P],0),D=r.qbezierAt(y[N+1],y[O+1],y[P+1],0),T=r.qbezierAt(y[N],y[O],y[P],1e-4),C=r.qbezierAt(y[N+1],y[O+1],y[P+1],1e-4)}else{var O=y.length/2-1,N=O-2,P=O+2;_=r.qbezierAt(y[N],y[O],y[P],.4999),D=r.qbezierAt(y[N+1],y[O+1],y[P+1],.4999),T=r.qbezierAt(y[N],y[O],y[P],.5),C=r.qbezierAt(y[N+1],y[O+1],y[P+1],.5)}t=T-_,n=C-D}if(c.midtgtArrowAngle=r.getAngleFromDisp(t,n),c.midDispX=t,c.midDispY=n,t*=-1,n*=-1,f){var y=c.allpts;if(y.length/2%2==0);else{var x=y.length/2-1,E=x+2;t=-(y[E]-y[x]),n=-(y[E+1]-y[x+1])}}if(c.midsrcArrowAngle=r.getAngleFromDisp(t,n),f)t=a-c.segpts[c.segpts.length-2],n=s-c.segpts[c.segpts.length-1];else if(p||g||v||h){var y=c.allpts,M=y.length,m=r.qbezierAt(y[M-6],y[M-4],y[M-2],.9),b=r.qbezierAt(y[M-5],y[M-3],y[M-1],.9);t=a-m,n=s-b}else t=a-l,n=s-u;c.tgtArrowAngle=r.getAngleFromDisp(t,n)},i.getArrowWidth=i.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)},e.exports=i},function(e,t,n){"use strict";function r(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){t.push({x:e[n],y:e[n+1]})}return t}}var i=n(2),o=n(0),a={};a.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,n=this,r=n.cy,a=r.hasCompoundNodes(),s={},l=[],u=[],c=0;c<e.length;c++){var d=e[c],h=d._private,p=h.data,f=d.pstyle("curve-style").value,g="unbundled-bezier"===f||"segments"===f,v="unbundled-bezier"===f||"bezier"===f;if("none"!==d.pstyle("display").value)if("haystack"!==f){var y=p.source,m=p.target;t=y>m?m+"$-$"+y:y+"$-$"+m,g&&(t="unbundled$-$"+p.id);var b=s[t];null==b&&(b=s[t]=[],l.push(t)),b.push(d),g&&(b.hasUnbundled=!0),v&&(b.hasBezier=!0)}else u.push(d)}for(var x,w,E,_,D,T,C,S,N,O,P,M,k=0;k<l.length;k++){t=l[k];var L=s[t];if(L.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),x=L[0]._private.source,w=L[0]._private.target,!L.hasUnbundled&&x.id()>w.id()){var A=x;x=w,w=A}E=x.position(),_=w.position(),D=x.outerWidth(),T=x.outerHeight(),C=w.outerWidth(),S=w.outerHeight(),N=n.nodeShapes[this.getNodeShape(x)],O=n.nodeShapes[this.getNodeShape(w)],M=!1;for(var d,I,R,F={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},B=E.x,z=E.y,j=D,V=T,Y=_.x,q=_.y,X=C,G=S,W=L.length,c=0;c<L.length;c++){d=L[c],I=d._private,R=I.rscratch;var U=R.lastEdgeIndex,H=c,$=R.lastNumEdges,f=d.pstyle("curve-style").value,g="unbundled-bezier"===f||"segments"===f,Z=x.id()!==d.source().id(),Q=d.pstyle("control-point-distances"),K=d.pstyle("loop-direction").pfValue,J=d.pstyle("loop-sweep").pfValue,ee=d.pstyle("control-point-weights"),te=Q&&ee?Math.min(Q.value.length,ee.value.length):1,ne=d.pstyle("control-point-step-size").pfValue,re=Q?Q.pfValue[0]:void 0,ie=ee.value[0],oe=d.pstyle("edge-distances").value,ae=d.pstyle("segment-weights"),se=d.pstyle("segment-distances"),le=Math.min(ae.pfValue.length,se.pfValue.length),ue=d.pstyle("source-endpoint").value,ce=d.pstyle("target-endpoint").value,de=d.pstyle("source-arrow-shape").value,he=d.pstyle("target-arrow-shape").value,pe=d.pstyle("arrow-scale").value,fe=d.pstyle("width").pfValue,ge=R.lastSrcCtlPtX,ve=R.lastSrcCtlPtY,ye=R.lastSrcCtlPtW,me=R.lastSrcCtlPtH,be=R.lastTgtCtlPtX,xe=R.lastTgtCtlPtY,we=R.lastTgtCtlPtW,Ee=R.lastTgtCtlPtH,_e=R.lastCurveStyle,De=f,Te=R.lastCtrlptDists,Ce=Q?Q.strValue:null,Se=R.lastCtrlptWs,Ne=ee.strValue,Oe=R.lastSegmentWs,Pe=ae.strValue,Me=R.lastSegmentDs,ke=se.strValue,Le=R.lastStepSize,Ae=ne,Ie=R.lastLoopDir,Re=K,Fe=R.lastLoopSwp,Be=J,ze=R.lastEdgeDistances,je=oe,Ve=R.lastSrcEndpt,Ye=ue,qe=R.lastTgtEndpt,Xe=ce,Ge=R.lastSrcArr,We=de,Ue=R.lastTgtArr,He=he,$e=R.lastLineW,Ze=fe,Qe=R.lastArrScl,Ke=pe;R.badBezier=!!M;var Je;if(ge===B&&ve===z&&ye===j&&me===V&&be===Y&&xe===q&&we===X&&Ee===G&&_e===De&&Te===Ce&&Se===Ne&&Oe===Pe&&Me===ke&&Le===Ae&&Ie===Re&&Fe===Be&&ze===je&&Ve===Ye&&qe===Xe&&Ge===We&&Ue===He&&$e===Ze&&Qe===Ke&&(U===H&&$===W||g)?Je=!0:(Je=!1,R.lastSrcCtlPtX=B,R.lastSrcCtlPtY=z,R.lastSrcCtlPtW=j,R.lastSrcCtlPtH=V,R.lastTgtCtlPtX=Y,R.lastTgtCtlPtY=q,R.lastTgtCtlPtW=X,R.lastTgtCtlPtH=G,R.lastEdgeIndex=H,R.lastNumEdges=W,R.lastCurveStyle=De,R.lastCtrlptDists=Ce,R.lastCtrlptWs=Ne,R.lastSegmentDs=ke,R.lastSegmentWs=Pe,R.lastStepSize=Ae,R.lastLoopDir=Re,R.lastLoopSwp=Be,R.lastEdgeDistances=je,R.lastSrcEndpt=Ye,R.lastTgtEndpt=Xe,R.lastSrcArr=We,R.lastTgtArr=He,R.lastLineW=Ze,R.lastArrScl=Ke),!Je){if(!L.calculatedIntersection&&x!==w&&(L.hasBezier||L.hasUnbundled)){L.calculatedIntersection=!0;var et=N.intersectLine(E.x,E.y,D,T,_.x,_.y,0);L.srcIntn=et;var tt=O.intersectLine(_.x,_.y,C,S,E.x,E.y,0);L.tgtIntn=tt;var nt={x1:et[0],x2:tt[0],y1:et[1],y2:tt[1]},rt={x1:E.x,x2:_.x,y1:E.y,y2:_.y},it=tt[1]-et[1],ot=tt[0]-et[0],at=Math.sqrt(ot*ot+it*it),st={x:ot,y:it},lt={x:st.x/at,y:st.y/at};P={x:-lt.y,y:lt.x},O.checkPoint(et[0],et[1],0,C,S,_.x,_.y)&&N.checkPoint(tt[0],tt[1],0,D,T,E.x,E.y)&&(P={},M=!0)}if(Z?(R.srcIntn=L.tgtIntn,R.tgtIntn=L.srcIntn):(R.srcIntn=L.srcIntn,R.tgtIntn=L.tgtIntn),x===w){R.edgeType="self";var ut=c,ct=ne;g&&(ut=0,ct=re);var dt=K-Math.PI/2,ht=dt-J/2,pt=dt+J/2,ft=String(K+"_"+J);ut=void 0===F[ft]?F[ft]=0:++F[ft],R.ctrlpts=[E.x+1.4*Math.cos(ht)*ct*(ut/3+1),E.y+1.4*Math.sin(ht)*ct*(ut/3+1),E.x+1.4*Math.cos(pt)*ct*(ut/3+1),E.y+1.4*Math.sin(pt)*ct*(ut/3+1)]}else if(a&&(x.isParent()||x.isChild()||w.isParent()||w.isChild())&&(x.parents().anySame(w)||w.parents().anySame(x))){R.edgeType="compound",R.badBezier=!1;var ut=c,ct=ne;g&&(ut=0,ct=re);var gt={x:E.x-D/2,y:E.y-T/2},vt={x:_.x-C/2,y:_.y-S/2},yt={x:Math.min(gt.x,vt.x),y:Math.min(gt.y,vt.y)},mt=Math.max(.5,Math.log(.01*D)),bt=Math.max(.5,Math.log(.01*C));R.ctrlpts=[yt.x,yt.y-(1+Math.pow(50,1.12)/100)*ct*(ut/3+1)*mt,yt.x-(1+Math.pow(50,1.12)/100)*ct*(ut/3+1)*bt,yt.y]}else if("segments"===f){R.edgeType="segments",R.segpts=[];for(var xt=0;xt<le;xt++){var wt=ae.pfValue[xt],Et=se.pfValue[xt],_t=1-wt,Dt=wt,Tt="node-position"===oe?rt:nt,Ct={x:Tt.x1*_t+Tt.x2*Dt,y:Tt.y1*_t+Tt.y2*Dt};R.segpts.push(Ct.x+P.x*Et,Ct.y+P.y*Et)}}else if(L.length%2!=1||c!==Math.floor(L.length/2)||g){var St=g;R.edgeType=St?"multibezier":"bezier",R.ctrlpts=[];for(var Nt=0;Nt<te;Nt++){var Ot,Pt=(.5-L.length/2+c)*ne,Mt=i.signum(Pt);St&&(re=Q?Q.pfValue[Nt]:ne,ie=ee.value[Nt]),Ot=g?re:void 0!==re?Mt*re:void 0;var kt=void 0!==Ot?Ot:Pt,_t=1-ie,Dt=ie;if(Z){var A=_t;_t=Dt,Dt=A}var Tt="node-position"===oe?rt:nt,Ct={x:Tt.x1*_t+Tt.x2*Dt,y:Tt.y1*_t+Tt.y2*Dt};R.ctrlpts.push(Ct.x+P.x*kt,Ct.y+P.y*kt)}}else R.edgeType="straight";this.findEndpoints(d);var Lt=!o.number(R.startX)||!o.number(R.startY),At=!o.number(R.arrowStartX)||!o.number(R.arrowStartY),It=!o.number(R.endX)||!o.number(R.endY),Rt=!o.number(R.arrowEndX)||!o.number(R.arrowEndY),Ft=this.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.arrowShapeWidth,Bt=3*Ft;if("bezier"===R.edgeType){var zt=i.dist({x:R.ctrlpts[0],y:R.ctrlpts[1]},{x:R.startX,y:R.startY}),jt=zt<Bt,Vt=i.dist({x:R.ctrlpts[0],y:R.ctrlpts[1]},{x:R.endX,y:R.endY}),Yt=Vt<Bt,qt=!1;if(Lt||At||jt){qt=!0;var Xt={x:R.ctrlpts[0]-E.x,y:R.ctrlpts[1]-E.y},Gt=Math.sqrt(Xt.x*Xt.x+Xt.y*Xt.y),Wt={x:Xt.x/Gt,y:Xt.y/Gt},Ut=Math.max(D,T),Ht={x:R.ctrlpts[0]+2*Wt.x*Ut,y:R.ctrlpts[1]+2*Wt.y*Ut},$t=N.intersectLine(E.x,E.y,D,T,Ht.x,Ht.y,0);jt?(R.ctrlpts[0]=R.ctrlpts[0]+Wt.x*(Bt-zt),R.ctrlpts[1]=R.ctrlpts[1]+Wt.y*(Bt-zt)):(R.ctrlpts[0]=$t[0]+Wt.x*Bt,R.ctrlpts[1]=$t[1]+Wt.y*Bt)}if(It||Rt||Yt){qt=!0;var Xt={x:R.ctrlpts[0]-_.x,y:R.ctrlpts[1]-_.y},Gt=Math.sqrt(Xt.x*Xt.x+Xt.y*Xt.y),Wt={x:Xt.x/Gt,y:Xt.y/Gt},Ut=Math.max(D,T),Ht={x:R.ctrlpts[0]+2*Wt.x*Ut,y:R.ctrlpts[1]+2*Wt.y*Ut},Zt=O.intersectLine(_.x,_.y,C,S,Ht.x,Ht.y,0);Yt?(R.ctrlpts[0]=R.ctrlpts[0]+Wt.x*(Bt-Vt),R.ctrlpts[1]=R.ctrlpts[1]+Wt.y*(Bt-Vt)):(R.ctrlpts[0]=Zt[0]+Wt.x*Bt,R.ctrlpts[1]=Zt[1]+Wt.y*Bt)}qt&&this.findEndpoints(d)}if("multibezier"===R.edgeType||"bezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType){R.allpts=[],R.allpts.push(R.startX,R.startY);for(var Nt=0;Nt+1<R.ctrlpts.length;Nt+=2)R.allpts.push(R.ctrlpts[Nt],R.ctrlpts[Nt+1]),Nt+3<R.ctrlpts.length&&R.allpts.push((R.ctrlpts[Nt]+R.ctrlpts[Nt+2])/2,(R.ctrlpts[Nt+1]+R.ctrlpts[Nt+3])/2);R.allpts.push(R.endX,R.endY);var Qt,Kt;R.ctrlpts.length/2%2==0?(Qt=R.allpts.length/2-1,R.midX=R.allpts[Qt],R.midY=R.allpts[Qt+1]):(Qt=R.allpts.length/2-3,Kt=.5,R.midX=i.qbezierAt(R.allpts[Qt],R.allpts[Qt+2],R.allpts[Qt+4],Kt),R.midY=i.qbezierAt(R.allpts[Qt+1],R.allpts[Qt+3],R.allpts[Qt+5],Kt))}else if("straight"===R.edgeType)R.allpts=[R.startX,R.startY,R.endX,R.endY],R.midX=(R.startX+R.endX+R.arrowStartX+R.arrowEndX)/4,R.midY=(R.startY+R.endY+R.arrowStartY+R.arrowEndY)/4;else if("segments"===R.edgeType)if(R.allpts=[],R.allpts.push(R.startX,R.startY),R.allpts.push.apply(R.allpts,R.segpts),R.allpts.push(R.endX,R.endY),R.segpts.length%4==0){var Jt=R.segpts.length/2,en=Jt-2;R.midX=(R.segpts[en]+R.segpts[Jt])/2,R.midY=(R.segpts[en+1]+R.segpts[Jt+1])/2}else{var en=R.segpts.length/2-1;R.midX=R.segpts[en],R.midY=R.segpts[en+1]}this.storeEdgeProjections(d),this.calculateArrowAngles(d)}this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}}for(var c=0;c<u.length;c++){var d=u[c],h=d._private,tn=h.rscratch,R=tn;if(!tn.haystack){var nn=2*Math.random()*Math.PI;tn.source={x:Math.cos(nn),y:Math.sin(nn)};var nn=2*Math.random()*Math.PI;tn.target={x:Math.cos(nn),y:Math.sin(nn)}}var x=h.source,w=h.target,E=x.position(),_=w.position(),D=x.width(),C=w.width(),T=x.height(),S=w.height(),Ut=d.pstyle("haystack-radius").value,rn=Ut/2;R.haystackPts=R.allpts=[R.source.x*D*rn+E.x,R.source.y*T*rn+E.y,R.target.x*C*rn+_.x,R.target.y*S*rn+_.y],R.midX=(R.allpts[0]+R.allpts[2])/2,R.midY=(R.allpts[1]+R.allpts[3])/2,tn.edgeType=tn.lastCurveStyle="haystack",tn.haystack=!0,this.storeEdgeProjections(d),this.calculateArrowAngles(d),this.recalculateEdgeLabelProjections(d),this.calculateLabelAngles(d)}}},a.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return r(t.segpts)},a.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n)return r(t.ctrlpts)},a.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return{x:t.midX,y:t.midY}},e.exports=a},function(e,t,n){"use strict";var r=n(2),i=n(0),o={};o.manualEndptToPx=function(e,t){var n=this,r=e.position(),i=e.outerWidth(),o=e.outerHeight();if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*i),"%"===t.units[1]&&(a[1]=a[1]*o),a[0]+=r.x,a[1]+=r.y,a}var s=t.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(i,o),u=[r.x+Math.cos(s)*l,r.y+Math.sin(s)*l];return n.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,i,o,u[0],u[1],0)},o.findEndpoints=function(e){var t=this,n=void 0,o=e.source()[0],a=e.target()[0],s=o.position(),l=a.position(),u=e.pstyle("target-arrow-shape").value,c=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,h=e.pstyle("source-distance-from-node").pfValue,p=e._private.rscratch,f=p.edgeType,g="self"===f||"compound"===f,v="bezier"===f||"multibezier"===f||g,y="bezier"!==f,m="straight"===f||"segments"===f,b="segments"===f,x=v||y||m,w=e.pstyle("source-endpoint"),E=g?"outside-to-node":w.value,_=e.pstyle("target-endpoint"),D=g?"outside-to-node":_.value;p.srcManEndpt=w,p.tgtManEndpt=_;var T=void 0,C=void 0,S=void 0,N=void 0;if(v){var O=[p.ctrlpts[0],p.ctrlpts[1]];T=y?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:O,C=O}else if(m){var P=b?p.segpts.slice(0,2):[l.x,l.y],M=b?p.segpts.slice(p.segpts.length-2):[s.x,s.y];T=M,C=P}"inside-to-node"===D?n=[l.x,l.y]:_.units?n=this.manualEndptToPx(a,_):"outside-to-line"===D?n=p.tgtIntn:("outside-to-node"===D?S=T:"outside-to-line"===D&&(S=[s.x,s.y]),n=t.nodeShapes[this.getNodeShape(a)].intersectLine(l.x,l.y,a.outerWidth(),a.outerHeight(),S[0],S[1],0));var k=r.shortenIntersection(n,T,t.arrowShapes[u].spacing(e)+d),L=r.shortenIntersection(n,T,t.arrowShapes[u].gap(e)+d);p.endX=L[0],p.endY=L[1],p.arrowEndX=k[0],p.arrowEndY=k[1],"inside-to-node"===E?n=[s.x,s.y]:w.units?n=this.manualEndptToPx(o,w):"outside-to-line"===E?n=p.srcIntn:("outside-to-node"===E?N=C:"outside-to-line"===E&&(N=[l.x,l.y]),n=t.nodeShapes[this.getNodeShape(o)].intersectLine(s.x,s.y,o.outerWidth(),o.outerHeight(),N[0],N[1],0));var A=r.shortenIntersection(n,C,t.arrowShapes[c].spacing(e)+h),I=r.shortenIntersection(n,C,t.arrowShapes[c].gap(e)+h);p.startX=I[0],p.startY=I[1],p.arrowStartX=A[0],p.arrowStartY=A[1],x&&(p.badLine=!(i.number(p.startX)&&i.number(p.startY)&&i.number(p.endX)&&i.number(p.endY)))},o.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},o.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},e.exports=o},function(e,t,n){"use strict";function r(e,t,n){for(var r=function(e,t,n,r){return i.qbezierAt(e,t,n,r)},o=t._private,a=o.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var l=e.bezierProjPcts[s];a.push({x:r(n[0],n[2],n[4],l),y:r(n[1],n[3],n[5],l)})}}var i=n(2),o={};o.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i)for(var o=(t.rstyle.bezierPts=[],0);o+5<n.allpts.length;o+=4)r(this,e,n.allpts.slice(o,o+6));else if("segments"===i)for(var a=t.rstyle.linePts=[],o=0;o+1<n.allpts.length;o+=2)a.push({x:n.allpts[o],y:n.allpts[o+1]});else if("haystack"===i){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},o.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},e.exports=o},function(e,t,n){"use strict";var r=n(1),i={};[n(86),n(87),n(88),n(89),n(90),n(92),n(93),n(94),n(95)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(1),a={};a.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!i.emptyString(t)){var n,r,o=e._private,a=e.width(),s=e.height(),l=e.padding(),u=e.position(),c=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,h=o.rscratch,p=o.rstyle;switch(c){case"left":n=u.x-a/2-l;break;case"right":n=u.x+a/2+l;break;default:n=u.x}switch(d){case"top":r=u.y-s/2-l;break;case"bottom":r=u.y+s/2+l;break;default:r=u.y}h.labelX=n,h.labelY=r,p.labelX=n,p.labelY=r,this.applyLabelDimensions(e)}},a.recalculateEdgeLabelProjections=function(e){var t,n=e._private,i=n.rscratch,a=this,s={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(s.mid||s.source||s.target){t={x:i.midX,y:i.midY};var l=function(e,t,r){o.setPrefixedProperty(n.rscratch,e,t,r),o.setPrefixedProperty(n.rstyle,e,t,r)};l("labelX",null,t.x),l("labelY",null,t.y);var u=function e(){function t(e,t,n,i,o){var a=r.dist(t,n),s=e.segments[e.segments.length-1];e.segments.push({p0:t,p1:n,t0:i,t1:o,startDist:s?s.startDist+s.length:0,length:a}),e.length+=a}if(e.cache)return e.cache;for(var o=[],s=0;s+5<i.allpts.length;s+=4){o.push({p0:{x:i.allpts[s],y:i.allpts[s+1]},p1:{x:i.allpts[s+2],y:i.allpts[s+3]},p2:{x:i.allpts[s+4],y:i.allpts[s+5]},startDist:0,length:0,segments:[]})}for(var l=n.rstyle.bezierPts,u=a.bezierProjPcts.length,s=0;s<o.length;s++){var c=o[s],d=o[s-1];d&&(c.startDist=d.startDist+d.length),t(c,c.p0,l[s*u],0,a.bezierProjPcts[0]);for(var h=0;h<u-1;h++)t(c,l[s*u+h],l[s*u+h+1],a.bezierProjPcts[h],a.bezierProjPcts[h+1]);t(c,l[s*u+u-1],c.p2,a.bezierProjPcts[u-1],1)}return e.cache=o},c=function(n){var o,a="source"===n;if(s[n]){var c=e.pstyle(n+"-text-offset").pfValue,d=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan(r/n)};switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var h,p=u(),f=0,g=0,v=0;v<p.length;v++){for(var y=p[a?v:p.length-1-v],m=0;m<y.segments.length;m++){var b=y.segments[a?m:y.segments.length-1-m],x=v===p.length-1&&m===y.segments.length-1;if(f=g,(g+=b.length)>=c||x){h={cp:y,segment:b};break}}if(h)break}var y=h.cp,b=h.segment,w=(c-f)/b.length,E=b.t1-b.t0,_=a?b.t0+E*w:b.t1-E*w;_=r.bound(0,_,1),t=r.qbezierPtAt(y.p0,y.p1,y.p2,_),o=function(e,t,n,i){var o=r.bound(0,i-.001,1),a=r.bound(0,i+.001,1),s=r.qbezierPtAt(e,t,n,o),l=r.qbezierPtAt(e,t,n,a);return d(s,l)}(y.p0,y.p1,y.p2,_);break;case"straight":case"segments":case"haystack":for(var D,T,C,S,N=0,O=i.allpts.length,v=0;v+3<O&&(a?(C={x:i.allpts[v],y:i.allpts[v+1]},S={x:i.allpts[v+2],y:i.allpts[v+3]}):(C={x:i.allpts[O-2-v],y:i.allpts[O-1-v]},S={x:i.allpts[O-4-v],y:i.allpts[O-3-v]}),D=r.dist(C,S),T=N,!((N+=D)>=c));v+=2);var P=c-T,_=P/D;_=r.bound(0,_,1),t=r.lineAt(C,S,_),o=d(C,S)}l("labelX",n,t.x),l("labelY",n,t.y),l("labelAutoAngle",n,o)}};c("source"),c("target"),this.applyLabelDimensions(e)}},a.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},a.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);o.setPrefixedProperty(n.rstyle,"labelWidth",t,i.width),o.setPrefixedProperty(n.rscratch,"labelWidth",t,i.width),o.setPrefixedProperty(n.rstyle,"labelHeight",t,i.height),o.setPrefixedProperty(n.rscratch,"labelHeight",t,i.height)},a.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,a=e.pstyle("text-transform").value,s=function(e,r){return r?(o.setPrefixedProperty(n.rscratch,e,t,r),r):o.getPrefixedProperty(n.rscratch,e,t)};"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var l=e.pstyle("text-wrap").value;if("wrap"===l){var u=s("labelKey");if(u&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var c=i.split("\n"),d=e.pstyle("text-max-width").pfValue,h=[],p=0;p<c.length;p++){var f=c[p];if(this.calculateLabelDimensions(e,f,"line="+f).width>d){for(var g=f.split(/\s+/),v="",y=0;y<g.length;y++){var m=g[y],b=0===v.length?m:v+" "+m;this.calculateLabelDimensions(e,b,"testLine="+b).width<=d?v+=m+" ":(h.push(v),v=m+" ")}v.match(/^\s+$/)||h.push(v)}else h.push(f)}s("labelWrapCachedLines",h),i=s("labelWrapCachedText",h.join("\n")),s("labelWrapKey",u)}else if("ellipsis"===l){for(var d=e.pstyle("text-max-width").pfValue,x="",w=!1,E=0;E<i.length;E++){var _=this.calculateLabelDimensions(e,x+i[E]+"…").width;if(_>d)break;x+=i[E],E===i.length-1&&(w=!0)}return w||(x+="…"),x}return i},a.calculateLabelDimensions=function(e,t,n){var r=this,i=e._private.labelStyleKey+"$@$"+t;n&&(i+="$@$"+n);var o=r.labelDimCache||(r.labelDimCache={});if(o[i])return o[i];var a=e.pstyle("font-style").strValue,s=1*e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,c=this.labelCalcDiv;c||(c=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(c));var d=c.style;return d.fontFamily=l,d.fontStyle=a,d.fontSize=s,d.fontWeight=u,d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none",d.padding="0",d.lineHeight="1",d.whiteSpace="wrap"===e.pstyle("text-wrap").value?"pre":"normal",c.textContent=t,o[i]={width:Math.ceil(c.clientWidth/1),height:Math.ceil(c.clientHeight/1)}},a.calculateLabelAngles=function(e){var t=e._private,n=t.rscratch,r=e.isEdge(),i=e.pstyle("text-rotation"),o=i.strValue;"none"===o?n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle=0:r&&"autorotate"===o?(n.labelAngle=Math.atan(n.midDispY/n.midDispX),n.sourceLabelAngle=n.sourceLabelAutoAngle,n.targetLabelAngle=n.targetLabelAutoAngle):n.labelAngle=n.sourceLabelAngle=n.targetLabelAngle="autorotate"===o?0:i.pfValue},e.exports=a},function(e){"use strict";var t={};t.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(e.isParent())return"rectangle"===n||"roundrectangle"===n||"cutrectangle"===n||"barrel"===n?n:"rectangle";if("polygon"===n){return t.nodeShapes.makePolygon(e.pstyle("shape-polygon-points").value).name}return n},e.exports=t},function(e){"use strict";var t={};t.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,r=function(e,n,r){if(t.merge(e),!0===r||void 0===r)for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.rstyle;s.clean=!1,a.bbCache=null;var l=s.dirtyEvents=s.dirtyEvents||{length:0};l[n.type]||(l[n.type]=!0,l.length++)}};n.binder(e).on("position.* style.* free.* bounds.*","node",function(e){var t=e.target;r(t,e),r(t.connectedEdges(),e)}).on("add.*","node",function(e){r(e.target,e)}).on("background.*","node",function(e){r(e.target,e,!1)}).on("add.* style.*","edge",function(e){var t=e.target;r(t,e),r(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.target,n=t.parallelEdges(),i=0;i<n.length;i++){var o=n[i];o.removed()||r(o,e)}}).on("dirty.*","node",function(e){r(e.target,e)}),n.beforeRender(function(r){if(r){var i=n.onUpdateEleCalcsFns;if(i)for(var o=0;o<i.length;o++){var a=i[o];a(r,t)}n.recalculateRenderedStyle(t,!1);for(var o=0;o<t.length;o++)t[o]._private.rstyle.dirtyEvents=null;t=e.collection()}},n.beforeRenderPriorities.eleCalcs)},t.onUpdateEleCalcs=function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},t.recalculateRenderedStyle=function(e,t){var n=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],a=o._private,s=a.rstyle;t&&s.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===a.group?r.push(o):n.push(o),s.clean=!0)}for(var i=0;i<r.length;i++){var o=r[i],a=o._private,s=a.rstyle,l=o.position();this.recalculateNodeLabelProjection(o),s.nodeX=l.x,s.nodeY=l.y,s.nodeW=o.pstyle("width").pfValue,s.nodeH=o.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var i=0;i<n.length;i++){var o=n[i],a=o._private,s=a.rstyle,u=a.rscratch;this.recalculateEdgeLabelProjections(o),s.srcX=u.arrowStartX,s.srcY=u.arrowStartY,s.tgtX=u.arrowEndX,s.tgtY=u.arrowEndY,s.midX=u.midX,s.midY=u.midY,s.labelAngle=u.labelAngle,s.sourceLabelAngle=u.sourceLabelAngle,s.targetLabelAngle=u.targetLabelAngle}}},e.exports=t},function(e,t,n){"use strict";var r=n(14),i={};i.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=e[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(var n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}},i.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},i.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(r),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},e.exports=i},function(e){"use strict";var t={};t.getCachedImage=function(e,t,n){var r=this,i=r.imageCache=r.imageCache||{},o=i[e];if(o)return o.image.complete||o.image.addEventListener("load",n),o.image;o=i[e]=i[e]||{};var a=o.image=new Image;a.addEventListener("load",n),a.addEventListener("error",function(){a.error=!0});return"data:"===e.substring(0,"data:".length).toLowerCase()||(a.crossOrigin=t),a.src=e,a},e.exports=t},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(4),a=function(e){this.init(e)},s=a,l=s.prototype;l.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],l.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(o){var r=o.document,a=r.head,s="__________cytoscape_container",l=null!=r.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!l){var u=r.createElement("style");u.id="__________cytoscape_stylesheet",u.innerHTML="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}"static"===o.getComputedStyle(n).getPropertyValue("position")&&i.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},l.notify=function(e){var t,n=this;if(!this.destroyed){t=r.array(e.type)?e.type:[e.type];for(var i={},o=0;o<t.length;o++){i[t[o]]=!0}if(i.init)return void n.load();if(i.destroy)return void n.destroy();(i.add||i.remove||i.load||i.zorder)&&n.invalidateCachedZSortedEles(),i.viewport&&n.redrawHint("select",!0),(i.load||i.resize)&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},l.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},[n(85),n(91),n(96),n(98),n(99),n(100)].forEach(function(e){i.extend(l,e)}),e.exports=s},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(2),a=(n(15),{});a.registerBinding=function(e){var t=Array.prototype.slice.apply(arguments,[1]),n=this.binder(e);return n.on.apply(n,t)},a.binder=function(e){var t=this,n=e===window||e===document||e===document.body||r.domElement(e);if(null==t.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,o)}catch(e){}t.supportsPassiveEvents=i}var a=function(r,i,o){var a=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),t.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},a.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},a.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},a.load=function(){var e=this,t=function(t,n,r,o){null==t&&(t=e.cy);for(var a=0;a<n.length;a++){t.emit(i.extend({originalEvent:r,type:n[a]},o))}},n=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},a=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.isEdge())for(var i=0;n&&i<n.length;i++){var t=n[i];if(t.isNode()&&t.isParent()){r=!1;break}}else r=!0;return r},s=function(t){var n;if(t.addToList&&e.cy.hasCompoundNodes()){if(!t.addToList.hasId){t.addToList.hasId={};for(var r=0;r<t.addToList.length;r++){t.addToList.hasId[t.addToList[r].id()]=!0}}n=t.addToList.hasId}return n||{}},l=function(e){e[0]._private.grabbed=!0},u=function(e){e[0]._private.grabbed=!1},c=function(e){e[0]._private.rscratch.inDragLayer=!0},d=function(e){e[0]._private.rscratch.inDragLayer=!1},h=function(e){e[0]._private.rscratch.isGrabTarget=!0},p=function(e){e[0]._private.rscratch.isGrabTarget=!1},f=function(e,t){var n=s(t);n[e.id()]||(t.addToList.push(e),n[e.id()]=!0,l(e))},g=function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(c),n.connectedEdges().forEach(c)),t.addToList&&n.forEach(function(e){f(e,t)})}},v=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(c),t.neighborhood().stdFilter(function(e){return!r||e.isEdge()}).forEach(c)),n.addToList&&t.forEach(function(e){f(e,n)}),g(t,n),b(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},y=v,m=function(t){t&&(t.hasId={},e.getCachedZSortedEles().forEach(function(e){u(e),d(e),p(e)}),e.updateCachedGrabbedEles())},b=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(c),r.forEach(c)),t.addToList&&r.forEach(function(e){f(e,t)})}}},x="undefined"!=typeof MutationObserver;x?(e.removeObserver=new MutationObserver(function(t){for(var n=0;n<t.length;n++){var r=t[n],i=r.removedNodes;if(i)for(var o=0;o<i.length;o++){var a=i[o];if(a===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(){e.destroy()});var w=i.debounce(function(){e.cy.resize()},100);x&&(e.styleObserver=new MutationObserver(w),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",w);var E=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",E),e.registerBinding(t,"animationend",E),e.registerBinding(t,"scroll",E)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var _=function(){return 0!==e.selection[4]},D=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){l=!0;break}}if(!l)return!1;for(var d=e.container,h=t.target,p=h.parentNode,f=!1;p;){if(p===d){f=!0;break}p=p.parentNode}return!!f};e.registerBinding(e.container,"mousedown",function(n){if(D(n)){n.preventDefault(),e.hoverData.capture=!0,e.hoverData.which=n.which;var r=e.cy,i=[n.clientX,n.clientY],o=e.projectIntoViewport(i[0],i[1]),a=e.selection,s=e.findNearestElements(o[0],o[1],!0,!1),l=s[0],u=e.dragData.possibleDragElements;e.hoverData.mdownPos=o,e.hoverData.mdownGPos=i;if(3==n.which){e.hoverData.cxtStarted=!0;var c={originalEvent:n,type:"cxttapstart",position:{x:o[0],y:o[1]}};l?(l.activate(),l.emit(c),e.hoverData.down=l):r.emit(c),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==n.which){if(l&&l.activate(),null!=l&&e.nodeIsGrabbable(l)){var d=function(e){return{originalEvent:n,type:e,position:{x:o[0],y:o[1]}}},p=function(e){e.emit(d("grab"))};if(h(l),l.selected()){u=e.dragData.possibleDragElements=[];var f=r.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});v(f,{addToList:u}),l.emit(d("grabon")),f.forEach(p)}else u=e.dragData.possibleDragElements=[],y(l,{addToList:u}),l.emit(d("grabon")).emit(d("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=l,e.hoverData.downs=s,e.hoverData.downTime=(new Date).getTime(),t(l,["mousedown","tapstart","vmousedown"],n,{position:{x:o[0],y:o[1]}}),null==l?(a[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):l.isEdge()&&(a[4]=1),function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit({originalEvent:n,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:n,type:"taphold",position:{x:o[0],y:o[1]}})}},e.tapholdDuration)}()}a[0]=a[2]=o[0],a[1]=a[3]=o[1]}},!1),e.registerBinding(window,"mousemove",function(i){if(e.hoverData.capture||D(i)){var s=!1,l=e.cy,u=l.zoom(),c=[i.clientX,i.clientY],d=e.projectIntoViewport(c[0],c[1]),h=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(d[0],d[1],!0,!1));var y,b=e.hoverData.last,x=e.hoverData.down,w=[d[0]-f[2],d[1]-f[3]],E=e.dragData.possibleDragElements;if(p){var _=c[0]-p[0],T=_*_,C=c[1]-p[1];e.hoverData.isOverThresholdDrag=y=T+C*C>=e.desktopTapThreshold2}var S=n(i);y&&(e.hoverData.tapholdCancelled=!0),s=!0,t(g,["mousemove","vmousemove","tapdrag"],i,{position:{x:d[0],y:d[1]}});var N=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||l.emit("boxstart"),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(y){var O={originalEvent:i,type:"cxtdrag",position:{x:d[0],y:d[1]}};x?x.emit(O):l.emit(O),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:i,type:"cxtdragout",position:{x:d[0],y:d[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:i,type:"cxtdragover",position:{x:d[0],y:d[1]}}))}}else if(e.hoverData.dragging){if(s=!0,l.panningEnabled()&&l.userPanningEnabled()){var P;if(e.hoverData.justStartedPan){var M=e.hoverData.mdownPos;P={x:(d[0]-M[0])*u,y:(d[1]-M[1])*u},e.hoverData.justStartedPan=!1}else P={x:w[0]*u,y:w[1]*u};l.panBy(P),e.hoverData.dragged=!0}d=e.projectIntoViewport(i.clientX,i.clientY)}else if(1!=f[4]||null!=x&&!x.isEdge()){if(x&&x.isEdge()&&x.active()&&x.unactivate(),x&&x.grabbed()||g==b||(b&&t(b,["mouseout","tapdragout"],i,{position:{x:d[0],y:d[1]}}),g&&t(g,["mouseover","tapdragover"],i,{position:{x:d[0],y:d[1]}}),e.hoverData.last=g),x)if(y){if(l.boxSelectionEnabled()&&S)x&&x.grabbed()&&(m(E),x.emit("free")),N();else if(x&&x.grabbed()&&e.nodeIsDraggable(x)){var k=!e.dragData.didDrag;k&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var L=[];e.hoverData.draggingEles||v(l.collection(E),{inDragLayer:!0});for(var A=0;A<E.length;A++){var I=E[A];if(e.nodeIsDraggable(I)&&I.grabbed()){var R=I.position();if(L.push(I),r.number(w[0])&&r.number(w[1])&&(R.x+=w[0],R.y+=w[1],k)){var F=e.hoverData.dragDelta;F&&r.number(F[0])&&r.number(F[1])&&(R.x+=F[0],R.y+=F[1])}}}e.hoverData.draggingEles=!0;var B=l.collection(L);B.dirtyCompoundBoundsCache(),B.emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(w[0]),t.push(w[1])):(t[0]+=w[0],t[1]+=w[1])}();s=!0}else if(y){if(e.hoverData.dragging||!l.boxSelectionEnabled()||!S&&l.panningEnabled()&&l.userPanningEnabled()){if(!e.hoverData.selecting&&l.panningEnabled()&&l.userPanningEnabled()){var z=a(x,e.hoverData.downs);z&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=o.array2point(h),e.redrawHint("select",!0),e.redraw())}}else N();x&&x.isEdge()&&x.active()&&x.unactivate()}return f[2]=d[0],f[3]=d[1],s?(i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault(),!1):void 0}},!1),e.registerBinding(window,"mouseup",function(r){if(e.hoverData.capture){e.hoverData.capture=!1;var i=e.cy,o=e.projectIntoViewport(r.clientX,r.clientY),a=e.selection,s=e.findNearestElement(o[0],o[1],!0,!1),l=e.dragData.possibleDragElements,u=e.hoverData.down,c=n(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate(),3===e.hoverData.which){var d={originalEvent:r,type:"cxttapend",position:{x:o[0],y:o[1]}};if(u?u.emit(d):i.emit(d),!e.hoverData.cxtDragged){var h={originalEvent:r,type:"cxttap",position:{x:o[0],y:o[1]}};u?u.emit(h):i.emit(h)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||n(r)||(i.$(function(e){return e.selected()}).unselect(),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=[]),t(s,["mouseup","tapend","vmouseup"],r,{position:{x:o[0],y:o[1]}}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||t(u,["click","tap","vclick"],r,{position:{x:o[0],y:o[1]}}),s!=u||e.dragData.didDrag||e.hoverData.selecting||null!=s&&s._private.selectable&&(e.hoverData.dragging||("additive"===i.selectionType()||c?s.selected()?s.unselect():s.select():c||(i.$(":selected").unmerge(s).unselect(),s.select())),e.redrawHint("eles",!0)),e.hoverData.selecting){var p=i.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));e.redrawHint("select",!0),p.length>0&&e.redrawHint("eles",!0),i.emit("boxend");var f=function(e){return e.selectable()&&!e.selected()};"additive"===i.selectionType()?p.emit("box").stdFilter(f).select().emit("boxselect"):(c||i.$(":selected").unmerge(p).unselect(),p.emit("box").stdFilter(f).select().emit("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!a[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var g=u&&u.grabbed();m(l),g&&u.emit("free")}}a[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1),e.registerBinding(e.container,"wheel",function(t){if(!e.scrollingPage){var n=e.cy,r=e.projectIntoViewport(t.clientX,t.clientY),i=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||_())return void t.preventDefault();if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var o;o=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,o*=e.wheelSensitivity;1===t.deltaMode&&(o*=33),n.zoom({level:n.zoom()*Math.pow(10,o),renderedPosition:{x:i[0],y:i[1]}})}}},!0),e.registerBinding(window,"scroll",function(){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"mouseout",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})},!1);var T,C,S,N,O,P,M,k,L,A,I,R,F,B,z=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},j=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};e.registerBinding(e.container,"touchstart",B=function(n){if(D(n)){e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,o=e.touchData.earlier;if(n.touches[0]){var a=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);i[0]=a[0],i[1]=a[1]}if(n.touches[1]){var a=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);i[2]=a[0],i[3]=a[1]}if(n.touches[2]){var a=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);i[4]=a[0],i[5]=a[1]}if(n.touches[1]){m(e.dragData.touchDragEles);var s=e.findContainerClientCoords();L=s[0],A=s[1],I=s[2],R=s[3],T=n.touches[0].clientX-L,C=n.touches[0].clientY-A,S=n.touches[1].clientX-L,N=n.touches[1].clientY-A,F=0<=T&&T<=I&&0<=S&&S<=I&&0<=C&&C<=R&&0<=N&&N<=R;var l=r.pan(),u=r.zoom();O=z(T,C,S,N),P=j(T,C,S,N),M=[(T+S)/2,(C+N)/2],k=[(M[0]-l.x)/u,(M[1]-l.y)/u];if(P<4e4&&!n.touches[2]){var c=e.findNearestElement(i[0],i[1],!0,!0),d=e.findNearestElement(i[2],i[3],!0,!0);return c&&c.isNode()?(c.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=c):d&&d.isNode()?(d.activate().emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=d):r.emit({originalEvent:n,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(n.touches[2]);else if(n.touches[1]);else if(n.touches[0]){var p=e.findNearestElements(i[0],i[1],!0,!0),f=p[0];if(null!=f&&(f.activate(),e.touchData.start=f,e.touchData.starts=p,e.nodeIsGrabbable(f))){var g=e.dragData.touchDragEles=[],b=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),f.selected()?(b=r.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),v(b,{addToList:g})):y(f,{addToList:g}),h(f);var x=function(e){return{originalEvent:n,type:e,position:{x:i[0],y:i[1]}}};f.emit(x("grabon")),b?b.forEach(function(e){e.emit(x("grab"))}):f.emit(x("grab"))}t(f,["touchstart","tapstart","vmousedown"],n,{position:{x:i[0],y:i[1]}}),null==f&&(e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||(t(e.touchData.start,["taphold"],n,{position:{x:i[0],y:i[1]}}),e.touchData.start||r.$(":selected").unselect())},e.tapholdDuration)}if(n.touches.length>=1){for(var w=e.touchData.startPosition=[],E=0;E<i.length;E++)w[E]=o[E]=i[E];var _=n.touches[0];e.touchData.startGPosition=[_.clientX,_.clientY]}}},!1);var V;e.registerBinding(window,"touchmove",V=function(n){var i=e.touchData.capture;if(i||D(n)){var s=e.selection,l=e.cy,u=e.touchData.now,c=e.touchData.earlier,d=l.zoom();if(n.touches[0]){var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=h[0],u[1]=h[1]}if(n.touches[1]){var h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=h[0],u[3]=h[1]}if(n.touches[2]){var h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=h[0],u[5]=h[1]}var p,f=e.touchData.startGPosition;if(i&&n.touches[0]&&f){for(var g=[],y=0;y<u.length;y++)g[y]=u[y]-c[y];var b=n.touches[0].clientX-f[0],x=b*b,w=n.touches[0].clientY-f[1];p=x+w*w>=e.touchTapThreshold2}if(i&&e.touchData.cxt){n.preventDefault();var E=n.touches[0].clientX-L,_=n.touches[0].clientY-A,M=n.touches[1].clientX-L,I=n.touches[1].clientY-A,R=j(E,_,M,I),B=R/P;if(B>=2.25||R>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var V={originalEvent:n,type:"cxttapend",position:{x:u[0],y:u[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(V),e.touchData.start=null):l.emit(V)}}if(i&&e.touchData.cxt){var V={originalEvent:n,type:"cxtdrag",position:{x:u[0],y:u[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(V):l.emit(V),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Y=e.findNearestElement(u[0],u[1],!0,!0);e.touchData.cxtOver&&Y===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:n,type:"cxtdragout",position:{x:u[0],y:u[1]}}),e.touchData.cxtOver=Y,Y&&Y.emit({originalEvent:n,type:"cxtdragover",position:{x:u[0],y:u[1]}}))}else if(i&&n.touches[2]&&l.boxSelectionEnabled())n.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||l.emit("boxstart"),e.touchData.selecting=!0,e.redrawHint("select",!0),s&&0!==s.length&&void 0!==s[0]?(s[2]=(u[0]+u[2]+u[4])/3,s[3]=(u[1]+u[3]+u[5])/3):(s[0]=(u[0]+u[2]+u[4])/3,s[1]=(u[1]+u[3]+u[5])/3,s[2]=(u[0]+u[2]+u[4])/3+1,s[3]=(u[1]+u[3]+u[5])/3+1),s[4]=1,e.touchData.selecting=!0,e.redraw();else if(i&&n.touches[1]&&l.zoomingEnabled()&&l.panningEnabled()&&l.userZoomingEnabled()&&l.userPanningEnabled()){n.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var q=e.dragData.touchDragEles;if(q){e.redrawHint("drag",!0);for(var X=0;X<q.length;X++){var G=q[X]._private;G.grabbed=!1,G.rscratch.inDragLayer=!1}}var E=n.touches[0].clientX-L,_=n.touches[0].clientY-A,M=n.touches[1].clientX-L,I=n.touches[1].clientY-A,W=z(E,_,M,I),U=W/O;if(F){var H=E-T,$=_-C,Z=M-S,Q=I-N,K=(H+Z)/2,J=($+Q)/2,ee=l.zoom(),te=ee*U,ne=l.pan(),re=k[0]*ee+ne.x,ie=k[1]*ee+ne.y,oe={x:-te/ee*(re-ne.x-K)+re,y:-te/ee*(ie-ne.y-J)+ie};if(e.touchData.start&&e.touchData.start.active()){var q=e.dragData.touchDragEles;m(q),e.redrawHint("drag",!0),e.redrawHint("eles",!0),e.touchData.start.unactivate().emit("free")}l.viewport({zoom:te,pan:oe,cancelOnFailedZoom:!0}),O=W,T=E,C=_,S=M,N=I,e.pinching=!0}if(n.touches[0]){var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=h[0],u[1]=h[1]}if(n.touches[1]){var h=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);u[2]=h[0],u[3]=h[1]}if(n.touches[2]){var h=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);u[4]=h[0],u[5]=h[1]}}else if(n.touches[0]){var Y,ae=e.touchData.start,se=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(Y=e.findNearestElement(u[0],u[1],!0,!0)),i&&null!=ae&&n.preventDefault(),i&&null!=ae&&e.nodeIsDraggable(ae))if(p){var q=e.dragData.touchDragEles,le=!e.dragData.didDrag;le&&v(l.collection(q),{inDragLayer:!0});for(var ue=0;ue<q.length;ue++){var ce=q[ue];if(e.nodeIsDraggable(ce)&&ce.grabbed()){e.dragData.didDrag=!0;var de=ce.position();if(r.number(g[0])&&r.number(g[1])&&(de.x+=g[0],de.y+=g[1]),le){e.redrawHint("eles",!0);var he=e.touchData.dragDelta;he&&r.number(he[0])&&r.number(he[1])&&(de.x+=he[0],de.y+=he[1])}}}var pe=l.collection(q);pe.dirtyCompoundBoundsCache(),pe.emit("position drag"),e.hoverData.draggingEles=!0,e.redrawHint("drag",!0),e.touchData.startPosition[0]==c[0]&&e.touchData.startPosition[1]==c[1]&&e.redrawHint("eles",!0),e.redraw()}else{var he=e.touchData.dragDelta=e.touchData.dragDelta||[];0===he.length?(he.push(g[0]),he.push(g[1])):(he[0]+=g[0],he[1]+=g[1])}if(t(ae||Y,["touchmove","tapdrag","vmousemove"],n,{position:{x:u[0],y:u[1]}}),ae&&ae.grabbed()||Y==se||(se&&se.emit({originalEvent:n,type:"tapdragout",position:{x:u[0],y:u[1]}}),Y&&Y.emit({originalEvent:n,type:"tapdragover",position:{x:u[0],y:u[1]}})),e.touchData.last=Y,i)for(var X=0;X<u.length;X++)u[X]&&e.touchData.startPosition[X]&&p&&(e.touchData.singleTouchMoved=!0);if(i&&(null==ae||ae.isEdge())&&l.panningEnabled()&&l.userPanningEnabled()){var fe=a(ae,e.touchData.starts);fe&&(n.preventDefault(),e.swipePanning?l.panBy({x:g[0]*d,y:g[1]*d}):p&&(e.swipePanning=!0,l.panBy({x:b*d,y:w*d}),ae&&(ae.unactivate(),e.data.bgActivePosistion||(e.data.bgActivePosistion=o.array2point(e.touchData.startPosition)),e.redrawHint("select",!0),e.touchData.start=null)));var h=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);u[0]=h[0],u[1]=h[1]}}for(var y=0;y<u.length;y++)c[y]=u[y]}},!1);var Y;e.registerBinding(window,"touchcancel",Y=function(){var t=e.touchData.start;e.touchData.capture=!1,t&&t.unactivate()});var q;if(e.registerBinding(window,"touchend",q=function(n){var r=e.touchData.start;if(e.touchData.capture){e.touchData.capture=!1,n.preventDefault();var i=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o=e.cy,a=o.zoom(),s=e.touchData.now,l=e.touchData.earlier;if(n.touches[0]){var u=e.projectIntoViewport(n.touches[0].clientX,n.touches[0].clientY);s[0]=u[0],s[1]=u[1]}if(n.touches[1]){var u=e.projectIntoViewport(n.touches[1].clientX,n.touches[1].clientY);s[2]=u[0],s[3]=u[1]}if(n.touches[2]){var u=e.projectIntoViewport(n.touches[2].clientX,n.touches[2].clientY);s[4]=u[0],s[5]=u[1]}r&&r.unactivate();var c;if(e.touchData.cxt){if(c={originalEvent:n,type:"cxttapend",position:{x:s[0],y:s[1]}},r?r.emit(c):o.emit(c),!e.touchData.cxtDragged){var d={originalEvent:n,type:"cxttap",position:{x:s[0],y:s[1]}};r?r.emit(d):o.emit(d)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!n.touches[2]&&o.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var h=o.collection(e.getAllInBox(i[0],i[1],i[2],i[3]));i[0]=void 0,i[1]=void 0,i[2]=void 0,i[3]=void 0,i[4]=0,e.redrawHint("select",!0),o.emit("boxend");var p=function(e){return e.selectable()&&!e.selected()};h.emit("box").stdFilter(p).select().emit("boxselect"),h.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),n.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(n.touches[1]);else if(n.touches[0]);else if(!n.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var f=e.dragData.touchDragEles;if(null!=r){var g=r._private.grabbed;m(f),e.redrawHint("drag",!0),e.redrawHint("eles",!0),g&&r.emit("free"),t(r,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:s[0],y:s[1]}}),r.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(s[0],s[1],!0,!0);t(v,["touchend","tapend","vmouseup","tapdragout"],n,{position:{x:s[0],y:s[1]}})}var y=e.touchData.startPosition[0]-s[0],b=y*y,x=e.touchData.startPosition[1]-s[1],w=x*x,E=b+w,_=E*a*a;null!=r&&!e.dragData.didDrag&&r._private.selectable&&_<e.touchTapThreshold2&&!e.pinching&&("single"===o.selectionType()?(o.$(":selected").unmerge(r).unselect(),r.select()):r.selected()?r.unselect():r.select(),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved||t(r,["tap","vclick"],n,{position:{x:s[0],y:s[1]}}),e.touchData.singleTouchMoved=!0}for(var D=0;D<s.length;D++)l[D]=s[D];e.dragData.didDrag=!1,0===n.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null),n.touches.length<2&&(e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var X=[],G=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},W=function(e){return{event:e,touch:G(e)}},U=function(e){X.push(W(e))},H=function(e){for(var t=0;t<X.length;t++){if(X[t].event.pointerId===e.pointerId)return void X.splice(t,1)}},$=function(e){var t=X.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=G(e)},Z=function(e){e.touches=X.map(function(e){return e.touch})},Q=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){Q(e)||(e.preventDefault(),U(e),Z(e),B(e))}),e.registerBinding(e.container,"pointerup",function(e){Q(e)||(H(e),Z(e),q(e))}),e.registerBinding(e.container,"pointercancel",function(e){Q(e)||(H(e),Z(e),Y(e))}),e.registerBinding(e.container,"pointermove",function(e){Q(e)||(e.preventDefault(),$(e),Z(e),V(e))})}},e.exports=a},function(e,t,n){"use strict";var r=n(2),i={};i.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,i,o,a,s){return r.polygonIntersectLine(o,a,this.points,e,t,n/2,i/2,s)},checkPoint:function(e,t,n,i,o,a,s){return r.pointInsidePolygon(e,t,this.points,a,s,i,o,[0,-1],n)}}},i.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,i,o,a,s){return r.intersectLineEllipse(o,a,e,t,n/2+s,i/2+s)},checkPoint:function(e,t,n,i,o,a,s){return r.checkInEllipse(e,t,i,o,a,s,n)}}},i.generateRoundRectangle=function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,i,o,a,s){return r.roundRectangleIntersectLine(o,a,e,t,n,i,s)},checkPoint:function(e,t,n,i,o,a,s){var l=r.getRoundRectangleRadius(i,o),u=2*l;return!!r.pointInsidePolygon(e,t,this.points,a,s,i,o-u,[0,-1],n)||(!!r.pointInsidePolygon(e,t,this.points,a,s,i-u,o,[0,-1],n)||(!!r.checkInEllipse(e,t,u,u,a-i/2+l,s-o/2+l,n)||(!!r.checkInEllipse(e,t,u,u,a+i/2-l,s-o/2+l,n)||(!!r.checkInEllipse(e,t,u,u,a+i/2-l,s+o/2-l,n)||!!r.checkInEllipse(e,t,u,u,a-i/2+l,s+o/2-l,n)))))}}},i.generateCutRectangle=function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:r.getCutRectangleCornerLength(),points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,o=t/2,a=e/2,s=n-a,l=n+a,u=r-o,c=r+o;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,n,i,o,a,s){var l=this.generateCutTrianglePts(n+2*s,i+2*s,e,t),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return r.polygonIntersectLine(o,a,u,e,t)},checkPoint:function(e,t,n,i,o,a,s){if(r.pointInsidePolygon(e,t,this.points,a,s,i,o-2*this.cornerLength,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,a,s,i-2*this.cornerLength,o,[0,-1],n))return!0;var l=this.generateCutTrianglePts(i,o,a,s);return r.pointInsidePolygonPoints(e,t,l.topLeft)||r.pointInsidePolygonPoints(e,t,l.topRight)||r.pointInsidePolygonPoints(e,t,l.bottomRight)||r.pointInsidePolygonPoints(e,t,l.bottomLeft)}}},i.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,i,o,a,s){var l=this.generateBarrelBezierPts(n+2*s,i+2*s,e,t),u=[].concat(l.topLeft,l.topRight,l.bottomRight,l.bottomLeft);return r.polygonIntersectLine(o,a,u,e,t)},generateBarrelBezierPts:function(e,t,n,i){var o=t/2,a=e/2,s=n-a,l=n+a,u=i-o,c=i+o,d=r.getBarrelCurveConstants(e,t),h=d.heightOffset,p=d.widthOffset,f=d.ctrlPtOffsetPct*e,g={topLeft:[s,u+h,s+f,u,s+p,u],topRight:[l-p,u,l-f,u,l,u+h],bottomRight:[l,c-h,l-f,c,l-p,c],bottomLeft:[s+p,c,s+f,c,s,c-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,t,n,i,o,a,s){var l=r.getBarrelCurveConstants(i,o),u=l.heightOffset,c=l.widthOffset;if(r.pointInsidePolygon(e,t,this.points,a,s,i,o-2*u,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,a,s,i-2*c,o,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(i,o,a,s),h=Object.keys(d),p=0;p<h.length;p++){var f=h[p],g=d[f],v=function(e,t,n){var i=n[4],o=n[2],a=n[0],s=n[5],l=n[1],u=Math.min(i,a),c=Math.max(i,a),d=Math.min(s,l),h=Math.max(s,l);if(u<=e&&e<=c&&d<=t&&t<=h){var p=r.bezierPtsToQuadCoeff(i,o,a),f=r.solveQuadratic(p[0],p[1],p[2],e),g=f.filter(function(e){return 0<=e&&e<=1});if(g.length>0)return g[0]}return null}(e,t,g);if(null!=v){var y=g[5],m=g[3],b=g[1],x=r.qbezierAt(y,m,b,v);if(g.isTop&&x<=t)return!0;if(g.isBottom&&t<=x)return!0}}return!1}}},i.generateBottomRoundrectangle=function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:r.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,i,o,a,s){var l=e-(n/2+s),u=t-(i/2+s),c=u,d=e+(n/2+s),h=r.finiteLinesIntersect(o,a,e,t,l,u,d,c,!1);return h.length>0?h:r.roundRectangleIntersectLine(o,a,e,t,n,i,s)},checkPoint:function(e,t,n,i,o,a,s){var l=r.getRoundRectangleRadius(i,o),u=2*l;if(r.pointInsidePolygon(e,t,this.points,a,s,i,o-u,[0,-1],n))return!0;if(r.pointInsidePolygon(e,t,this.points,a,s,i-u,o,[0,-1],n))return!0;var c=i/2+2*n,d=o/2+2*n;return!!r.pointInsidePolygonPoints(e,t,[a-c,s-d,a-c,s,a+c,s,a+c,s-d])||!!r.checkInEllipse(e,t,u,u,a+i/2-l,s+o/2-l,n)||!!r.checkInEllipse(e,t,u,u,a-i/2+l,s+o/2-l,n)}}},i.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",r.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",r.generateUnitNgonPointsFitToSquare(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",r.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",r.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",r.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",r.generateUnitNgonPointsFitToSquare(8,0));var n=new Array(20),i=r.generateUnitNgonPoints(5,0),o=r.generateUnitNgonPoints(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(var s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=o[2*s],n[4*s+3]=o[2*s+1];n=r.fitPolygonToSquare(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var n,r=e.join("$"),i="polygon-"+r;return(n=this[i])?n:t.generatePolygon(i,e)}},e.exports=i},function(e,t,n){"use strict";var r=n(1),i={};i.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},i.redraw=function(e){e=e||r.staticEmptyObject();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},i.beforeRender=function(e,t){if(!this.destroyed){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}};var o=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};i.startRenderLoop=function(){var e=this;if(!e.renderLoopStarted){e.renderLoopStarted=!0;r.requestAnimationFrame(function t(n){if(!e.destroyed){if(e.requestedFrame&&!e.skipFrame){o(e,!0,n);var i=r.performanceNow();e.render(e.renderOptions);var a=e.lastDrawTime=r.performanceNow();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=a-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else o(e,!1,n);e.skipFrame=!1,r.requestAnimationFrame(t)}})}},e.exports=i},function(e){"use strict";var t,n={};n.arrowShapeImpl=function(e){return(t||(t={polygon:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}},"triangle-backcurve":function(e,t,n){for(var r,i=0;i<t.length;i++){var o=t[i];0===i&&(r=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var o=r[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var a=n,s=n[0];e.moveTo(s.x,s.y);for(var i=0;i<a.length;i++){var o=a[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()},"triangle-cross":function(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var o=r[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var a=n,s=n[0];e.moveTo(s.x,s.y);for(var i=0;i<a.length;i++){var o=a[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()},circle:function(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}}))[e]},e.exports=n},function(e){"use strict";var t={};t.drawEdge=function(e,t,n,r){var i=this,o=t._private.rscratch,a=i.usePaths();if(!o.badLine&&!isNaN(o.allpts[0])&&t.visible()){var s=void 0;n&&(s=n,e.translate(-s.x1,-s.y1));var l=t.pstyle("overlay-padding").pfValue,u=2*l,c=t.pstyle("overlay-opacity").value,d=t.pstyle("overlay-color").value,h=t.pstyle("line-color").value,p=t.pstyle("opacity").value,f=t.pstyle("line-style").value,g=t.pstyle("width").pfValue,v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;e.lineWidth=g,e.lineCap="butt",i.strokeStyle(e,h[0],h[1],h[2],n),i.drawEdgePath(t,e,o.allpts,f)},y=function(){i.drawArrowheads(e,t,arguments.length>0&&void 0!==arguments[0]?arguments[0]:p)};e.lineJoin="round";if("yes"===t.pstyle("ghost").value){var m=t.pstyle("ghost-offset-x").pfValue,b=t.pstyle("ghost-offset-y").pfValue,x=t.pstyle("ghost-opacity").value,w=p*x;e.translate(m,b),v(w),y(w),e.translate(-m,-b)}v(),y(),function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;e.lineWidth=u,e.lineCap="self"!==o.edgeType||a?"round":"butt",i.strokeStyle(e,d[0],d[1],d[2],n),i.drawEdgePath(t,e,o.allpts,"solid")}(),function(){i.drawElementText(e,t,r)}(),n&&e.translate(s.x1,s.y1)}},t.drawEdgePath=function(e,t,n,r){var i=e._private.rscratch,o=t,a=void 0,s=!1,l=this.usePaths();if(l){var u=n.join("$");i.pathCacheKey&&i.pathCacheKey===u?(a=t=i.pathCache,s=!0):(a=t=new Path2D,i.pathCacheKey=u,i.pathCache=a)}if(o.setLineDash)switch(r){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash([6,3]);break;case"solid":o.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)t.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<n.length;d+=2)t.lineTo(n[d],n[d+1])}t=o,l?t.stroke(a):t.stroke(),t.setLineDash&&t.setLineDash([])},t.drawArrowheads=function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},t.drawArrowhead=function(e,t,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=this,l=t.pstyle(n+"-arrow-shape").value;if("none"!==l){var u="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,d=t.pstyle("width").pfValue,h=t.pstyle("opacity").value;void 0===a&&(a=h);var p=e.globalCompositeOperation;1===a&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.fillStyle(e,255,255,255,1),s.strokeStyle(e,255,255,255,1),s.drawArrowShape(t,n,e,u,d,l,r,i,o),e.globalCompositeOperation=p);var f=t.pstyle(n+"-arrow-color").value;s.fillStyle(e,f[0],f[1],f[2],a),s.strokeStyle(e,f[0],f[1],f[2],a),s.drawArrowShape(t,n,e,c,d,l,r,i,o)}}},t.drawArrowShape=function(e,t,n,r,i,o,a,s,l){var u=this,c=this.usePaths(),d=e._private.rscratch,h=!1,p=void 0,f=n,g={x:a,y:s},v=e.pstyle("arrow-scale").value,y=this.getArrowWidth(i,v),m=u.arrowShapes[o];if(c){var b=y+"$"+o+"$"+l+"$"+a+"$"+s;d.arrowPathCacheKey=d.arrowPathCacheKey||{},d.arrowPathCache=d.arrowPathCache||{};d.arrowPathCacheKey[t]===b?(p=n=d.arrowPathCache[t],h=!0):(p=n=new Path2D,d.arrowPathCacheKey[t]=b,d.arrowPathCache[t]=p)}n.beginPath&&n.beginPath(),h||m.draw(n,y,l,g,i),!m.leavePathOpen&&n.closePath&&n.closePath(),n=f,"filled"!==r&&"both"!==r||(c?n.fill(p):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=m.matchEdgeWidth?i:1,n.lineJoin="miter",c?n.stroke(p):n.stroke())},e.exports=t},function(e,t,n){"use strict";var r=n(2),i={};i.drawElement=function(e,t,n,r){var i=this;t.isNode()?i.drawNode(e,t,n,r):i.drawEdge(e,t,n,r)},i.drawCachedElement=function(e,t,n,i){var o=this,a=t.boundingBox();if(0!==a.w&&0!==a.h&&(!i||r.boundingBoxesIntersect(a,i))){var s=o.data.eleTxrCache.getElement(t,a,n);null!=s?e.drawImage(s.texture.canvas,s.x,0,s.width,s.height,a.x1,a.y1,a.w,a.h):o.drawElement(e,t)}},i.drawElements=function(e,t){for(var n=this,r=0;r<t.length;r++){n.drawElement(e,t[r])}},i.drawCachedElements=function(e,t,n,r){for(var i=this,o=0;o<t.length;o++){i.drawCachedElement(e,t[o],n,r)}},i.drawCachedNodes=function(e,t,n,r){for(var i=this,o=0;o<t.length;o++){var a=t[o];a.isNode()&&i.drawCachedElement(e,a,n,r)}},i.drawLayeredElements=function(e,t,n,r){var i=this,o=i.data.lyrTxrCache.getLayers(t,n);if(o)for(var a=0;a<o.length;a++){var s=o[a],l=s.bb;0!==l.w&&0!==l.h&&e.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else i.drawCachedElements(e,t,n,r)},i.drawDebugPoints=function(e,t){for(var n=function(t,n,r){e.fillStyle=r,e.fillRect(t-1,n-1,3,3)},r=0;r<t.length;r++){var i=t[r],o=i._private.rscratch;if(i.isNode()){var a=i.position();n(a.x,a.y,"magenta")}else{for(var s=o.allpts,l=0;l+1<s.length;l+=2){n(s[l],s[l+1],"cyan")}n(o.midX,o.midY,"yellow")}}},e.exports=i},function(e){"use strict";var t={};t.safeDrawImage=function(e,t,n,r,i,o,a,s,l,u){i<=0||o<=0||l<=0||u<=0||e.drawImage(t,n,r,i,o,a,s,l,u)},t.drawInscribedImage=function(e,t,n,r,i){var o=this,a=n.position(),s=a.x,l=a.y,u=n.cy().style(),c=u.getIndexedStyle.bind(u),d=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),p=n.width(),f=n.height(),g=2*n.padding(),v=p+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=f+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,b=n.pstyle("background-clip").value,x="node"===b,w=c(n,"background-image-opacity","value",r)*i,E=t.width||t.cachedW,_=t.height||t.cachedH;null!=E&&null!=_||(document.body.appendChild(t),E=t.cachedW=t.width||t.offsetWidth,_=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var D=E,T=_;if("auto"!==c(n,"background-width","value",r)&&(D="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(T="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==D&&0!==T){if("contain"===d){var C=Math.min(v/D,y/T);D*=C,T*=C}else if("cover"===d){var C=Math.max(v/D,y/T);D*=C,T*=C}var S=s-v/2;"%"===c(n,"background-position-x","units",r)?S+=(v-D)*c(n,"background-position-x","pfValue",r):S+=c(n,"background-position-x","pfValue",r);var N=l-y/2;"%"===c(n,"background-position-y","units",r)?N+=(y-T)*c(n,"background-position-y","pfValue",r):N+=c(n,"background-position-y","pfValue",r),m.pathCache&&(S-=s,N-=l,s=0,l=0);var O=e.globalAlpha;if(e.globalAlpha=w,"no-repeat"===h)x&&(e.save(),m.pathCache?e.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,s,l,v,y),e.clip())),o.safeDrawImage(e,t,0,0,E,_,S,N,D,T),x&&e.restore();else{e.fillStyle=e.createPattern(t,h),o.nodeShapes[o.getNodeShape(n)].draw(e,s,l,v,y),e.translate(S,N),e.fill(),e.translate(-S,-N)}e.globalAlpha=O}},e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r,i,o){var o=o||5;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill()}var i=n(1),o=n(2),a={};a.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(o.log2(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},a.drawElementText=function(e,t,n){var r=this;if(void 0===n){if(!r.eleTextBiggerThanMin(t))return}else if(!n)return;if(t.isNode()){var i=t.pstyle("label");if(!i||!i.value)return;var o=t.pstyle("text-halign").strValue;t.pstyle("text-valign");switch(o){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var i=t.pstyle("label"),a=t.pstyle("source-label"),s=t.pstyle("target-label");if(!(i&&i.value||a&&a.value||s&&s.value))return;e.textAlign="center",e.textBaseline="bottom"}r.drawText(e,t),t.isEdge()&&(r.drawText(e,t,"source"),r.drawText(e,t,"target"))},a.drawNodeText=a.drawEdgeText=a.drawElementText,a.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},a.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*n,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,d=t._private.fontKey,h=this.getFontCache(e);h.key!==d&&(e.font=r+" "+a+" "+i+" "+o,h.key=d),e.lineJoin="round",this.fillStyle(e,u[0],u[1],u[2],s),this.strokeStyle(e,c[0],c[1],c[2],l)},a.drawText=function(e,t,n){var o=t._private,a=o.rscratch,s=t.effectiveOpacity();if(0!==s&&0!==t.pstyle("text-opacity").value){var l=i.getPrefixedProperty(a,"labelX",n),u=i.getPrefixedProperty(a,"labelY",n),c=this.getLabelText(t,n);if(null!=c&&""!==c&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t);var d=n?n+"-":"",h=i.getPrefixedProperty(a,"labelWidth",n),p=i.getPrefixedProperty(a,"labelHeight",n),f=i.getPrefixedProperty(a,"labelAngle",n),g=t.pstyle(d+"text-margin-x").pfValue,v=t.pstyle(d+"text-margin-y").pfValue,y=t.isEdge(),m=(t.isNode(),t.pstyle("text-halign").value),b=t.pstyle("text-valign").value;y&&(m="center",b="center"),l+=g,u+=v;var x,w=t.pstyle("text-rotation");if(0!==(x="autorotate"===w.strValue?y?f:0:"none"===w.strValue?0:w.pfValue)){var E=l,_=u;e.translate(E,_),e.rotate(x),l=0,u=0}switch(b){case"top":break;case"center":u+=p/2;break;case"bottom":u+=p}var D=t.pstyle("text-background-opacity").value,T=t.pstyle("text-border-opacity").value,C=t.pstyle("text-border-width").pfValue,S=t.pstyle("text-background-padding").pfValue;if(D>0||C>0&&T>0){var N=l-S;switch(m){case"left":N-=h;break;case"center":N-=h/2}var O=u-p-S,P=h+2*S,M=p+2*S;if(D>0){var k=e.fillStyle,L=t.pstyle("text-background-color").value;e.fillStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+D*s+")";"roundrectangle"==t.pstyle("text-background-shape").strValue?r(e,N,O,P,M,2):e.fillRect(N,O,P,M),e.fillStyle=k}if(C>0&&T>0){var A=e.strokeStyle,I=e.lineWidth,R=t.pstyle("text-border-color").value,F=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+R[0]+","+R[1]+","+R[2]+","+T*s+")",e.lineWidth=C,e.setLineDash)switch(F){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=C/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(N,O,P,M),"double"===F){var B=C/2;e.strokeRect(N+B,O+B,P-2*B,M-2*B)}e.setLineDash&&e.setLineDash([]),e.lineWidth=I,e.strokeStyle=A}}var z=2*t.pstyle("text-outline-width").pfValue;if(z>0&&(e.lineWidth=z),"wrap"===t.pstyle("text-wrap").value){var j=i.getPrefixedProperty(a,"labelWrapCachedLines",n),V=p/j.length;switch(b){case"top":u-=(j.length-1)*V;break;case"center":case"bottom":u-=(j.length-1)*V}for(var Y=0;Y<j.length;Y++)z>0&&e.strokeText(j[Y],l,u),e.fillText(j[Y],l,u),u+=V}else z>0&&e.strokeText(c,l,u),e.fillText(c,l,u);0!==x&&(e.rotate(-x),e.translate(-E,-_))}}},e.exports=a},function(e,t,n){"use strict";var r=n(0),i={};i.drawNode=function(e,t,n,i){var o=this,a=void 0,s=void 0,l=t._private,u=l.rscratch,c=t.position();if(r.number(c.x)&&r.number(c.y)&&t.visible()){var d=t.effectiveOpacity(),h=o.usePaths(),p=void 0,f=!1,g=t.padding();a=t.width()+2*g,s=t.height()+2*g,e.lineWidth=t.pstyle("border-width").pfValue;var v=void 0;n&&(v=n,e.translate(-v.x1,-v.y1));for(var y=t.pstyle("background-image"),m=y.value,b=void 0,x=[],w=[],E=m.length,_=0;_<E;_++)if(b=m[_],x[_]=null!=b&&"none"!==b){var D=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",_);w[_]=o.getCachedImage(b,D,function(){t.emitAndNotify("background")})}var T=t.pstyle("background-blacken").value,C=t.pstyle("border-width").pfValue,S=t.pstyle("background-color").value,N=t.pstyle("background-opacity").value*d,O=t.pstyle("border-color").value,P=t.pstyle("border-style").value,M=t.pstyle("border-opacity").value*d;if(e.lineJoin="miter",e.setLineDash)switch(P){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var k=function(){o.fillStyle(e,S[0],S[1],S[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:N)},L=function(){o.strokeStyle(e,O[0],O[1],O[2],arguments.length>0&&void 0!==arguments[0]?arguments[0]:M)},A=t.pstyle("shape").strValue,I=t.pstyle("shape-polygon-points").pfValue;if(h){var R=A+"$"+a+"$"+s+("polygon"===A?"$"+I.join("$"):"");e.translate(c.x,c.y),u.pathCacheKey===R?(p=u.pathCache,f=!0):(p=new Path2D,u.pathCacheKey=R,u.pathCache=p)}var F=function(){if(!f){var n=c;h&&(n={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(p||e,n.x,n.y,a,s)}h?e.fill(p):e.fill()},B=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,r=l.backgrounding,i=0,a=0;a<E;a++)x[a]&&w[a].complete&&!w[a].error&&(i++,o.drawInscribedImage(e,w[a],t,a,n));l.backgrounding=!(i===E),r!==l.backgrounding&&t.updateStyle(!1)},z=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;o.hasPie(t)&&(o.drawPie(e,t,r),n&&(h||o.nodeShapes[o.getNodeShape(t)].draw(e,c.x,c.y,a,s)))},j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=(T>0?T:-T)*t,r=T>0?0:255;0!==T&&(o.fillStyle(e,r,r,r,n),h?e.fill(p):e.fill())},V=function(){if(C>0&&(h?e.stroke(p):e.stroke(),"double"===P)){e.lineWidth=C/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(p):e.stroke(),e.globalCompositeOperation=t}};if("yes"===t.pstyle("ghost").value){var Y=t.pstyle("ghost-offset-x").pfValue,q=t.pstyle("ghost-offset-y").pfValue,X=t.pstyle("ghost-opacity").value,G=X*d;e.translate(Y,q),k(X*N),F(),B(G),z(0!==T||0!==C),j(G),L(X*M),V(),e.translate(-Y,-q)}k(),F(),B(),z(0!==T||0!==C),j(),L(),V(),h&&e.translate(-c.x,-c.y),function(){o.drawElementText(e,t,i)}(),function(){var n=t.pstyle("overlay-padding").pfValue,r=t.pstyle("overlay-opacity").value,i=t.pstyle("overlay-color").value;r>0&&(o.fillStyle(e,i[0],i[1],i[2],r),o.nodeShapes.roundrectangle.draw(e,c.x,c.y,a+2*n,s+2*n),e.fill())}(),e.setLineDash&&e.setLineDash([]),n&&e.translate(v.x1,v.y1)}},i.hasPie=function(e){return e=e[0],e._private.hasPie},i.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),o=t.pstyle("pie-size"),a=r.x,s=r.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,d=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var p=t.pstyle("pie-"+h+"-background-size").value,f=t.pstyle("pie-"+h+"-background-color").value,g=t.pstyle("pie-"+h+"-background-opacity").value*n,v=p/100;v+d>1&&(v=1-d);var y=1.5*Math.PI+2*Math.PI*d,m=2*Math.PI*v,b=y+m;0===p||d>=1||d+v>1||(e.beginPath(),e.moveTo(a,s),e.arc(a,s,c,y,b),e.closePath(),this.fillStyle(e,f[0],f[1],f[2],g),e.fill(),d+=v)}},e.exports=i},function(e,t,n){"use strict";var r={},i=n(1);r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if(t=n[i],t.context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],o=r[3],a=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=s);var l,u=i*a,c=o*a;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var d=n.canvasContainer;d.style.width=i+"px",d.style.height=o+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)l=n.canvases[h],l.width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";for(var h=0;h<t.BUFFER_COUNT;h++)l=n.bufferCanvases[h],l.width=u,l.height=c,l.style.width=i+"px",l.style.height=o+"px";t.textureMult=1,a<=1&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},r.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(e){function t(e,t,n,r,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",u.fillStyle(e,255,255,255,u.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=o}function n(e,n){var i,a,c,d;u.clearingMotionBlur||e!==h.bufferContexts[u.MOTIONBLUR_BUFFER_NODE]&&e!==h.bufferContexts[u.MOTIONBLUR_BUFFER_DRAG]?(i=T,a=_,c=u.canvasWidth,d=u.canvasHeight):(i={x:D.x*v,y:D.y*v},a=E*v,c=u.canvasWidth*v,d=u.canvasHeight*v),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?t(e,0,0,c,d):r||void 0!==n&&!n||e.clearRect(0,0,c,d),o||(e.translate(i.x,i.y),e.scale(a,a)),l&&e.translate(l.x,l.y),s&&e.scale(s,s)}e=e||i.staticEmptyObject();var r=e.forcedContext,o=e.drawAllLayers,a=e.drawOnlyNodeLayer,s=e.forcedZoom,l=e.forcedPan,u=this,c=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,d=u.cy,h=u.data,p=h.canvasNeedsRedraw,f=u.textureOnViewport&&!r&&(u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming),g=void 0!==e.motionBlur?e.motionBlur:u.motionBlur,v=u.motionBlurPxRatio,y=d.hasCompoundNodes(),m=u.hoverData.draggingEles,b=!(!u.hoverData.selecting&&!u.touchData.selecting);g=g&&!r&&u.motionBlurEnabled&&!b;var x=g;r||(u.prevPxRatio!==c&&(u.invalidateContainerClientCoordsCache(),u.matchCanvasSize(u.container),u.redrawHint("eles",!0),u.redrawHint("drag",!0)),u.prevPxRatio=c),!r&&u.motionBlurTimeout&&clearTimeout(u.motionBlurTimeout),g&&(null==u.mbFrames&&(u.mbFrames=0),u.mbFrames++,u.mbFrames<3&&(x=!1),u.mbFrames>u.minMbLowQualFrames&&(u.motionBlurPxRatio=u.mbPxRBlurry)),u.clearingMotionBlur&&(u.motionBlurPxRatio=1),u.textureDrawLastFrame&&!f&&(p[u.NODE]=!0,p[u.SELECT_BOX]=!0);var w=d.style()._private.coreStyle,E=d.zoom(),_=void 0!==s?s:E,D=d.pan(),T={x:D.x,y:D.y},C={zoom:E,pan:{x:D.x,y:D.y}},S=u.prevViewport;void 0===S||C.zoom!==S.zoom||C.pan.x!==S.pan.x||C.pan.y!==S.pan.y||m&&!y||(u.motionBlurPxRatio=1),l&&(T=l),_*=c,T.x*=c,T.y*=c;var N=u.getCachedZSortedEles();if(f||(u.textureDrawLastFrame=!1),f){u.textureDrawLastFrame=!0;if(!u.textureCache){u.textureCache={},u.textureCache.bb=d.mutableElements().boundingBox(),u.textureCache.texture=u.data.bufferCanvases[u.TEXTURE_BUFFER];var O=u.data.bufferContexts[u.TEXTURE_BUFFER];O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,u.canvasWidth*u.textureMult,u.canvasHeight*u.textureMult),u.render({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:c*u.textureMult});var C=u.textureCache.viewport={zoom:d.zoom(),pan:d.pan(),width:u.canvasWidth,height:u.canvasHeight};C.mpan={x:(0-C.pan.x)/C.zoom,y:(0-C.pan.y)/C.zoom}}p[u.DRAG]=!1,p[u.NODE]=!1;var P=h.contexts[u.NODE],M=u.textureCache.texture,C=u.textureCache.viewport;u.textureCache.bb,P.setTransform(1,0,0,1,0,0),g?t(P,0,0,C.width,C.height):P.clearRect(0,0,C.width,C.height);var k=w["outside-texture-bg-color"].value;u.fillStyle(P,k[0],k[1],k[2],w["outside-texture-bg-opacity"].value),P.fillRect(0,0,C.width,C.height);var E=d.zoom();n(P,!1),P.clearRect(C.mpan.x,C.mpan.y,C.width/C.zoom/c,C.height/C.zoom/c),P.drawImage(M,C.mpan.x,C.mpan.y,C.width/C.zoom/c,C.height/C.zoom/c)}else u.textureOnViewport&&!r&&(u.textureCache=null);var L=d.extent(),A=u.pinching||u.hoverData.dragging||u.swipePanning||u.data.wheelZooming||u.hoverData.draggingEles,I=u.hideEdgesOnViewport&&A,R=[];if(R[u.NODE]=!p[u.NODE]&&g&&!u.clearedForMotionBlur[u.NODE]||u.clearingMotionBlur,R[u.NODE]&&(u.clearedForMotionBlur[u.NODE]=!0),R[u.DRAG]=!p[u.DRAG]&&g&&!u.clearedForMotionBlur[u.DRAG]||u.clearingMotionBlur,R[u.DRAG]&&(u.clearedForMotionBlur[u.DRAG]=!0),p[u.NODE]||o||a||R[u.NODE]){var F=g&&!R[u.NODE]&&1!==v,P=r||(F?u.data.bufferContexts[u.MOTIONBLUR_BUFFER_NODE]:h.contexts[u.NODE]);n(P,g&&!F?"motionBlur":void 0),I?u.drawCachedNodes(P,N.nondrag,c,L):u.drawLayeredElements(P,N.nondrag,c,L),u.debug&&u.drawDebugPoints(P,N.nondrag),o||g||(p[u.NODE]=!1)}if(!a&&(p[u.DRAG]||o||R[u.DRAG])){var F=g&&!R[u.DRAG]&&1!==v,P=r||(F?u.data.bufferContexts[u.MOTIONBLUR_BUFFER_DRAG]:h.contexts[u.DRAG]);n(P,g&&!F?"motionBlur":void 0),I?u.drawCachedNodes(P,N.drag,c,L):u.drawCachedElements(P,N.drag,c,L),u.debug&&u.drawDebugPoints(P,N.drag),o||g||(p[u.DRAG]=!1)}if(u.showFps||!a&&p[u.SELECT_BOX]&&!o){var P=r||h.contexts[u.SELECT_BOX];if(n(P),1==u.selection[4]&&(u.hoverData.selecting||u.touchData.selecting)){var E=u.cy.zoom(),B=w["selection-box-border-width"].value/E;P.lineWidth=B,P.fillStyle="rgba("+w["selection-box-color"].value[0]+","+w["selection-box-color"].value[1]+","+w["selection-box-color"].value[2]+","+w["selection-box-opacity"].value+")",P.fillRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]),B>0&&(P.strokeStyle="rgba("+w["selection-box-border-color"].value[0]+","+w["selection-box-border-color"].value[1]+","+w["selection-box-border-color"].value[2]+","+w["selection-box-opacity"].value+")",P.strokeRect(u.selection[0],u.selection[1],u.selection[2]-u.selection[0],u.selection[3]-u.selection[1]))}if(h.bgActivePosistion&&!u.hoverData.selecting){var E=u.cy.zoom(),z=h.bgActivePosistion;P.fillStyle="rgba("+w["active-bg-color"].value[0]+","+w["active-bg-color"].value[1]+","+w["active-bg-color"].value[2]+","+w["active-bg-opacity"].value+")",P.beginPath(),P.arc(z.x,z.y,w["active-bg-size"].pfValue/E,0,2*Math.PI),P.fill()}var j=u.lastRedrawTime;if(u.showFps&&j){j=Math.round(j);var V=Math.round(1e3/j);P.setTransform(1,0,0,1,0,0),P.fillStyle="rgba(255, 0, 0, 0.75)",P.strokeStyle="rgba(255, 0, 0, 0.75)",P.lineWidth=1,P.fillText("1 frame = "+j+" ms = "+V+" fps",0,20);P.strokeRect(0,30,250,20),P.fillRect(0,30,250*Math.min(V/60,1),20)}o||(p[u.SELECT_BOX]=!1)}if(g&&1!==v){var Y=h.contexts[u.NODE],q=u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_NODE],X=h.contexts[u.DRAG],G=u.data.bufferCanvases[u.MOTIONBLUR_BUFFER_DRAG],W=function(e,n,r){e.setTransform(1,0,0,1,0,0),r||!x?e.clearRect(0,0,u.canvasWidth,u.canvasHeight):t(e,0,0,u.canvasWidth,u.canvasHeight);var i=v;e.drawImage(n,0,0,u.canvasWidth*i,u.canvasHeight*i,0,0,u.canvasWidth,u.canvasHeight)};(p[u.NODE]||R[u.NODE])&&(W(Y,q,R[u.NODE]),p[u.NODE]=!1),(p[u.DRAG]||R[u.DRAG])&&(W(X,G,R[u.DRAG]),p[u.DRAG]=!1)}u.prevViewport=C,u.clearingMotionBlur&&(u.clearingMotionBlur=!1,u.motionBlurCleared=!0,u.motionBlur=!0),g&&(u.motionBlurTimeout=setTimeout(function(){u.motionBlurTimeout=null,u.clearedForMotionBlur[u.NODE]=!1,u.clearedForMotionBlur[u.DRAG]=!1,u.motionBlur=!1,u.clearingMotionBlur=!f,u.mbFrames=0,p[u.NODE]=!0,p[u.DRAG]=!0,u.redraw()},100)),r||d.emit("render")},e.exports=r},function(e,t,n){"use strict";var r=n(2),i={};i.drawPolygonPath=function(e,t,n,r,i,o){var a=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],n+s*o[1]);for(var l=1;l<o.length/2;l++)e.lineTo(t+a*o[2*l],n+s*o[2*l+1]);e.closePath()},i.drawRoundRectanglePath=function(e,t,n,i,o){var a=i/2,s=o/2,l=r.getRoundRectangleRadius(i,o);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.arcTo(t+a,n-s,t+a,n,l),e.arcTo(t+a,n+s,t,n+s,l),e.arcTo(t-a,n+s,t-a,n,l),e.arcTo(t-a,n-s,t,n-s,l),e.lineTo(t,n-s),e.closePath()},i.drawBottomRoundRectanglePath=function(e,t,n,i,o){var a=i/2,s=o/2,l=r.getRoundRectangleRadius(i,o);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.lineTo(t+a,n-s),e.lineTo(t+a,n),e.arcTo(t+a,n+s,t,n+s,l),e.arcTo(t-a,n+s,t-a,n,l),e.lineTo(t-a,n-s),e.lineTo(t,n-s),e.closePath()},i.drawCutRectanglePath=function(e,t,n,i,o){var a=i/2,s=o/2,l=r.getCutRectangleCornerLength();e.beginPath&&e.beginPath(),e.moveTo(t-a+l,n-s),e.lineTo(t+a-l,n-s),e.lineTo(t+a,n-s+l),e.lineTo(t+a,n+s-l),e.lineTo(t+a-l,n+s),e.lineTo(t-a+l,n+s),e.lineTo(t-a,n+s-l),e.lineTo(t-a,n-s+l),e.closePath()},i.drawBarrelPath=function(e,t,n,i,o){var a=i/2,s=o/2,l=t-a,u=t+a,c=n-s,d=n+s,h=r.getBarrelCurveConstants(i,o),p=h.widthOffset,f=h.heightOffset,g=h.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(l,c+f),e.lineTo(l,d-f),e.quadraticCurveTo(l+g,d,l+p,d),e.lineTo(u-p,d),e.quadraticCurveTo(u-g,d,u,d-f),e.lineTo(u,c+f),e.quadraticCurveTo(u-g,c,u-p,c),e.lineTo(l+p,c),e.quadraticCurveTo(l+g,c,l,c+f),e.closePath()};for(var o=Math.sin(0),a=Math.cos(0),s={},l={},u=Math.PI/40,c=0*Math.PI;c<2*Math.PI;c+=u)s[c]=Math.sin(c),l[c]=Math.cos(c);i.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var c,d,h=r/2,p=i/2,f=0*Math.PI;f<2*Math.PI;f+=u)c=t-h*s[f]*o+h*l[f]*a,d=n+p*l[f]*o+p*s[f]*a,0===f?e.moveTo(c,d):e.lineTo(c,d);e.closePath()},e.exports=i},function(e,t,n){"use strict";var r=n(2),i=n(1),o=n(8),a=n(16),s={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},l=function(e){var t=this;t.renderer=e,t.onDequeues=[],t.setupDequeueing()},u=l.prototype;u.reasons=s,u.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},u.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{};return n[e]=n[e]||[]},u.getElementQueue=function(){var e=this;return e.eleCacheQueue=e.eleCacheQueue||new o(function(e,t){return t.reqs-e.reqs})},u.getElementIdToQueue=function(){var e=this;return e.eleIdToCacheQueue=e.eleIdToCacheQueue||{}},u.getElement=function(e,t,n,i,o){var a=this,l=this.renderer,u=e._private.rscratch,c=l.cy.zoom();if(0===t.w||0===t.h||!e.visible())return null;if(null==i&&(i=Math.ceil(r.log2(c*n))),i<-4)i=-4;else if(c>=3.99||i>2)return null;var d=Math.pow(2,i),h=t.h*d,p=t.w*d,f=u.imgCaches=u.imgCaches||{},g=f[i];if(g)return g;var v;if(v=h<=25?25:h<=50?50:50*Math.ceil(h/50),h>1024||p>1024||e.isEdge()||e.isParent())return null;var y=a.getTextureQueue(v),m=y[y.length-2],b=function(){return a.recycleTexture(v,p)||a.addTexture(v,p)};m||(m=y[y.length-1]),m||(m=b()),m.width-m.usedWidth<p&&(m=b());for(var x,w=l.eleTextBiggerThanMin(e,d),E=function(e){return e&&e.scaledLabelShown===w},_=o&&o===s.dequeue,D=o&&o===s.highQuality,T=o&&o===s.downscale,C=i+1;C<=2;C++){var S=f[C];if(S){x=S;break}}var N=x&&x.level===i+1?x:null,O=function(){m.context.drawImage(N.texture.canvas,N.x,0,N.width,N.height,m.usedWidth,0,p,h)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,p,v),E(N))O();else if(E(x)){if(!D)return a.queueElement(e,t,x.level-1),x;for(var C=x.level;C>i;C--)N=a.getElement(e,t,n,C,s.downscale);O()}else{var P;if(!_&&!D&&!T)for(var C=i-1;C>=-4;C--){var S=f[C];if(S){P=S;break}}if(E(P))return a.queueElement(e,t,i),P;m.context.translate(m.usedWidth,0),m.context.scale(d,d),l.drawElement(m.context,e,t,w),m.context.scale(1/d,1/d),m.context.translate(-m.usedWidth,0)}return g=f[i]={ele:e,x:m.usedWidth,texture:m,level:i,scale:d,width:p,height:h,scaledLabelShown:w},m.usedWidth+=Math.ceil(p+8),m.eleCaches.push(g),a.checkTextureFullness(m),g},u.invalidateElement=function(e){var t=this,n=e._private.rscratch.imgCaches;if(n)for(var r=-4;r<=2;r++){var o=n[r];if(o){var a=o.texture;a.invalidatedWidth+=o.width,n[r]=null,i.removeFromArray(a.eleCaches,o),t.checkTextureUtility(a)}}},u.checkTextureUtility=function(e){e.invalidatedWidth>=.5*e.width&&this.retireTexture(e)},u.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?i.removeFromArray(n,e):e.fullnessChecks++},u.retireTexture=function(e){var t=this,n=e.height,r=t.getTextureQueue(n);i.removeFromArray(r,e),e.retired=!0;for(var o=e.eleCaches,a=0;a<o.length;a++){var s=o[a],l=s.ele,u=s.level,c=l._private.rscratch.imgCaches;c&&(c[u]=null)}i.clearArray(o),t.getRetiredTextureQueue(n).push(e)},u.addTexture=function(e,t){var n=this,r=n.getTextureQueue(e),i={};return r.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(1024,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=document.createElement("canvas"),i.canvas.width=i.width,i.canvas.height=i.height,i.context=i.canvas.getContext("2d"),i},u.recycleTexture=function(e,t){for(var n=this,r=n.getTextureQueue(e),o=n.getRetiredTextureQueue(e),a=0;a<o.length;a++){var s=o[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,i.clearArray(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),i.removeFromArray(o,s),r.push(s),s}},u.queueElement=function(e,t,n){var i=this,o=i.getElementQueue(),a=i.getElementIdToQueue(),s=e.id(),l=a[s];if(l)l.level=Math.max(l.level,n),l.reqs++,o.updateItem(l);else{var u={ele:e,bb:t,position:r.copyPosition(e.position()),level:n,reqs:1};e.isEdge()&&(u.positions={source:r.copyPosition(e.source().position()),target:r.copyPosition(e.target().position())}),o.push(u),a[s]=u}},u.dequeue=function(e){for(var t=this,n=t.getElementQueue(),i=t.getElementIdToQueue(),o=[],a=0;a<1&&n.size()>0;a++){var l=n.pop();i[l.ele.id()]=null,o.push(l);var u,c=l.ele;u=(!c.isEdge()||r.arePositionsSame(c.source().position(),l.positions.source)&&r.arePositionsSame(c.target().position(),l.positions.target))&&r.arePositionsSame(c.position(),l.position)?l.bb:c.boundingBox(),t.getElement(l.ele,u,e,l.level,s.dequeue)}return o},u.onDequeue=function(e){this.onDequeues.push(e)},u.offDequeue=function(e){i.removeFromArray(this.onDequeues,e)},u.setupDequeueing=a.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,i){for(var o=0;o<t.length;o++){if(r.boundingBoxesIntersect(t[o].bb,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),e.exports=l},function(e,t,n){"use strict";function r(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:t})}function i(e){return e.substr(e.indexOf(",")+1)}function o(e,t,n){var o=t.toDataURL(n,e.quality);switch(e.output){case"blob":return r(i(o),n);case"base64":return i(o);case"base64uri":default:return o}}var a=n(0),s={};s.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},s.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),o=e.full?Math.ceil(r.w):i[2],s=e.full?Math.ceil(r.h):i[3],l=a.number(e.maxWidth)||a.number(e.maxHeight),u=this.getPixelRatio(),c=1;if(void 0!==e.scale)o*=e.scale,s*=e.scale,c=e.scale;else if(l){var d=1/0,h=1/0;a.number(e.maxWidth)&&(d=c*e.maxWidth/o),a.number(e.maxHeight)&&(h=c*e.maxHeight/s),c=Math.min(d,h),o*=c,s*=c}l||(o*=u,s*=u,c*=u);var p=document.createElement("canvas");p.width=o,p.height=s,p.style.width=o+"px",p.style.height=s+"px";var f=p.getContext("2d");if(o>0&&s>0){f.clearRect(0,0,o,s),f.globalCompositeOperation="source-over";var g=this.getCachedZSortedEles();if(e.full)f.translate(-r.x1*c,-r.y1*c),f.scale(c,c),this.drawElements(f,g),f.scale(1/c,1/c),f.translate(r.x1*c,r.y1*c);else{var v=t.pan(),y={x:v.x*c,y:v.y*c};c*=t.zoom(),f.translate(y.x,y.y),f.scale(c,c),this.drawElements(f,g),f.scale(1/c,1/c),f.translate(-y.x,-y.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,o,s),f.fill())}return p},s.png=function(e){return o(e,this.bufferCanvasImage(e),"image/png")},s.jpg=function(e){return o(e,this.bufferCanvasImage(e),"image/jpeg")},e.exports=s},function(e,t,n){"use strict";function r(e){var t=this;t.data={canvases:new Array(u.CANVAS_LAYERS),contexts:new Array(u.CANVAS_LAYERS),canvasNeedsRedraw:new Array(u.CANVAS_LAYERS),bufferCanvases:new Array(u.BUFFER_COUNT),bufferContexts:new Array(u.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color: rgba(0,0,0,0);";t.data.canvasContainer=document.createElement("div");var r=t.data.canvasContainer.style;t.data.canvasContainer.setAttribute("style",n),r.position="relative",r.zIndex="0",r.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),(i.getAttribute("style")||"").indexOf(n)<0&&i.setAttribute("style",(i.getAttribute("style")||"")+n);for(var l=0;l<u.CANVAS_LAYERS;l++){var c=t.data.canvases[l]=document.createElement("canvas");t.data.contexts[l]=c.getContext("2d"),c.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(o.ms()?" -ms-touch-action: none; touch-action: none; ":"")),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(u.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(c),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[u.NODE].setAttribute("data-id","layer"+u.NODE+"-node"),t.data.canvases[u.SELECT_BOX].setAttribute("data-id","layer"+u.SELECT_BOX+"-selectbox"),t.data.canvases[u.DRAG].setAttribute("data-id","layer"+u.DRAG+"-drag");for(var l=0;l<u.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=document.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0,t.data.eleTxrCache=new a(t),t.data.lyrTxrCache=new s(t,t.data.eleTxrCache),t.onUpdateEleCalcs(function(e,n){for(var r=0;r<n.length;r++){var i=n[r],o=i._private.rstyle,a=o.dirtyEvents;i.isNode()&&a&&1===a.length&&a.position||t.data.eleTxrCache.invalidateElement(i)}n.length>0&&t.data.lyrTxrCache.invalidateElements(n)})}var i=n(1),o=n(0),a=n(109),s=n(112),l=r,u=r.prototype;u.CANVAS_LAYERS=3,u.SELECT_BOX=0,u.DRAG=1,u.NODE=2,u.BUFFER_COUNT=3,u.TEXTURE_BUFFER=0,u.MOTIONBLUR_BUFFER_NODE=1,u.MOTIONBLUR_BUFFER_DRAG=2,u.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[u.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[u.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[u.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;u.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},u.usePaths=function(){return c&&this.pathsEnabled},[n(101),n(103),n(102),n(104),n(105),n(106),n(107),n(108),n(110),n(113)].forEach(function(e){i.extend(u,e)}),e.exports=l},function(e,t,n){"use strict";function r(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}var i=n(1),o=n(2),a=n(8),s=n(0),l=n(16),u=function(e,t){var n=this,r=n.renderer=e;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=i.performanceNow()-500,n.skipping=!1,r.beforeRender(function(e,t){n.skipping=t-n.lastInvalidationTime<=250}),n.layersQueue=new a(function(e,t){return t.reqs-e.reqs}),n.eleTxrCache=t,n.setupEleCacheInvalidation(),n.setupDequeueing()},c=u.prototype,d=0,h=Math.pow(2,53)-1;c.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),o=document.createElement("canvas");o.width=r,o.height=i;var a={id:d=++d%h,bb:e,level:t,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,l=-a.bb.x1,u=-a.bb.y1;return s.scale(n,n),s.translate(l,u),a},c.getLayers=function(e,t,n){var r=this,a=r.renderer,s=a.cy,l=s.zoom(),u=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(o.log2(l*t)))<-4)n=-4;else if(l>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var c,d,h=r.layersByLevel,p=Math.pow(2,n),f=h[n]=h[n]||[],g=r.levelIsComplete(n,e);if(g)return f;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return d=h[t],!0},o=function(e){if(!d)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};o(1),o(-1);for(var a=f.length-1;a>=0;a--){var s=f[a];s.invalid&&i.removeFromArray(f,s)}}();var v=function(){if(!c){c=o.makeBoundingBox();for(var t=0;t<e.length;t++)o.updateBoundingBox(c,e[t].boundingBox())}return c};if(r.skipping&&!u)return null;for(var y=null,m=e.length/1,b=!u,x=0;x<e.length;x++){var w=e[x],E=w._private.rscratch,_=E.imgLayerCaches=E.imgLayerCaches||{},D=_[n];if(D)y=D;else{if((!y||y.eles.length>=m||!o.boundingBoxInBoundingBox(y.bb,w.boundingBox()))&&!(y=function(e){e=e||{};var t=e.after;if(v(),c.w*p*(c.h*p)>16e6)return null;var i=r.makeLayer(c,n);if(null!=t){var o=f.indexOf(t)+1;f.splice(o,0,i)}else(void 0===e.insert||e.insert)&&f.unshift(i);return i}({insert:!0,after:y})))return null;d||b?r.queueLayer(y,w):r.drawEleInLayer(y,w,n,t),y.eles.push(w),_[n]=y}}return d||(b?null:f)},c.getEleLevelForLayerLevel=function(e){return e},c.drawEleInLayer=function(e,t,n,i){var o=this,a=this.renderer,s=e.context,l=t.boundingBox();if(0!==l.w&&0!==l.h&&t.visible()){var u=o.eleTxrCache,c=u.reasons.highQuality;n=o.getEleLevelForLayerLevel(n,i);var d=u.getElement(t,l,null,n,c);d?(r(s,!1),s.drawImage(d.texture.canvas,d.x,0,d.width,d.height,l.x1,l.y1,l.w,l.h),r(s,!0)):a.drawElement(s,t)}},c.levelIsComplete=function(e,t){var n=this,r=n.layersByLevel[e];if(!r||0===r.length)return!1;for(var i=0,o=0;o<r.length;o++){var a=r[o];if(a.reqs>0)return!1;if(a.invalid)return!1;i+=a.eles.length}return i===t.length},c.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<t.length;a++)if(i.eles[0]===t[a]){o=a;break}if(o<0)this.invalidateLayer(i);else for(var s=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==t[s+a]){this.invalidateLayer(i);break}}},c.updateElementsInLayers=function(e,t){for(var n=this,r=s.element(e[0]),i=0;i<e.length;i++)for(var o=r?null:e[i],a=r?e[i]:e[i].ele,l=a._private.rscratch,u=l.imgLayerCaches=l.imgLayerCaches||{},c=-4;c<=2;c++){var d=u[c];d&&(o&&n.getEleLevelForLayerLevel(d.level)!==o.level||t(d,a,o))}},c.haveLayers=function(){for(var e=this,t=!1,n=-4;n<=2;n++){var r=e.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t},c.invalidateElements=function(e){var t=this;t.lastInvalidationTime=i.performanceNow(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e){t.invalidateLayer(e)})},c.invalidateLayer=function(e){if(this.lastInvalidationTime=i.performanceNow(),!e.invalid){var t=e.level,n=e.eles;i.removeFromArray(this.layersByLevel[t],e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var r=0;r<n.length;r++){var o=n[r]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},c.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e){var n=e.replacement;if(n||(n=e.replacement=t.makeLayer(e.bb,e.level),n.replaces=e,n.eles=e.eles),!n.reqs)for(var r=0;r<n.eles.length;r++)t.queueLayer(n,n.eles[r])})},c.setupEleCacheInvalidation=function(){var e=this,t=[],n=i.debounce(function(){e.refineElementTextures(t),t=[]},50);e.eleTxrCache.onDequeue(function(e){for(var r=0;r<e.length;r++)t.push(e[r]);n()})},c.queueLayer=function(e,t){var n=this,r=n.layersQueue,i=e.elesQueue,o=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(o[t.id()])return;i.push(t),o[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},c.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<1&&0!==n.size();){var o=n.peek();if(o.replacement)n.pop();else if(o.replaces&&o!==o.replaces.replacement)n.pop();else if(o.invalid)n.pop();else{var a=o.elesQueue.shift();a&&(t.drawEleInLayer(o,a,o.level,e),i++),0===r.length&&r.push(!0),0===o.elesQueue.length&&(n.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}}return r},c.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],r=e.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=e;for(var o=0;o<e.eles.length;o++){var a=e.eles[o]._private,s=a.imgLayerCaches=a.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}},c.requestRedraw=i.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),c.setupDequeueing=l.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:i.noop,shouldRedraw:i.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),e.exports=u},function(e){"use strict";var t={};t.nodeShapeImpl=function(e,t,n,r,i,o,a){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,o);case"polygon":return this.drawPolygonPath(t,n,r,i,o,a);case"roundrectangle":return this.drawRoundRectanglePath(t,n,r,i,o);case"cutrectangle":return this.drawCutRectanglePath(t,n,r,i,o);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,o);case"barrel":return this.drawBarrelPath(t,n,r,i,o)}},e.exports=t},function(e,t,n){"use strict";e.exports=[{name:"null",impl:n(115)},{name:"base",impl:n(97)},{name:"canvas",impl:n(111)}]},function(e){"use strict";function t(e){this.options=e,this.notifications=0}var n=function(){};t.prototype={recalculateRenderedStyle:n,notify:function(){this.notifications++},init:n},e.exports=t},function(e,t,n){"use strict";var r=n(0),i=n(12),o=n(20),a=n(21),s=function(e){return void 0===e&&(e={}),r.plainObject(e)?new i(e):r.string(e)?o.apply(o,arguments):void 0};s.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(s),e.apply(null,t),this},s.version=n(22),s.stylesheet=s.Stylesheet=a,e.exports=s},function(e){"use strict";function t(){this._obj={}}var n=t.prototype;n.set=function(e,t){this._obj[e]=t},n.delete=function(e){this._obj[e]=null},n.has=function(e){return null!=this._obj[e]},n.get=function(e){return this._obj[e]},e.exports=t},function(e,t,n){"use strict";var r=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(17),o=i.stateSelectorRegex,a=n(121),s=n(1),l=n(11),u=function(e){return e.replace(new RegExp("\\\\("+a.metaChar+")","g"),function(e,t){return t})},c=function(e,t,n){t===e[e.length-1]&&(e[e.length-1]=n)},d=[{name:"group",query:!0,regex:"("+a.group+")",populate:function(e,t,n){var i=r(n,1),o=i[0];t.group="*"===o?o:o+"s"}},{name:"state",query:!0,regex:o,populate:function(e,t,n){t.colonSelectors.push(r(n,1)[0])}},{name:"id",query:!0,regex:"\\#("+a.id+")",populate:function(e,t,n){var i=r(n,1);t.ids.push(u(i[0]))}},{name:"className",query:!0,regex:"\\.("+a.className+")",populate:function(e,t,n){var i=r(n,1);t.classes.push(u(i[0]))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+a.variable+")\\s*\\]",populate:function(e,t,n){var i=r(n,1);t.data.push({field:u(i[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+a.variable+")\\s*("+a.comparatorOp+")\\s*("+a.value+")\\s*\\]",populate:function(e,t,n){var i=r(n,3),o=i[0],s=i[1],l=i[2];l=null!=new RegExp("^"+a.string+"$").exec(l)?l.substring(1,l.length-1):parseFloat(l),t.data.push({field:u(o),operator:s,value:l})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+a.boolOp+")\\s*("+a.variable+")\\s*\\]",populate:function(e,t,n){var i=r(n,2),o=i[0];t.data.push({field:u(i[1]),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+a.meta+")\\s*("+a.comparatorOp+")\\s*("+a.number+")\\s*\\]\\]",populate:function(e,t,n){var i=r(n,3),o=i[0],a=i[1],s=i[2];t.meta.push({field:u(o),operator:a,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:a.separator,populate:function(e){var t=e[e.length++]=l();return e.currentSubject=null,t}},{name:"directedEdge",separator:!0,regex:a.directedEdge,populate:function(e,t){var n=l(),r=t,i=l();return n.group="edges",n.target=i,n.source=r,n.subject=e.currentSubject,c(e,t,n),i}},{name:"undirectedEdge",separator:!0,regex:a.undirectedEdge,populate:function(e,t){var n=l(),r=t,i=l();return n.group="edges",n.connectedNodes=[r,i],n.subject=e.currentSubject,c(e,t,n),i}},{name:"child",separator:!0,regex:a.child,populate:function(e,t){var n=l();return n.parent=t,n.subject=e.currentSubject,c(e,t,n),n}},{name:"descendant",separator:!0,regex:a.descendant,populate:function(e,t){var n=l();return n.ancestor=t,n.subject=e.currentSubject,c(e,t,n),n}},{name:"subject",modifier:!0,regex:a.subject,populate:function(e,t){if(null!=e.currentSubject&&t.subject!=t)return s.error("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t,t.subject=t,e[e.length-1].subject=t}}];d.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),e.exports=d},function(e,t,n){"use strict";var r=n(17),i=r.stateSelectorMatches,o=n(0),a=function(e,t){for(var n=!0,r=0;r<e[t.name].length;r++){var i=e[t.name][r],a=i.operator,s=i.value,l=i.field,u=void 0,c=t.fieldValue(l);if(null!=a&&null!=s){var d=o.string(c)||o.number(c)?""+c:"",h=""+s,p=!1;a.indexOf("@")>=0&&(d=d.toLowerCase(),h=h.toLowerCase(),a=a.replace("@",""),p=!0);var f=!1;a.indexOf("!")>=0&&(a=a.replace("!",""),f=!0),p&&(s=h.toLowerCase(),c=d.toLowerCase());var g=!1;switch(a){case"*=":u=d.indexOf(h)>=0;break;case"$=":u=d.indexOf(h,d.length-h.length)>=0;break;case"^=":u=0===d.indexOf(h);break;case"=":u=c===s;break;case">":g=!0,u=c>s;break;case">=":g=!0,u=c>=s;break;case"<":g=!0,u=c<s;break;case"<=":g=!0,u=c<=s;break;default:u=!1}!f||null==c&&g||(u=!u)}else if(null!=a)switch(a){case"?":u=!!c;break;case"!":u=!c;break;case"^":u=void 0===c}else u=void 0!==c;if(!u){n=!1;break}}return n},s=function(e,t,n){if(null!=e){var r=!1;if(!t)return!1;n=n();for(var i=0;i<n.length;i++)if(l(e,n[i])){r=!0;break}return r}return!0},l=function(e,t){if(e.groupOnly)return"*"===e.group||e.group===t.group();if(null!=e.group&&"*"!=e.group&&e.group!=t.group())return!1;var n=t.cy(),r=void 0,o=!0;for(r=0;r<e.colonSelectors.length;r++){if(!(o=i(e.colonSelectors[r],t)))break}if(!o)return!1;var l=!0;for(r=0;r<e.ids.length;r++){var u=e.ids[r],c=t.id();if(!(l=l&&u==c))break}if(!l)return!1;var d=!0;for(r=0;r<e.classes.length;r++){var h=e.classes[r];if(!(d=d&&t.hasClass(h)))break}if(!d)return!1;if(!a(e,{name:"data",fieldValue:function(e){return t.data(e)}}))return!1;if(!a(e,{name:"meta",fieldValue:function(e){return t[e]()}}))return!1;if(null!=e.collection){if(!e.collection.hasElementWithId(t.id()))return!1}if(null!=e.filter&&t.collection().some(e.filter))return!1;var p=n.hasCompoundNodes(),f=function(){return t.source()},g=function(){return t.target()};if(!s(e.parent,p,function(){return t.parent()}))return!1;if(!s(e.ancestor,p,function(){return t.parents()}))return!1;if(!s(e.child,p,function(){return t.children()}))return!1;if(!s(e.descendant,p,function(){return t.descendants()}))return!1;if(!s(e.source,!0,f))return!1;if(!s(e.target,!0,g))return!1;if(e.connectedNodes){var v=e.connectedNodes[0],y=e.connectedNodes[1];if(s(v,!0,f)&&s(y,!0,g));else if(!s(v,!0,g)||!s(y,!0,f))return!1}return!0},u=function(e){var t=this,n=e.cy();if(t.invalid())return n.collection();if(1===t.length&&1===t[0].length&&1===t[0].ids.length)return e.getElementById(t[0].ids[0]).collection();var r=function(e){for(var n=0;n<t.length;n++){if(l(t[n],e))return!0}return!1};return null==t.text()&&(r=function(){return!0}),e.filter(r)};e.exports={matches:function(e){var t=this;if(t.invalid())return!1;for(var n=0;n<t.length;n++){if(l(t[n],e))return!0}return!1},filter:u}},function(e,t,n){"use strict";var r=n(1),i=n(118),o=n(11),a=function(e){for(var t=void 0,n=void 0,r=void 0,o=0;o<i.length;o++){var a=i[o],s=a.name,l=e.match(a.regexObj);if(null!=l){n=l,t=a,r=s;e=e.substring(l[0].length);break}}return{expr:t,match:n,name:r,remaining:e}},s=function(e){var t=e.match(/^\s+/);if(t){e=e.substring(t[0].length)}return e};e.exports={parse:function(e){var t=this,n=t._private.selectorText=e,i=t[0]=o();for(t.length=1,n=s(n);;){var l=a(n);if(null==l.expr)return r.error("The selector `"+e+"`is invalid"),!1;var u=l.match.slice(1),c=l.expr.populate(t,i,u);if(!1===c)return!1;if(null!=c&&(i=c),n=l.remaining,n.match(/^\s*$/))break}for(var d=0;d<t.length;d++){var h=t[d];if(null!=h.subject){for(;h.subject!==h;)if(null!=h.parent){var p=h.parent,f=h;f.parent=null,p.child=f,h=p}else{if(null==h.ancestor)return h.source||h.target||h.connectedNodes?(r.error("The selector `"+t.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"),!1):(r.error("When adjusting references for the selector `"+t.text()+"`, neither parent nor ancestor was found"),!1);var g=h.ancestor,v=h;v.ancestor=null,g.descendant=v,h=g}t[d]=h.subject}}return!0}}},function(e,t,n){"use strict";var r=n(1),i={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:r.regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};i.variable="(?:[\\w-]|(?:\\\\"+i.metaChar+"))+",i.value=i.string+"|"+i.number,i.className=i.variable,i.id=i.variable,function(){var e=void 0,t=void 0,n=void 0;for(e=i.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],i.comparatorOp+="|@"+t;for(e=i.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],t.indexOf("!")>=0||"="!==t&&(i.comparatorOp+="|\\!"+t)}(),e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(5),a={};a.apply=function(e){var t=this,n=t._private,r=n.cy,i=r.collection();n.newStyle&&(n.contextStyles={},n.propDiffs={},t.cleanElements(e,!0));for(var o=0;o<e.length;o++){var a=e[o],s=t.getContextMeta(a);if(!s.empty){i.merge(a);var l=t.getContextStyle(s),u=t.applyContextStyle(s,l,a);n.newStyle||t.updateTransitions(a,u.diffProps),t.updateStyleHints(a)}}return n.newStyle=!1,i},a.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,o=r[i];if(o)return o;for(var a=[],s={},l=0;l<n.length;l++){var u=n[l],c="t"===e[l],d="t"===t[l],h=c!==d,p=u.mappedProperties.length>0;if(h||p){var f=void 0;h&&p?f=u.properties:h?f=u.properties:p&&(f=u.mappedProperties);for(var g=0;g<f.length;g++){for(var v=f[g],y=v.name,m=!1,b=l+1;b<n.length;b++){var x=n[b];if("t"===t[b]&&(m=null!=x.properties[v.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return r[i]=a,a},a.getContextMeta=function(e){var t=this,n="",r=void 0,i=e._private.styleCxtKey||"";t._private.newStyle&&(i="");for(var o=0;o<t.length;o++){var a=t[o];n+=a.selector&&a.selector.matches(e)?"t":"f"}return r=t.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:0===r.length}},a.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},o=0;o<n.length;o++){var a=n[o];if("t"===t[o])for(var s=0;s<a.properties.length;s++){var l=a.properties[s];i[l.name]=l}}return r[t]=i,i},a.applyContextStyle=function(e,t,n){for(var r=this,i=e.diffPropNames,o={},a=0;a<i.length;a++){var s=i[a],l=t[s],u=n.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){var c=o[s]={prev:u};r.applyParsedProperty(n,l),c.next=n.pstyle(s),c.next&&c.next.bypass&&(c.next=c.next.bypassed)}}return{diffProps:o}},a.updateStyleHints=function(e){var t=e._private,n=this;if(!e.removed()){var r=!1;if("nodes"===t.group)for(var i=1;i<=n.pieBackgroundN;i++){var o=e.pstyle("pie-"+i+"-background-size").value;if(o>0){r=!0;break}}t.hasPie=r;var a=e.pstyle("text-transform").strValue,s=e.pstyle("label").strValue,l=e.pstyle("source-label").strValue,u=e.pstyle("target-label").strValue,c=e.pstyle("font-style").strValue,d=e.pstyle("font-size").pfValue+"px",h=e.pstyle("font-family").strValue,p=e.pstyle("font-weight").strValue,f=e.pstyle("text-valign").strValue,g=e.pstyle("text-valign").strValue,v=e.pstyle("text-outline-width").pfValue,y=e.pstyle("text-wrap").strValue,m=e.pstyle("text-max-width").pfValue,b=c+"$"+d+"$"+h+"$"+p+"$"+a+"$"+f+"$"+g+"$"+v+"$"+y+"$"+m;t.labelStyleKey=b,t.sourceLabelKey=b+"$"+l,t.targetLabelKey=b+"$"+u,t.labelKey=b+"$"+s,t.fontKey=c+"$"+p+"$"+d+"$"+h,t.styleKey=Date.now()}},a.applyParsedProperty=function(e,t){var n=this,o=t,a=e._private.style,s=void 0,l=n.types,u=n.properties[o.name].type,c=o.bypass,d=a[o.name],h=d&&d.bypass,p=e._private,f=function(){n.checkZOrderTrigger(e,o.name,d?d.value:null,o.value)};if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(o=t=this.parse(t.name,"bezier",c)),o.delete)return a[o.name]=void 0,f(),!0;if(o.deleteBypassed)return d?!!d.bypass&&(d.bypassed=void 0,f(),!0):(f(),!0);if(o.deleteBypass)return d?!!d.bypass&&(a[o.name]=d.bypassed,f(),!0):(f(),!0);var g=function(){r.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+o.name+"` with data field `"+o.field+"`); try a `["+o.field+"]` selector to limit scope to elements with `"+o.field+"` defined")};switch(o.mapped){case l.mapData:for(var v=o.field.split("."),y=p.data,m=0;m<v.length&&y;m++){y=y[v[m]]}var b=void 0;if(b=i.number(y)?(y-o.fieldMin)/(o.fieldMax-o.fieldMin):0,b<0?b=0:b>1&&(b=1),u.color){var x=o.valueMin[0],w=o.valueMax[0],E=o.valueMin[1],_=o.valueMax[1],D=o.valueMin[2],T=o.valueMax[2],C=null==o.valueMin[3]?1:o.valueMin[3],S=null==o.valueMax[3]?1:o.valueMax[3],N=[Math.round(x+(w-x)*b),Math.round(E+(_-E)*b),Math.round(D+(T-D)*b),Math.round(C+(S-C)*b)];s={bypass:o.bypass,name:o.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!u.number)return!1;s=this.parse(o.name,o.valueMin+(o.valueMax-o.valueMin)*b,o.bypass,"mapping")}s||(s=this.parse(o.name,d.strValue,o.bypass,"mapping")),s||g(),s.mapping=o,o=s;break;case l.data:var O=o.field.split("."),P=p.data;if(P)for(var M=0;M<O.length;M++){var k=O[M];P=P[k]}if(!(s=this.parse(o.name,P,o.bypass,"mapping"))){s=this.parse(o.name,d?d.strValue:"",o.bypass,"mapping")}s||g(),s.mapping=o,o=s;break;case l.fn:var L=o.value,A=L(e);s=this.parse(o.name,A,o.bypass,"mapping"),s.mapping=o,o=s;break;case void 0:break;default:return!1}return c?(o.bypassed=h?d.bypassed:d,a[o.name]=o):h?d.bypassed=o:a[o.name]=o,f(),!0},a.cleanElements=function(e,t){for(var n=this,r=n.properties,i=0;i<e.length;i++){var o=e[i];if(t)for(var a=o._private.style,s=0;s<r.length;s++){var l=r[s],u=a[l.name];u&&(u.bypass?u.bypassed=null:a[l.name]=null)}else o._private.style={}}},a.update=function(){this._private.cy.mutableElements().updateStyle()},a.updateMappers=function(e){for(var t=this,n=this._private.cy,r=n.collection(),i=0;i<e.length;i++){for(var o=e[i],a=o._private.style,s=!1,l=0;l<t.properties.length;l++){var u=t.properties[l],c=a[u.name];if(c&&c.mapping){this.applyParsedProperty(o,c.mapping),s=!0}}s&&(this.updateStyleHints(o),r.merge(o))}return r},a.updateTransitions=function(e,t){var n=this,r=e._private,a=e.pstyle("transition-property").value,s=e.pstyle("transition-duration").pfValue,l=e.pstyle("transition-delay").pfValue;if(a.length>0&&s>0){for(var u={},c=!1,d=0;d<a.length;d++){var h=a[d],p=e.pstyle(h),f=t[h];if(f){var g=f.prev,v=g,y=null!=f.next?f.next:p,m=!1,b=void 0;v&&(i.number(v.pfValue)&&i.number(y.pfValue)?(m=y.pfValue-v.pfValue,b=v.pfValue+1e-6*m):i.number(v.value)&&i.number(y.value)?(m=y.value-v.value,b=v.value+1e-6*m):i.array(v.value)&&i.array(y.value)&&(m=v.value[0]!==y.value[0]||v.value[1]!==y.value[1]||v.value[2]!==y.value[2],b=v.strValue),m&&(u[h]=y.strValue,this.applyBypass(e,h,b),c=!0))}}if(!c)return;r.transitioning=!0,new o(function(t){l>0?e.delayAnimation(l).play().promise().then(t):t()}).then(function(){return e.animation({style:u,duration:s,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),r.transitioning=!1)},a.checkZOrderTrigger=function(e,t,n,r){var i=this.properties[t];null==i.triggersZOrder||null!=n&&!i.triggersZOrder(n,r)||this._private.cy.notify({type:"zorder",eles:e})},e.exports=a},function(e,t,n){"use strict";var r=n(0),i=n(1),o={};o.applyBypass=function(e,t,n,o){var a=this,s=[];if("*"===t||"**"===t){if(void 0!==n)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=u.name,d=this.parse(c,n,!0);d&&s.push(d)}}else if(r.string(t)){var h=this.parse(t,n,!0);h&&s.push(h)}else{if(!r.plainObject(t))return!1;var p=t;o=n;for(var f=Object.keys(p),g=0;g<f.length;g++){var v=f[g],y=p[v];if(void 0===y&&(y=p[i.dash2camel(v)]),void 0!==y){var m=this.parse(v,y,!0);m&&s.push(m)}}}if(0===s.length)return!1;for(var b=!1,x=0;x<e.length;x++){for(var w=e[x],E={},_=void 0,D=0;D<s.length;D++){var T=s[D];if(o){_=E[T.name]={prev:w.pstyle(T.name)}}b=this.applyParsedProperty(w,T)||b,o&&(_.next=w.pstyle(T.name))}b&&this.updateStyleHints(w),o&&this.updateTransitions(w,E,!0)}return b},o.overrideBypass=function(e,t,n){t=i.camel2dash(t);for(var r=0;r<e.length;r++){var o=e[r],a=o._private.style[t],s=this.properties[t].type,l=s.color,u=s.mutiple;if(a&&a.bypass){var c=null!=a.pfValue?a.pfValue:a.value;a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=l?"rgb("+n.join(",")+")":u?n.join(" "):""+n,this.checkZOrderTrigger(o,t,c,n)}else this.applyBypass(o,t,n)}},o.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},o.removeBypasses=function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],o={},a=0;a<t.length;a++){var s=t[a],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),d=o[l.name]={prev:u};this.applyParsedProperty(i,c),d.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,!0)}},e.exports=o},function(e,t,n){"use strict";var r=n(4),i={};i.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},i.containerCss=function(e){var t=this._private.cy,n=t.container();if(r&&n&&r.getComputedStyle)return r.getComputedStyle(n).getPropertyValue(e)},e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(0),o={};o.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},o.getRawStyle=function(e,t){var n=this;if(e=e[0]){for(var i={},o=0;o<n.properties.length;o++){var a=n.properties[o],s=n.getStylePropertyValue(e,a.name,t);null!=s&&(i[a.name]=s,i[r.dash2camel(a.name)]=s)}return i}},o.getIndexedStyle=function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},o.getStylePropertyValue=function(e,t,n){var r=this;if(e=e[0]){var i=r.properties[t];i.alias&&(i=i.pointsTo);var o=i.type,a=e.pstyle(i.name),s=e.cy().zoom();if(a){var l=a.units?o.implicitUnits||"px":null;return l?[].concat(a.pfValue).map(function(e){return e*(n?s:1)+l}).join(" "):a.strValue}}},o.getAnimationStartStyle=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r],a=o.name,s=e.pstyle(a);void 0!==s&&(s=i.plainObject(s)?this.parse(a,s.strValue):this.parse(a,s)),s&&(n[a]=s)}return n},o.getPropsList=function(e){var t=this,n=[],i=e,o=t.properties;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s],u=i[l],c=o[l]||o[r.camel2dash(l)],d=this.parse(c.name,u);d&&n.push(d)}return n},e.exports=o},function(e){"use strict";var t={};t.appendFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,o=r.style||r.css,a=Object.keys(o);t.selector(i);for(var s=0;s<a.length;s++){var l=a[s];t.css(l,o[l])}}return t},t.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},t.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:o})}return e},e.exports=t},function(e,t,n){"use strict";var r=n(1),i=n(0),o=n(2),a={};a.parse=function(e,t,n,o){var a=this;if(i.fn(t))return a.parseImplWarn(e,t,n,o);var s="mapping"===o||!0===o||!1===o||null==o?"dontcare":o,l=[e,t,n,s].join("$"),u=a.propCache=a.propCache||{},c=void 0;return(c=u[l])||(c=u[l]=a.parseImplWarn(e,t,n,o)),(n||"mapping"===o)&&(c=r.copy(c))&&(c.value=r.copy(c.value)),c},a.parseImplWarn=function(e,t,n,i){var o=this.parseImpl(e,t,n,i);return o||null==t||r.error("The style property `%s: %s` is invalid",e,t),o},a.parseImpl=function(e,t,n,a){var s=this;e=r.camel2dash(e);var l=s.properties[e],u=t,c=s.types;if(!l)return null;if(void 0===t||null===t)return null;l.alias&&(l=l.pointsTo,e=l.name);var d=i.string(t);d&&(t=t.trim());var h=l.type;if(!h)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(i.fn(t))return{name:e,value:t,strValue:"fn",mapped:c.fn,bypass:n};var p=void 0,f=void 0;if(!d||a);else{if(p=new RegExp(c.data.regex).exec(t)){if(n)return!1;return{name:e,value:p,strValue:""+t,mapped:c.data,field:p[1],bypass:n}}if(f=new RegExp(c.mapData.regex).exec(t)){if(n)return!1;if(h.multiple)return!1;var g=c.mapData;if(!h.color&&!h.number)return!1;var v=this.parse(e,f[4]);if(!v||v.mapped)return!1;var y=this.parse(e,f[5]);if(!y||y.mapped)return!1;if(v.value===y.value)return!1;if(h.color){var m=v.value,b=y.value;if(!(m[0]!==b[0]||m[1]!==b[1]||m[2]!==b[2]||m[3]!==b[3]&&(null!=m[3]&&1!==m[3]||null!=b[3]&&1!==b[3])))return!1}return{name:e,value:f,strValue:""+t,mapped:g,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:y.value,bypass:n}}}if(h.multiple&&"multiple"!==a){var x=void 0;if(x=d?t.split(/\s+/):i.array(t)?t:[t],h.evenMultiple&&x.length%2!=0)return null;for(var w=[],E=[],_=[],D=!1,T=0;T<x.length;T++){var C=s.parse(e,x[T],n,"multiple");D=D||i.string(C.value),w.push(C.value),_.push(null!=C.pfValue?C.pfValue:C.value),E.push(C.units)}return h.validate&&!h.validate(w,E)?null:h.singleEnum&&D?1===w.length&&i.string(w[0])?{name:e,value:w[0],strValue:w[0],bypass:n}:null:{name:e,value:w,pfValue:_,strValue:w.join(" "),bypass:n,units:E}}var S=function(){for(var r=0;r<h.enums.length;r++){if(h.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(h.number){var N=void 0,O="px";if(h.units&&(N=h.units),h.implicitUnits&&(O=h.implicitUnits),!h.unitless)if(d){var P="px|em"+(h.allowPercent?"|\\%":"");N&&(P=N);var M=t.match("^("+r.regex.number+")("+P+")?$");M&&(t=M[1],N=M[2]||O)}else N&&!h.implicitUnits||(N=O);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=u,S();if(h.integer&&!i.integer(t))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var k={name:e,value:t,strValue:""+t+(N||""),units:N,bypass:n};return k.pfValue=h.unitless||"px"!==N&&"em"!==N?t:"px"!==N&&N?this.getEmSizeInPixels()*t:t,"ms"!==N&&"s"!==N||(k.pfValue="ms"===N?t:1e3*t),"deg"!==N&&"rad"!==N||(k.pfValue="rad"===N?t:o.deg2rad(t)),"%"===N&&(k.pfValue=t/100),k}if(h.propList){var L=[],A=""+t;if("none"===A);else{for(var I=A.split(","),R=0;R<I.length;R++){var F=I[R].trim();s.properties[F]&&L.push(F)}if(0===L.length)return null}return{name:e,value:L,strValue:0===L.length?"none":L.join(", "),bypass:n}}if(h.color){var B=r.color2tuple(t);return B?{name:e,value:B,pfValue:B,strValue:""+t,bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var z=S();if(z)return z}for(var j=h.regexes?h.regexes:[h.regex],V=0;V<j.length;V++){var Y=new RegExp(j[V]),q=Y.exec(t);if(q)return{name:e,value:h.singleRegexMatchValue?q[1]:q,strValue:""+t,bypass:n}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:n}:h.enums?S():null},e.exports=a},function(e,t,n){"use strict";var r=n(1),i=n(0),o={};!function(){var e=r.regex.number,t=r.regex.rgbaNoBackRefs,n=r.regex.hslaNoBackRefs,a=r.regex.hex3,s=r.regex.hex6,l=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},u=function(r){var i=e+"|\\w+|"+t+"|"+n+"|"+a+"|"+s;return"^"+r+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},c=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];o.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:u("mapData")},mapLayoutData:{mapping:!0,regex:u("mapLayoutData")},mapScratch:{mapping:!0,regex:u("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return i.string(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var d={zeroNonZero:function(e,t){return 0===e&&0!==t||0!==e&&0===t},anyDiff:function(e,t){return e!==t}},h=d,p=o.types,f=o.properties=[{name:"label",type:p.text},{name:"text-rotation",type:p.textRotation},{name:"text-margin-x",type:p.bidirectionalSize},{name:"text-margin-y",type:p.bidirectionalSize},{name:"source-label",type:p.text},{name:"source-text-rotation",type:p.textRotation},{name:"source-text-margin-x",type:p.bidirectionalSize},{name:"source-text-margin-y",type:p.bidirectionalSize},{name:"source-text-offset",type:p.size},{name:"target-label",type:p.text},{name:"target-text-rotation",type:p.textRotation},{name:"target-text-margin-x",type:p.bidirectionalSize},{name:"target-text-margin-y",type:p.bidirectionalSize},{name:"target-text-offset",type:p.size},{name:"text-valign",type:p.valign},{name:"text-halign",type:p.halign},{name:"color",type:p.color},{name:"text-outline-color",type:p.color},{name:"text-outline-width",type:p.size},{name:"text-outline-opacity",type:p.zeroOneNumber},{name:"text-opacity",type:p.zeroOneNumber},{name:"text-background-color",type:p.color},{name:"text-background-opacity",type:p.zeroOneNumber},{name:"text-background-padding",type:p.size},{name:"text-border-opacity",type:p.zeroOneNumber},{name:"text-border-color",type:p.color},{name:"text-border-width",type:p.size},{name:"text-border-style",type:p.borderStyle},{name:"text-background-shape",type:p.textBackgroundShape},{name:"text-transform",type:p.textTransform},{name:"text-wrap",type:p.textWrap},{name:"text-max-width",type:p.size},{name:"text-events",type:p.bool},{name:"font-family",type:p.fontFamily},{name:"font-style",type:p.fontStyle},{name:"font-weight",type:p.fontWeight},{name:"font-size",type:p.size},{name:"min-zoomed-font-size",type:p.size},{name:"events",type:p.bool},{name:"display",type:p.display,triggersZOrder:h.anyDiff},{name:"visibility",type:p.visibility,triggersZOrder:h.anyDiff},{name:"opacity",type:p.zeroOneNumber,triggersZOrder:h.zeroNonZero},{name:"z-compound-depth",type:p.zCompoundDepth,triggersZOrder:h.anyDiff},{name:"z-index-compare",type:p.zIndexCompare,triggersZOrder:h.anyDiff},{name:"z-index",type:p.nonNegativeInt,triggersZOrder:h.anyDiff},{name:"overlay-padding",type:p.size},{name:"overlay-color",type:p.color},{name:"overlay-opacity",type:p.zeroOneNumber},{name:"transition-property",type:p.propList},{name:"transition-duration",type:p.time},{name:"transition-delay",type:p.time},{name:"transition-timing-function",type:p.easing},{name:"height",type:p.nodeSize},{name:"width",type:p.nodeSize},{name:"shape",type:p.nodeShape},{name:"shape-polygon-points",type:p.polygonPointList},{name:"background-color",type:p.color},{name:"background-opacity",type:p.zeroOneNumber},{name:"background-blacken",type:p.nOneOneNumber},{name:"padding",type:p.sizeMaybePercent},{name:"padding-relative-to",type:p.paddingRelativeTo},{name:"border-color",type:p.color},{name:"border-opacity",type:p.zeroOneNumber},{name:"border-width",type:p.size},{name:"border-style",type:p.borderStyle},{name:"background-image",type:p.urls},{name:"background-image-crossorigin",type:p.bgCrossOrigin},{name:"background-image-opacity",type:p.zeroOneNumbers},{name:"background-position-x",type:p.bgPos},{name:"background-position-y",type:p.bgPos},{name:"background-width-relative-to",type:p.bgRelativeTo},{name:"background-height-relative-to",type:p.bgRelativeTo},{name:"background-repeat",type:p.bgRepeat},{name:"background-fit",type:p.bgFit},{name:"background-clip",type:p.bgClip},{name:"background-width",type:p.bgWH},{name:"background-height",type:p.bgWH},{name:"position",type:p.position},{name:"compound-sizing-wrt-labels",type:p.compoundIncludeLabels},{name:"min-width",type:p.size},{name:"min-width-bias-left",type:p.sizeMaybePercent},{name:"min-width-bias-right",type:p.sizeMaybePercent},{name:"min-height",type:p.size},{name:"min-height-bias-top",type:p.sizeMaybePercent},{name:"min-height-bias-bottom",type:p.sizeMaybePercent},{name:"line-style",type:p.lineStyle},{name:"line-color",type:p.color},{name:"curve-style",type:p.curveStyle},{name:"haystack-radius",type:p.zeroOneNumber},{name:"source-endpoint",type:p.edgeEndpoint},{name:"target-endpoint",type:p.edgeEndpoint},{name:"control-point-step-size",type:p.size},{name:"control-point-distances",type:p.bidirectionalSizes},{name:"control-point-weights",type:p.numbers},{name:"segment-distances",type:p.bidirectionalSizes},{name:"segment-weights",type:p.numbers},{name:"edge-distances",type:p.edgeDistances},{name:"arrow-scale",type:p.positiveNumber},{name:"loop-direction",type:p.angle},{name:"loop-sweep",type:p.angle},{name:"source-distance-from-node",type:p.size},{name:"target-distance-from-node",type:p.size},{name:"ghost",type:p.bool},{name:"ghost-offset-x",type:p.bidirectionalSize},{name:"ghost-offset-y",type:p.bidirectionalSize},{name:"ghost-opacity",type:p.zeroOneNumber},{name:"selection-box-color",type:p.color},{name:"selection-box-opacity",type:p.zeroOneNumber},{name:"selection-box-border-color",type:p.color},{name:"selection-box-border-width",type:p.size},{name:"active-bg-color",type:p.color},{name:"active-bg-opacity",type:p.zeroOneNumber},{name:"active-bg-size",type:p.size},{name:"outside-texture-bg-color",type:p.color},{name:"outside-texture-bg-opacity",type:p.zeroOneNumber}],g=o.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];o.pieBackgroundN=16,f.push({name:"pie-size",type:p.sizeMaybePercent});for(var v=1;v<=o.pieBackgroundN;v++)f.push({name:"pie-"+v+"-background-color",type:p.color}),f.push({name:"pie-"+v+"-background-size",type:p.percent}),f.push({name:"pie-"+v+"-background-opacity",type:p.zeroOneNumber});var y=o.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:p.arrowShape},{name:"arrow-color",type:p.color},{name:"arrow-fill",type:p.arrowFill}].forEach(function(e){y.forEach(function(t){f.push({name:t+"-"+e.name,type:e.type})})},{}),o.propertyNames=f.map(function(e){return e.name});for(var m=0;m<f.length;m++){var b=f[m];f[b.name]=b}for(var x=0;x<g.length;x++){var w=g[x],E=f[w.pointsTo],_={name:w.name,alias:!0,pointsTo:E};f.push(_),f[w.name]=_}}(),o.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},o.getDefaultProperties=r.memoize(function(){for(var e=r.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=o.pieBackgroundN;n++){e[t.name.replace("{{i}}",n)]=t.value}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(e,t){return o.arrowPrefixes.forEach(function(n){e[n+"-"+t.name]=t.value}),e},{})),t={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name;t[a]=this.parse(a,e[a])}}return t}),o.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.exports=o},function(e,t,n){"use strict";var r=n(1),i=n(6),o={};o.appendFromString=function(e){function t(){s=s.length>l.length?s.substr(l.length):""}function n(){u=u.length>c.length?u.substr(c.length):""}var o=this,a=this,s=""+e,l=void 0,u=void 0,c=void 0;for(s=s.replace(/[\/][*](\s|.)+?[*][\/]/g,"");;){if(s.match(/^\s*$/))break;var d=s.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){r.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+s);break}l=d[0];var h=d[1];if("core"!==h){if(new i(h)._private.invalid){r.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),t();continue}}var p=d[2],f=!1;u=p;for(var g=[];;){if(u.match(/^\s*$/))break;var v=u.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!v){r.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+p),f=!0;break}c=v[0];var y=v[1],m=v[2];if(o.properties[y]){a.parse(y,m)?(g.push({name:y,val:m}),n()):(r.error("Skipping property: Invalid property definition in: "+c),n())}else r.error("Skipping property: Invalid property name in: "+c),n()}if(f){t();break}a.selector(h);for(var b=0;b<g.length;b++){var x=g[b];a.css(x.name,x.val)}t()}return a},o.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},e.exports=o},function(e,t,n){"use strict";var r=n(0);e.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t=4===e.length,n=void 0,r=void 0,i=void 0;return t?(n=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)):(n=parseInt(e[1]+e[2],16),r=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16)),[n,r,i]}},hsl2tuple:function(e){function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if(r=parseInt(c[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,(i=parseFloat(c[2]))<0||i>100)return;if(i/=100,(o=parseFloat(c[3]))<0||o>100)return;if(o/=100,void 0!==(a=c[4])&&((a=parseFloat(a))<0||a>1))return;if(0===i)s=l=u=Math.round(255*o);else{var d=o<.5?o*(1+i):o+i-o*i,h=2*o-d;s=Math.round(255*t(h,d,r+1/3)),l=Math.round(255*t(h,d,r)),u=Math.round(255*t(h,d,r-1/3))}n=[s,l,u,a]}return n},rgb2tuple:function(e){var t=void 0,n=new RegExp("^"+this.regex.rgba+"$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(r.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(e,t,n){"use strict";var r=n(0);e.exports={mapEmpty:function(e){return null==e||0===Object.keys(e).length},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];r.plainObject(a)&&this.error("Tried to set map with object key"),o<n.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},getMap:function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(r.plainObject(a)&&this.error("Tried to get map with object key"),null==(t=t[a]))return t}return t},deleteMap:function(e){for(var t=e.map,n=e.keys,i=n.length,o=e.keepChildren,a=0;a<i;a++){var s=n[a];r.plainObject(s)&&this.error("Tried to delete map with object key");if(a===e.keys.length-1)if(o)for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];o[c]||(t[c]=void 0)}else t[s]=void 0;else t=t[s]}}}},function(e){"use strict";var t="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))";e.exports={regex:{number:t,rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(e){"use strict";function t(e,t){return e<t?-1:e>t?1:0}function n(e,n){return-1*t(e,n)}e.exports={sort:{ascending:t,descending:n}}},function(e,t,n){"use strict";var r=n(19),i=n(0);e.exports={camel2dash:r(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:r(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:r(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},function(e,t,n){"use strict";var r=n(4),i=r?r.performance:null,o={},a=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(r){if(r.requestAnimationFrame)return function(e){r.requestAnimationFrame(e)};if(r.mozRequestAnimationFrame)return function(e){r.mozRequestAnimationFrame(e)};if(r.webkitRequestAnimationFrame)return function(e){r.webkitRequestAnimationFrame(e)};if(r.msRequestAnimationFrame)return function(e){r.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(a())},1e3/60)}}();o.requestAnimationFrame=function(e){s(e)},o.performanceNow=a,o.debounce=n(141),o.now=function(){return Date.now()},e.exports=o},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===t||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){f&&h&&(f=!1,h.length?p=h.concat(p):g=-1,p.length&&a())}function a(){if(!f){var e=r(o);f=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,f=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,c,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:t}catch(e){u=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var h,p=[],f=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||f||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return u[l]={callback:e,args:t},s(l),l++}function i(e){delete u[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(c)setTimeout(a,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{i(e),c=!1}}}}if(!e.setImmediate){var s,l=1,u={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(a,0,e)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(139),n(136))},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(137),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e){var t;t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(t){t.exports=e},function(e){e.exports=t}])})},xczG:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.Popper=t.Target=t.Manager=void 0;var i=n("Lcy3"),o=r(i),a=n("8r+V"),s=r(a),l=n("piIJ"),u=r(l),c=n("4KN3"),d=r(c);t.Manager=o.default,t.Target=s.default,t.Popper=u.default,t.Arrow=d.default}});
//# sourceMappingURL=route-home.chunk.1dd81.js.map